% 月報 2025/01, 2025/02

前に三ヶ月更新って言ったけどね.
新年明けたのにずっと更新されないのは寂しいから.

## Wed 01 Jan 2025
### 16:00:30

akeome!

## Sun 05 Jan 2025
### 16:19:40 *2024年に知って良かったテク*

Shift 押しながらマウスホイールで横スクロールになる.
（最近の）Windows と Mac で使える.

今までは専用の横ホイールがあるマウスを使ってみたりだとか,
特別なマウスジェスチャに自分で割り当てたりしてたけど,
Shift 一つ押すので済むならこれで十分便利だ.

## Mon 06 Jan 2025
### 00:17:13 *VRで寝る*

VRChat.
寝るときはフルトラはやめて三点トラッキングにする.
寝る格好はしたいのでこれを使ってる.
皆これでいいと思う.

{{https://booth.pm/ja/items/5933400}}

機能はいくつかあるけど,

- 睡眠アニメーション
- 足固定

この２つだけを実際には使う.
内部的にはそれぞれ

- rbs_enable_suimin
- rbs_foot_anchor

という2つの bool パラメータが対応している.
MA で導入してる場合パラメータ名は重複防止でリネームされていることに注意.
このリネームは自由にやめさせることができる.

私の場合は, この２つのパラメータがどちらも true であることが寝ていることの判定に等しい.
というわけでこれをそのまま流用して

- 表情固定
- いくつかの（誤爆したらうるさい）ギミックの強制オフ
    - 音が流れるとかパーティクルが出るとか

をさせることにする.

## Tue 07 Jan 2025
### 15:20:23 *VRChat/FPS を上げる*

VRChat をとにかく軽くすることを目指す.

ググって出てきたようなことだけを試した.
正確な計測をしたわけじゃない.
[40FPSを下回ると爆発するワールド](https://planetvrchat.net/archives/2944) で,
昨日までは何もしてない状態で既に FPS 40 前後だったのが,
以下の設定を見直すことで平均50程度になった.
といっても目測だしブレが大きいのだが.
ざっと 10 くらい上がったと主張することにする.

#### 私がやったことリスト

書いてある具体的な値は私の場合の設定値です.

私の場合は GPU は RTX 3060 なので決して性能は高くない.
インターネット環境だけは運良く, VR ゴーグルからでも下り 800Mbps が常に出る.

- VR で遊んでるときはデスクトップウィンドウへのリソースを削減する
    - [[https://docs.vrchat.com/docs/launch-options]]
    - `-screen-width 320 -screen-height 180 -screen-fullscreen 0 --fps=24`
- Virtual Desktop (VD) を使う
    - これは既に使ってたし, これからも使い続ける
        - SteamLink はあるバージョンから, 接続がずっと不安定になったのでVD使用を余儀なくされた
    - 接続の安定性, 画質向上が謳われていて人気
        - 有料だけど買っておけばいいんじゃないかな
- VD の設定を見直す
    - [[https://vrnavi.jp/virtualdesktop-settings/]]
        - ここに全て書いてあります
    - VR Graphics Quality を適切に
        - 使ってる GPU で決める
        - 私はずっと Medium にしていて, これはこのままで
    - Desktop のフレームレートと Bitrate は許されるまで小さく
        - 72fps/24Mbps
    - VR のフレームレートと Bitrate は出来るだけ大きく
        - ゴーグルから見た Wifi 速度で決まる
            - Bitrate は遊びながら変えられるのでちょっとずつ上げて試せばいいんじゃないかな
        - 90fps/240Mbps
    - VR Codec
        - これも Wifi 速度に依ってどれを選ぶか書いてある
        - Auto から H.264+ に変更した
- VRChat の中の設定
    - Avatar Culling
        - 私はいつも 8m/5人 とかくらいにしてる
        - 時と場合で変えてるけど
            - 人数を絞っててもアバターが代わる代わる自分の目の前を通ると, そのたびに新規に読み込まれる
            - 一度読み込まれたアバターのテクスチャは GPU メモリに残っていて解放されない
                - ワールド移動や Rejoin のタイミングで初めてキレイに解放されるようだ
                - (VRAM使用率を観察して得た推測です)
            - 場合によっては 0 人にすることもある
                - フレンドと適宜 Show Avatar したアバターのみが表示されればいいやという場合がある
    - Avatar Nameplate を非表示にする
        - どのくらい意味あるのか分からないけどしてみた
    - その他グラフィクス設定
        - [[https://github.com/shugy0/max-vrchat-fps]]
        - Anti-Aliasing は Disabled でいいと思う
            - 最初ははっきりとカクカクが見えて気持ち悪いけど, 案外慣れるからへーきへーき
        - Mirror は Full じゃないと困る
            - 鏡を見て過ごしてる人はそうでしょ
- SteamVR の設定
    - 90 Hz
        - ヘッドセット本体 (Meta Quest3) も 90Hz なのでそれに揃えておいた
    - Render Resolution (視野面積?)
        - 80%

SteamVR の設定も追加でやったら最終的に 20 FPS 程度向上した.

### 17:42:55

[[cympfh.cc/aiura]] の古い記事が壊れてた.
MathJax 2.x を使ってたのだが, 少なくとも手元の Vivaldi と Google Chrome では数式が期待通りにレンダリングされない.
直してみよう.
再ビルドしまくる.

### 18:19:41

ダメだ.
特に asmcd を使ってるもの, あとなんと graphviz を使ってグラフを描いてるものはビルドできない.
当時と環境が違うのでしょうがないのだが.
何よりチェックするには量が多すぎる.

## Wed 15 Jan 2025
### 12:40:21 *2024年書いてよかった設定とかスクリプトとか*

{{ https://github.com/cympfh/dots }}

{{ https://github.com/cympfh/bin }}

- ターミナル上のファイラとして [oil.nvim](https://github.com/stevearc/oil.nvim) を導入した
    - それまで使ってた ranger をやめた
    - 名前の通り nvim のプラグインなんで, nvim にいないときでもファイル操作をするためだけに nvim を起動してる
        - 私の場合は `alias e=$EDITOR` としてるので `e .` と打つだけですぐに起動する
    - 普通の機能が一通りそろっていて, なによりも, 軽量に確実に動く
- 自動翻訳系
    - [[https://github.com/cympfh/bin/blob/master/translate]], [[https://github.com/cympfh/bin/blob/master/zhcomp]]
    - 裏側は全部 ChatGPT に投げるだけのスクリプト
- codegpt
    - [[https://github.com/cympfh/bin/blob/master/codegpt]]
    - 自然言語で指示してコード片を返すコマンド
        - もちろん裏側は ChatGPT
        - 実際には「Google Spread Sheet で行を固定するにはどうしたらいい？」みたいなことも聞いてる
- edit-command-line
    - [[https://github.com/cympfh/dots/blob/master/zsh/plug/bindkey.zsh#L75]]
    - zsh の中で `<C-e>` するとその時点の zsh のバッファを EDITOR で編集できる
    - 例えば
        - とても長いコマンドを履歴から呼び出す
        - → `<C-e>` で EDITOR が起動する
        - → コマンドを素早く書き換えて保存する
        - → zsh のバッファにそれが入った状態になってる
        - → `Enter` で実行する
- filename コマンド
    - [[https://github.com/cympfh/bin/blob/master/filename]]
    - シェルスクリプトの中で, `/a/b/c/hoge.jpg` という文字列から `hoge.jpg` だったり `/a/b/c/` だったりの部分を取り出したいことがある
    - ちなみに basename コマンドとか dirname コマンドはたぶん標準で入ってるんで本当はそれでもいい
        - じゃあ拡張子は？
    - 例えば
       - `filename /a/b/c/hoge.jpg`
           - `{"basename": "hoge.jpg", "root": "/a/b/c/hoge", "dirname": "/a/b/c", "extension": "jpg", "tail": {"root": "hoge"}}`
- ocr コマンド
    - [[https://github.com/cympfh/bin/blob/master/ocr]]
    - 画像OCRをしてくれる
    - 裏側はやっぱり ChatGPT
        - 文字通り書いてあるテキストをOCRするのと, 内容説明なんかもさせてる
    - これを予め掛けておいて, 画像をキーワードで検索させることができてる
- withcache コマンド
    - [[https://github.com/cympfh/bin/blob/master/withcache]]
    - 任意のコマンドをキャッシュさせるコマンド
    - 今年一番使ってるコマンドがこれだと言える
    - 一回の実行が重たくて, 冪等性のあるコマンド（つまり何度実行しても同じものを返すコマンド）にはとりあえずこれを付ける
        - ネットワーク問い合わせとか, ChatGPT を使うスクリプトとか
    - 二回目以降はキャッシュを使ってくれるので安心して連打できる
    - 例えば
        - `curl http://google.com/` → `withcache curl http://google.com/`

普通サクッとは書けないだろうコマンドが
ChatGPT のお陰で手軽に実現できてしまったのが強いね.

#### 書いたけど別にどうでもよかったもの

- chatgpt.vim
    - vim (nvim) の中で ChatGPT を起動して共同コーディングが出来る
    - 入れた当初は面白かったけど, 今は使ってない
- esh
    - 標準入力を受け取って EDITOR でそれを編集して sh で実行する
    - 時々は使うんだけど, 役に立つ場面が少ない
        - いざ使いたいときにこのコマンドの存在を忘れてる

## Fri 17 Jan 2025
### 16:56:34 *Ctrl-[*

自分は自分で他人は他人

Mac では karabiner があるので,
これを使って `Ctrl-[` を
「IMEをオフにする（英字にする）そして Esc を送る」
にしてる.
完全に Vim 用途だ.

大変便利なので Windows でも再現した.
Windows には AutoHotKey がある.

{{https://qiita.com/kenichiro_ayaki/items/d55005df2787da725c6f}}

これの IME をオフにするという箇所だけ流用してる.

### 16:59:33 *Web広告を拒絶する*

「スマホの画面だと広告の占有率が高すぎるのでスマホで web 閲覧をしない」というようなことを言ってる人を見かけた.
本当にありえる話かもしれない.

「何でも良いので便利で人気のサービスを作る. そしたら人が集まる. そこで広告をペタペタ貼り付けて一儲け」というのは「ビジネスモデル」というにはお粗末だが誰でも真似できるので, とにかく「便利で人気なサービス」の開発部分だけに集中すればよく, それをしたい人にとってはありがたい. でも利用者は？

無料のモノはないので (TANSTAAFL), もしあなたが無料のつもりでサービスを利用してるのであれば, あなたはお客さんなのではなくて, あなたは商品なのだ.
つまりあなた自体が売られている.
もっと普通に言えば, あなたは自身の個人情報を売りに出してその対価としてサービスを使わせて頂いている立場だ.
ある人たちは「私は（大企業, 例えば Google）に自身の個人情報を捧げ, その御蔭でサービスの品質が向上し, 自身にとって便利な存在に成長してくれる」という.
それならそれは良いんだけど, 今の話はそれじゃなくて, 別にあなたの個人情報によってサービスが変わってるんじゃなくて, 成長するのはそのサービスの上にどんな広告をベタベタ貼り付けるかという箇所のアルゴリズムだけだという話.

良い広告とは, あなたの消費行動を促しやすい刺激物のことなんだが, 本当にそれはあなたの生活をより良くしてあなたを心地よくするものですか？
動画を見ていて, ここぞという場面でCMに入るのが品質向上だと思いますか？

- 適切なインターネットブラウザを選ぶ
    - 例えば Firefox はトラッキングを防ぐことができる
        - [[https://support.mozilla.org/ja/topics/tracking-protection/firefox]]
    - 私は Vivaldi を使ってる
        - [[https://help.vivaldi.com/ja/desktop-ja/privacy-ja/tracker-and-ad-blocking/]]
    - 逆に言えば「広告屋側が開発しているブラウザ」は決して選ばないこと
        - Google Chrome のことを言ってるよ
- ブラウザにプラグインをいれる
    - 汎用的な広告ブロック
        - 例えば AdblockPlus
            - 有名どころを選べば間違いない
            - 広告は日々変わり続けているのでアップデートが活発な必要がある
    - サービス特化のプラグイン
        - [Minimal Theme for 𝕏 / Twitter](https://typefully.com/minimal-twitter)
            - 特にタイムラインにしれっと混ざってくる広告はこれで消せる
                - というか, これでしか消せないと思う
            - ついでに「いいね数を非表示にする」とか「For Youは消す」とかやって精神衛生を保ってる
- 金銭を支払うことで広告を消してくれるなら払う
    - そのサービスにその金額の価値があると信じるならね
        - 私は YouTube Premium だけは真面目に払ってる
        - Twitter には払いたくない
- 自分の DNS を使う
    - DNS は通信の監視と広告の遮断が出来る
        - すべてのインターネット通信はまず DNS で名前解決をしてから問い合わせる
        - この DNS で選択的に名前解決を失敗することで通信のブロックができる
    - 私は [NextDNS](https://nextdns.io) を使ってる
        - これ自体は有料のサービス
            - 私は課金してる
            - 無料でもいいけど, 通信量に制限がある
        - 入れたらとりあえず勝手にいろんな箇所から広告が消える
            - 裏のブロックリストを持っていて日々更新されている
        - 全ての環境で使える
            - PC でもいいしスマホでもいいし, MacでもWindowsでもLinuxでもいい
            - そのつもりがあるなら家のルーター自体に導入できる
        - 導入した環境からなら, 全てのネットワーク通信でブロックされる
            - インターネットブラウザはもちろん, 別なアプリからも遮断される
                - 時々これによって困ることもあるので, そういう場合だけ一時的にオフにする
- 諦める
    - スマホからの Twitter は広告がどうしても消せない
        - あのタイムラインに自然に混ざってくるやつのことね
        - スマホから Twitter は見なくていい

私は今書いたもの全てを実践しているので,
「この広告はどれのお陰で消えたのか」というのが実はわかってない.
よく人に「これ入れておけばたぶん消えるよ」と無責任に発言することがあるが, 本当はもはや分からない.

## Tue 28 Jan 2025
### 14:28:26

分かる.

{{https://www.youtube.com/watch?v=ODn-9c_0gbA}}

コンピュータの計算量を言うのにランダウの記号を使うが,
「関数 $f(x)$ は $O(g(x))$ です」という意味で

$$f(x) = O(g(x))$$

としてイコール記号を使っちゃう人がいる.
いるというか, 最も一般的か.

{{https://ja.wikipedia.org/wiki/%E3%83%A9%E3%83%B3%E3%83%80%E3%82%A6%E3%81%AE%E8%A8%98%E5%8F%B7}}

Wikipedia でまさしく上記の例の通りが使われている.

私は $O(-)$ は関数の集合（クラス？）と思うことにしてる.

> $O(g(x))$ は計算量 $g(x)$ の関数全ての集まり.

だから $f(x) \in O(g(x))$ だし,
$O(\log(x)) \subset O(x) \subset O(x^2)$ だと思ってる.

今 Wikipedia をスクロールしていったら全く同じ話が「記法の問題」として書かれてた.
$\in$ 以外に $\leq$ もあるよと言われてるけど $\leq$ は無いかな.
「$O(-)$ は集合」でいいと思うんだけど.

## Fri 31 Jan 2025
### 15:49:00

競技プログラミングをやっていると計算量の見積もりが養われる.
これは本当だし, そしてその教養はめちゃくちゃ大事.
だから競技プログラミングをやらなくてもいいから, 計算量は見積もれるようにしておいてください.

さらに一捻りした教養も大事で.
例えば $O(2^N)$ っていうのは, まだ $N$ が小さい間は全然大きくない.
$N \leq 20$ くらいなら $2^N \leq 10^6$ くらいで, とても実用的.

社内ツールの一つにまさにこれを利用したのがある（私が書いた）.
$N$ 個のモノの中からいくつかを残してその組み合わせで最良のものを選ぶというもの.
実は全通り試せば良いということに2年近く誰にも気づかれず, 野生のカンだったりで組み合わせが選定されていた.

## Mon 03 Feb 2025
### 15:40:32

![](https://i.imgur.com/qyAqmRI.png)

去年に初めて買った当時の日記でも絶賛してたと思う.
今でも愛用している.

これが何かというと, USB Type-C のオスメスそれぞれの先に追加で噛ますアダプターで, Macbook に今でも採用されてる MagSafe のようなものに変換してしまうもの.
Type-C という規格の上にメーカーが勝手に乗っかって勝手に作った独自規格なんで, メーカーごとで互換性は全く無い.
というわけで買うからにはメーカーの選別をしないといけない.
私は MUXER という聞いたこともないメーカーを選んだ.
不満はない.
これのせいで本来の充電速度が出ないとかも, たぶん無さそう.
計測したことはないけど.

さて問題がないということはない.
これを使うというからには, 何度も抜き差しするようなデバイスとケーブルだということだ.
乱暴にマグネット任せでバチンバチンを装着するわけなので, そのピン先への負担は大きい.
本来の USB よりもピンが剥き出しだしマグネットで力強く当てるので耐久性は低いだろう.

通電したらLEDが白く点灯するのだが,
どうしてもこれが点滅して充電ができなくなった.
装着する角度によっては一瞬だけ充電できてしまうので悩んだ.
よく見るとケーブル側のアダプタのピンが一つ折れていた.
ピンセットで無理やり戻しても, 装着するとやっぱり折れてしまう.
基本的に自分で治すのは無理だろう.

予備は必ず持っておこう.
安くはないけど高くもない商品だから.

## Mon 10 Feb 2025
### 15:02:46

昔 Huawei P20 っていうスマホを使ってて,
これのカメラは良かったんだ.
レンズはLaicaのもので, 変な味付けもなくて素直に当時にすれば高画質.
でもそんなことよりもなによりも,
全てのコントロールにマニュアルモードがあった.
つまり絞りも露出も全部自分で決めることができた.

それが当たり前だと思ってしまったから,
もっと高価なスマホなら尚の事だと思ったのだが,
決してそんなことはなくて驚いた.
今まだ使ってる Google Pixel7 はそんな項目は無い.
オートモード一択だからだ.
オートフォーカスが人間より賢ければ良いのだがそんなこともない.
遠くの山々を動画で撮っていると突然とても手前のものにフォーカスを当てる.
どこに焦点を当てるか画面中で指定するのだが,
それも無視する.

高画質でなくてもいい.
「普通のカメラ」が欲しい.

## Thu 13 Feb 2025
### 23:31:43

この頃思ってること：どうせ見返さないのに何GBと写真を贅沢に残しておく価値なんてない.
ストレージを商売にしてる人たちの口車.

### 23:54:07

背乗り（はいのり）

{{https://ja.wikipedia.org/wiki/%E8%83%8C%E4%B9%97%E3%82%8A}}

{{https://lespritsaint.com/?p=21534}}

## Tue 18 Feb 2025
### 14:06:08 *私が信仰してる宗教*

キリの良い commit hash ができたときに限ってバグが入り込んでる.

## Thu 20 Feb 2025
### 17:05:52

Okabe Ito scale

{{https://qiita.com/saka1_p/items/bb4206c6349eb61c073c}}

## Wed 26 Feb 2025
### 14:56:38

胃が痛い

寒いのがいけない.  
運動してないのがいけない.  
コーヒーばっかり一日何杯も飲んでるのがいけない.  
仕事が忙しいのがいけない.

## Fri 28 Feb 2025
### 16:48:40 *Windows の音声入出力設定 - VB-Audio*

何度でもいうけど,
こんなものは Windows 標準で用意してくれ.

![](https://i.imgur.com/LhxxVua.png)

用意するもの

- Voice Meeter
    - [[https://vb-audio.com/Voicemeeter/index.htm]]
    - 「この音声デバイスの出力をこの音声デバイスの入力に流す」という一対多対応付をする
    - 設定できるデバイス数で無料のものから有料のものがある
        - Banana っていうのが無料版で数が制限されてる
            - 「よかったらお金払って！」ってしつこく言われるけど、しばらくはこれでいいよ
- VB-Cable
    - [[https://vb-audio.com/Cable/index.htm]]
    - 純粋に入力と出力があるだけの仮想音声デバイス
    - 一つだけなら無料で使える
        - 増やしたい場合は追加で2本セットが二つある (A+B と C+D)

私がやってること

<center>

```@dot
digraph {
    rankdir=LR;
    VB_0 [shape=box];
    VB_A [shape=box];
    VB_B [shape=box];
    Mic -> VB_0;
    VB_A -> { VB_0 Speaker };
    VB_B -> { Speaker };
    label = "Voicemeeter";
}
```

</center>

マイク (`Mic`) がある.
ここでは一つだけあることになってるが実際にはデスクトップに備え付けてるマイクと, VR HMD 内蔵マイクの二つがある.
それぞれを Voicemeeter で設定してる (HARDWARE INPUT 1, 2).

`Speaker` は自分自身が聞くための音声デバイスで,
これも一つとして書いてるが,
モニタ内蔵スピーカーとヘッドフォンと VR HMD 内蔵スピーカーの3つがある (HARDWARE OUT 1, 2, 3).

`VB_*` は VB-Cable のこと.
上には書かれてないが, それぞれは次のように使い分けてる.
これらはそれぞれのアプリ側で設定する.

<center>

```@dot
digraph {
    subgraph Voicemeeter {
        VB_0 [shape=box];
        VB_A [shape=box];
        VB_B [shape=box];
        label = "Voicemeeter";
    }
    rankdir=LR;
    VB_0 -> { Discord VRChat };
    { ごく一部のアプリ } -> VB_A;
    { ほとんど全てのアプリ } -> VB_B;
}
```

</center>

- VB-0
    - 自分の声が乗ってる
    - 通話アプリのようなものに流して相手に聞かせる
- VB-A
    - アプリケーションから発生して相手に聞かせるもの
- VB-B
    - 自分が聞きたい音声
    - 他の人に聞かせないもの
        - Windows の「規定の音声出力先」にしている

