<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="pandoc">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
  <title>Deep Learning Face Representation from Predicting 10,000 Classes (DeepID)</title>
  <style type="text/css">code{white-space: pre;}</style>
  <link rel="stylesheet" href="../resources/css/c.css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<header class="page-header">
    <a href='index.html'><i class="fa fa-send-o" style="position:absolute; left:0.4em; top:0.4em; width:1.3em;border-radius:0.8em;"></i></a>
</header>
<header>
<h1 class="title">Deep Learning Face Representation from Predicting 10,000 Classes (DeepID)</h1>
</header>
<ul>
<li>
original paper: <a href=http://mmlab.ie.cuhk.edu.hk/pdf/YiSun_CVPR14.pdf>http://mmlab.ie.cuhk.edu.hk/pdf/YiSun_CVPR14.pdf</a>
</li>
</ul>
<div class="is-pulled-right">
<p><a class='tag is-blue' href=index.html#距離学習>距離学習</a> <a class='tag is-blue' href=index.html#類似度学習>類似度学習</a> <a class='tag is-blue' href=index.html#顔認証>顔認証</a></p>
</div>
<h2 id="概要">概要</h2>
<p>顔認証 (Face verification) をする. すなわち２つの画像が与えられて、同一人物かどうかを判定するタスク. <a href="http://vis-www.cs.umass.edu/lfw/">Labeled Faces in the Wild (LFW)</a> というデータセットで 97.45% の Acc を達成.</p>
<h2 id="手法">手法</h2>
<p>顔画像 1 枚から、彼らが DeepID と呼ぶ特徴ベクトルに写す. 画像のペア (つまり２枚) が与えられた時、それぞれを特徴ベクトルに写し、 特徴ベクトル同士を比較することで顔認証を行う.</p>
<p><img src="data:image/png;base64,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"></p>
<h3 id="deepid-の学習">DeepID の学習</h3>
<p>一枚の画像を適当な ConvNet によって 160次元の特徴ベクトル (ひとまずこれを DeepID と呼ぶ) に写す. 画像には 10,000 クラス程度のラベルがついているので、これを予測する形で DeepID を鍛える.</p>
<p><img src="data:image/png;base64,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"></p>
<p>後述するが入力画像のサイズに依らず DeepID は 160 次元に固定している. これは LFW におけるクラスの予測に適当だという判断だと思う.</p>
<h3 id="パッチ">パッチ</h3>
<p>一枚の画像を一回読むだけでは限界がある. というわけで次のような改良を行う.</p>
<p>一枚の画像から複数のパッチを作る. パッチとは矩形の切り抜きのことであるが、 その切り取る箇所や切り取る大きさに関してバリエーションを持たせる.</p>
<p>ただしパッチの数 <span class="math inline">\(k\)</span> は予め決めておき、 <span class="math inline">\(i\)</span> 番目のパッチの作り方は予め定めておいてそれをずっと使う.</p>
<p>パッチの数だけ ConvNet を用意する. <span class="math inline">\(i\)</span> 番目のパッチは <span class="math inline">\(i\)</span> 番目の ConvNet で読む.</p>
<p>入力の大きさはパッチによって異なりうるが、出力は全て同じで 160次元である. これをパッチから生成した DeepID とする.</p>
<p>各 ConvNet 及び DeepID は先述した方法で鍛える.</p>
<p><img src="data:image/png;base64,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"></p>
<p>最終的に得られた <span class="math inline">\(k\)</span> 個の DeepID を結合することで <span class="math inline">\(160k\)</span> 次元の特徴ベクトルを得る. これを改めて、入力画像から得た DeepID と呼ぶ.</p>
<h3 id="細かいこと">細かいこと</h3>
<p>一つのパッチは、入力画像を適切にリサイズした後に、39x31 (縦長) または 31x31 (正方形) で切り出す. とても小さい. 一つの ConvNet 自体も、たった 4層のCNNで出来てる. 畳み込みの直後に relu で活性化し、MaxPooling をする. BatchNormalization はしてないらしい.</p>
<p>パッチの枚数 <span class="math inline">\(k\)</span> はいくつか実験をしているが、基本的に多ければ多いほどよく <span class="math inline">\(k=60\)</span> での最高性能を報告している.</p>
<h2 id="verification">Verification</h2>
<p>与えられた２つの顔画像から先述した方法で各 DeepID を得る. 2つのID <span class="math inline">\(x_1, x_2\)</span> を見て、同一人物かどうか判定する. 一つは Joint Bayesian でやる方法と、適当な NN を組んで識別器を作る方法を提案していて、 前者のほうが 2% 程度よいということ.</p>
<h2 id="感想">感想</h2>
<p>DeepID を verification に使う際に予め DeepID から平均を引き算してから使っている. BatchNormalization を予め仕込んでおいたほうが良かったのではないだろうか.</p>
<!--

  以下を埋め込むと H2 タグを列挙してそれぞれへのリンクにする.
  ただし "INDEX" は除外する.

    <div id=toc></div>


  H2, H3 タグまでを列挙するには以下を埋め込む.

    <div id=toc-level-2></div>

-->
<script>
(function() {

  function naming(obj, name) {
      var PREF = document.createElement('a');
      PREF.name = name;
      obj.appendChild(PREF);
  }

  function level1() {

    var sections = document.getElementsByTagName('h2');
    var OL = document.createElement('ol');
    for (var i=0; i < sections.length; ++i) {
      var LI = document.createElement('li');
      var A = document.createElement('a');
      A.innerHTML = sections[i].innerHTML;
      if (A.innerHTML.toUpperCase() == 'INDEX') continue;
      A.href = '#' + i;
      LI.appendChild(A);
      OL.appendChild(LI);
      naming(sections[i], i);
      // var PREF = document.createElement('a');
      // PREF.name = i;
      // sections[i].appendChild(PREF);
    }

    return OL;
  }

  function level2() {

    var sections = document.querySelectorAll('h2,h3');
    var tree = [];
    for (var i = 0; i < sections.length; ++i) {
      if (sections[i].tagName == 'H2') {
        if (sections[i].innerHTML.toUpperCase() === 'INDEX') continue;
        tree.push([sections[i]]);
      } else {
        if (tree.length > 0) {
          tree[tree.length-1].push(sections[i]);
        } else {
          tree.push([sections[i]]);
        }
      }
    }

    var OL = document.createElement('ol');
    for (var i = 0; i < tree.length; ++i) {

      // h2-level
      var LI = document.createElement('li');
      var A = document.createElement('a');
      A.innerHTML = tree[i][0].innerHTML;
      A.href = '#' + i;
      naming(tree[i][0], i);
      LI.appendChild(A);

      // h3-level
      if (tree[i].length > 1) {
        var OL_sub = document.createElement('ol');
        for (var j = 1; j < tree[i].length; ++j) {
          var LI_sub = document.createElement('li');
          var A = document.createElement('a');
          A.innerHTML = tree[i][j].innerHTML;
          A.href = `#${i}-${j}`;
          naming(tree[i][j], `${i}-${j}`);
          LI_sub.appendChild(A);
          OL_sub.appendChild(LI_sub);
        }
        LI.appendChild(OL_sub);
      }

      OL.appendChild(LI);
    }

    return OL;
  }

  function append_toc() {
    if (document.getElementById('toc')) {
      document.getElementById('toc').appendChild(level1());
    }
    if (document.getElementById('toc-level-2')) {
      document.getElementById('toc-level-2').appendChild(level2());
    }
  }

  window.addEventListener('DOMContentLoaded', append_toc, false);
}());
</script>
</body>
</html>
