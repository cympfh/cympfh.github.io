% 米田の補題
% 2018-11-10 (Sat.)
% 圏論

$\def\op#1{{#1}^{\text{op}}}\def\Nat{\mathit{Nat}}$
極力, 関数適用の括弧や関数合成の $\circ$ は省略する.
例えば $(g \circ f)(x)$ は単に $gfx$ と書く.
また対象 $A$ の上の恒等射を $1_A$ と書き, $A$ がどうでもいいとき単に $1$ と書く.

## 関手 $\mathcal C$

圏 $\def\C{\mathcal C}\C$ において,
その2つの対象 $A,B \in \C$ の間の射を全て集めたものを
$$\C(A,B)$$
だとか
$$\mathrm{Hom}(A,B)$$
だとか書く.
今は単にこれは集合だとする.
つまり $\def\Sets{\mathrm{Sets}}\Sets$ における対象であるとする.

だとすると, コレ自体が関手だと見なせる.

### 関手 $\C(A,-)$

まずは $A$ の部分は固定するとして $B$ 部分を引数にする関手
$$\C(A,-)$$
を次のように定義する.
$$\C(A,-) : \C \to \Sets$$
$$\C(A,-) : B \mapsto \C(A,B)$$
対象の割り当てはこのように定めるが, 射については次のようにする.
$\require{AMScd}$
$$\begin{CD}
B_1 @>f>> B_2 \in \C
\end{CD}$$
について $\C(A,B_1) \to \C(A,B_2)$ なる射を与える必要があるが,
自明なものとして, $f$ を後ろに合成するという関数があり得る.
$$\C(A,f) : \C(A,B_1) \to \C(A,B_2)$$
$$\C(A,f) : g \mapsto f \circ g$$

ただしここで $\C(A,-)(f)$ を $\C(A,f)$ と書いた.

$$\begin{CD}
B_1 @. \C(A,B_1) \ni g \\
@VfVV @V\C(A,f)VV \\
B_2 @. \C(A,B_2) \ni fg \\
\end{CD}$$

以上で定まる $\C(A,-)$ は確かに関手である.
念の為確認しておく.

#### Proof

これが関手であるとは恒等射 $1$ が $1$ に写ることと, 合成について準同型であること.

- $1 \in \C$ について,
$\C(A, 1) = (g \mapsto 1g) = (g \mapsto g) = 1$
なので恒等射.
- $f_1, f_2, f_1f_2 \in \C$ について,
$\C(A, f_1f_2) = (g \mapsto (f_1f_2)g) = (g \mapsto f_1g) (g \mapsto f_2g) = \C(A,f_1) \C(A,f_2)$
なので確かに準同型.

以上よりok.

というわけで, 圏 $\C$ とその中の１つの対象 $A \in \C$ について, 関手
$$\C(A,-) : \C \to \Sets$$
が定義された.

### 関手 $\C(-,B)$

今度は逆に $\C(A,B)$ という射の集合について, $A$ だけを引数にすることで, これが関手になる.
ただし今度は合成するのが前からになる都合上,
$$\op{\C} \to \Sets$$
という関手として定義する.
向きだけが逆な以外は先ほどと全く同様に定義される.

$$\begin{CD}
A_1 @. \C(A_1,B) \ni g \\
@AfAA @V\C(A,f)VV \\
A_2 @. \C(A_2,B) \ni gf
\end{CD}$$

### 関手 $\C(-,-)$

以上2つを組み合わせれば関手
$$\C(-,-) : \op{\C} \times \C \to \Sets$$
が定義される.

対象の割り当てはやはり $(A, B)$ に対して $\C(A,B)$ を射の集まり (集合) として定義する.

射は前後から合成する.
$$\begin{CD}
A_1  @. B_1   @. \C(A_1,B_1) \ni h \\
@AfAA   @VgVV    @V\C(f,g)VV \\
A_2  @. B_2   @. \C(A_2,B_2) \ni ghf \\
\end{CD}$$

## 米田の補題

関手 $F : \op{\C} \to \Sets$ について
$$\Sets^{\op{\C}} (\C(-, C), F) \simeq FC$$
ここで $\Sets^{\op{\C}}$ は関手圏である.

$F$ から $G$ への自然変換の集まりを
$\Nat(F,G)$
と書くことにすれば, 先ほどの主張は
$$\Nat(\C(-, C), F) \simeq FC$$
とも書ける.

また, これと対称的な主張として
$$\Sets^{\op{\C}} (\C(C,-), F) \simeq FC$$
$$\Nat(\C(C,-), F) \simeq FC$$
が成り立つ.

### Proof

一方は他方の対称なので一方だけ証明する.
同型射
$$\Phi : \Nat(\C(-, C), F) \to FC$$
の存在を言うことで, 2つが同型であることを示す.

$s \in \Nat(\C(-,C),F)$ について,
$$\begin{CD}
\C(C,C)     @>s_C>> FC \\
\end{CD}$$
であって $1_C \in \C(C,C)$ なので, $s_C(1_C) \in FC$ である.
そこで
$$\Phi(s) = s_C(1_C)$$
と定義すると,
実はこれが同型射になっている.
全単射であることを示す.

#### $\Phi$ は単射

$s,t \in \Nat(\C(-,C),F)$ について,
$\Phi(s)=\Phi(t)$ を仮定して, $s=t$ を導く.
すなわち,
$$\forall C, s_C(1_C)=t_C(1_C) \implies \forall D, s_D=t_D$$
を示す.

$s$ の自然性より $f \in \C(D,C)$ について

$$\begin{CD}
C     @. \C(C,C)   @>s_C>> FC \\
@AfAA    @V\C(f,C)VV       @VFfVV \\
D     @. \C(D,C)   @>s_D>> FD \\
\end{CD}$$

この右の四角形が $\Sets$ において可換なので
$$s_D f = (Ff) s_C$$
が成り立つ.
同様に $t_D f = (Ff) t_C$ であって, 今 $s_C=S_D$ なので
$$s_D f = t_D f$$
である.
今これは任意の $f \in \C(D,C)$ について成立するので結局
$s_D=t_D$
であって, $D$ も自由に取って良いので
$$s=t$$
が導かれた.

というわけで $\Phi$ は単射.

#### $\Phi$ は全射

任意の $X \in FC$ についてある自然変換 $s$ があって $\Phi(s)=X$ であることを示す.
つまり,
$$\forall X \in FC, \exists s, s_C(1_C) = X$$
を示す.

自然変換 $s$ を定義するには任意の対象 $D$ について,
関数 $s_D : \C(D,C) \to FD$ を定義できればよい.

射 $f : D \to C$ について
$$Ff : FC \to FD$$
$X \in FC$ について $(Ff)X \in FD$ だから,
$$s_D(f) = (Ff)(X)$$
と定義するのが自然.
これによって定義される $s$ を用いると,
$$s_C(1_C) = (F1)(X) = 1(X)=X$$
なので, これが全射性の証拠になっている.

というわけで $\Phi$ は全単射.
というわけで $\Nat(\C(-,C),F)$ と $FC$ は同型.

これとの対称性から
$\Nat(\C(C,-),F)$ と $FC$ との同型も全く同様に示される.

さらに,
$$\Nat(\C(-,-),F) \simeq F$$
も示せる.
