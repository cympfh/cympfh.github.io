<rss version="2.0">
  <channel>
    <lastBuildDate>Sun, 14 Mar 2021 15:32:25 +0900</lastBuildDate>
    <generator>@cympfh</generator>
    <title>cympfh.cc/taglibro</title>
    <link>https://cympfh.cc/taglibro</link>
    <description>@cympfh/taglibro</description>
  <item>
    <title>Sun Mar 14 2021</title>
    <link>https://cympfh.cc/taglibro/2021/03/14</link>
    <description>
      &lt;pre&gt;&lt;code&gt;
## RSS を付けた

この日記のRSSを作った

- [//cympfh.cc/taglibro/rss.xml](https://cympfh.cc/taglibro/rss.xml)

index.html を更新するタイミングで一緒に書き換えるだけ.

## web-manga-check は RSS を吐くようにした

自分が読んでる web 漫画の更新を slack に通知させるために,
自分のサーバで [web-manga-check](https://github.com/cympfh/web-manga-check) というバッチを動かしてた.
これを少し変えて RSS を吐いて, ただそれを返すだけのサーバにしたてあげた.

- [//s.cympfh.cc/rss](http://s.cympfh.cc/rss)

PCでは Firefox の拡張機能で, iPad では Feedly というアプリでチェックしてる, のだけど既読が共有されないのは不便だろうから Feedly だけにしようかな.  広告も特に無いのが良い.

ところで RSS（ないしはAtom）が廃れた理由が分かった.
配信側は広告を差し込むチャンスが無いからだ.
更新内容に記事を入れるという荒業に手を出したのは Twitter タイムラインくらいのもんで,
それでも Twitter API を叩いてその中に広告が混ざって返ってくるようなことはさすがにない.
便利なAPIを提供する以上は行儀よくしないといけなくて, 広告と相性が悪い.
コアな利用者を増やすのにAPIの提供は便利だが, 直接マネタイズにつながらないし, 保守が辛いだけでやめたくなるものだろう.
RSSの提供はそんなに重たい処理ではないだろうから（更新イベントを内部で取って静的なXMLファイルを吐いてホスティングすればいいだけだもの）, コストは大変小さいだろうけど, 今から新しくと考えると, 特段旨味が無い.
それより, 自分たちの web ページに連れて行き, 他のこんな美味しい料理があるよと味見させては中毒にさせつつ広告を目に入れて貰った方が直接の利益につながる.

代わりにハイエナのように恩恵を受けるのがRSSリーダー側だ.
ますます配信側は面白くないだろう.

### 追記

webアプリとして提供してるRSSリーダーは更新頻度などに制限を掛けてお金を取ろうとしているようだということが分かった.
なるほどいやらしい.

## 洗濯機の続き

懸念点は色々あったがトータルでは概ね満足している.
高いお金を払った甲斐はある.

3日か4日に一回, 夜中に回して朝, 目が覚めたら洗濯物を回すということをしている.
乾いた状態の衣服を取り出して畳むだけなら何ということもない.
特に冬場は濡れた状態の衣服を取り出すと手が冷たくなるなんてこともあったけど,
乾いてすぐならなおさら温かくてふかふかの状態のものを取り出すだけなので, 楽だ.

埃がやたらと発生してる.
フィルタがありそこに溜まっている埃は, 簡単に取り出せるように出来ている（なんかへんなスライドをすれば埃がばっと落ちるようになってる）ので何ということもない.
そっちはいい. そういうものとして出来ているのだから.
それよりそれより, ドアを開けてすぐの丸いゴムパッキン一帯に埃が溜まっている.
そちらのほうが大変で, 埃が付着したまま洗濯物を取り出そうとすると当然くっつくのでまず先に埃を拭かないといけない.
これは欠陥では？ と思っている.

## Mar 11

朝八時に起き, TOHO日比谷に映画を見に行った.
見終わったのが1230くらい.
すぐさま家に帰ってそこから仕事をした.

お酒を控えるという自分ルールを設けたが, 無理はしないというルールをここに追加することにした.
&lt;/code&gt;&lt;/pre&gt;
    </description>
    <pubDate>Sun, 14 Mar 2021 00:00:00 +0900</pubDate>
    <guid isPermaLink="true">https://cympfh.cc/taglibro/2021/03/14</guid>
  </item>
  <item>
    <title>Tue Mar 02 2021</title>
    <link>https://cympfh.cc/taglibro/2021/03/02</link>
    <description>
      &lt;pre&gt;&lt;code&gt;
## 洗濯機を買った

ずっと使ってた洗濯機がどうしても運転中に止まる.
止まったら何度か動かし直すとやはり止まったり, たまには最後まで動き終えるので, 使えないことはないのだが,
面倒だし無駄に水道を使うのが嫌なので, 買い替えてしまうことにした.

買い替えた.
事前に人に聞いたり多少調べてはいたけれど, 勢い8割で買ってしまった.

- BD-SG100FL: https://kakaku.com/item/K0001279838/

諸々込みで18万3千円くらいした.
きちんと型落ちを選べば20万円はしないと聞いていたのでそれを目安に選んだ.
それより何より, 搬送してくれるのが一番早かったのがこれだった.
それってつまりヨドバシ（で買ったのだが）の在庫に余ってるという意味なので,
人気がない商品という解釈が可能だ.
買ったその二日後に搬入してもらうことになった.

買ったその晩に, その商品について初めて調べた.
こんなのが出てきた

- [乾燥運転後の洗濯物が下水臭いです。（ドラム式）](https://kadenfan.hitachi.co.jp/support/wash/q_a/a172.html)

ほぼほぼ価格コムの口コミなのだが, ユーザーレビューでそういうのもよく出てくる.
日立だけ乾燥方式が独自で, そういうのがあるらしい.

よっぽど返品交換してもらうか悩んだけど, 到着を待って果たして使ってみた.
新品独特の変な匂いこそあれど, 今の所下水の匂いはしない.
それより, 昨晩に脱いだ服が次の日の朝に着れる状態にあるのは良い.
ただし皺は寄るので, 本当にお気に入りのTシャツなどは乾燥させる前に回収してハンガーに干そうと思った.
&lt;/code&gt;&lt;/pre&gt;
    </description>
    <pubDate>Tue, 02 Mar 2021 00:00:00 +0900</pubDate>
    <guid isPermaLink="true">https://cympfh.cc/taglibro/2021/03/02</guid>
  </item>
  <item>
    <title>Wed Feb 17 2021</title>
    <link>https://cympfh.cc/taglibro/2021/02/17</link>
    <description>
      &lt;pre&gt;&lt;code&gt;
## 最近やってたこと

- cumin のアップデート
- Emacs/org-mode 入門
- journal.vim
- streamlit 入門

## cumin のアップデート

なんと関数を追加した.
ただし条件分岐もないしループもない.
関数はかなり素朴な変数宣言と同じなので再帰しない（宣言時点の環境を捕捉して使うため）.
というわけでかなり単純なマクロ程度にしか使えないと思っている.

関数は変数と全く同様に `let` キーワードで宣言する.
（`fn` キーワードでも良いように何故かなっている）.

```rust
let f(x: Int, name: String) = {{
    value = x + 1,
    name = &quot;Hello, &quot; + name,
}};
f(0, &quot;world&quot;)
```

## Emacs/org-mode 入門

org-mode を使いたいがために Emacs の練習をしていた.
結果使いこなすには程遠いのだが, org-mode の片鱗を見た.
すごい.
何でもかんでもここに詰まっている.

Source Block はメモ帳を瞬時に Jupyter-notebook に変異させる.
しかも複数種類のプログラミング言語を自由に混ぜて使える.
計算結果を gnuplot に繋いで画像を生成して, 画像をそのまま埋め込むことが出来る.
Emacs はなんといっても GUI プログラムなので画像を表示出来るのが強い.
TODO リストは一番素朴な機能を提供してるだけに見えて org-agenda のおかげでかなり立派なTODOアプリとして使える.
テーブル機能はデータをプログラムに渡す事もできるし, なんと org の中で表計算機能自体が組み込まれている.

しかし, 結局 Emacs らしいキーバインドを一つ一つ覚えていくのが辛くて挫折した.

## journal.vim

org-mode の中でも org-journal は普段遣いしてもいいなと思いつつ挫折した.
キーバインドもそうだが, 結局 org ファイルという摩訶不思議なフォーマットが嫌だったのもある.
org-journal は scrapbox と TODO リストの合いの子といった感じ.

- 今日の日付に紐付いたファイルが作られる
- エディタの中にいる時ならいつでも素早くメモを取る体制に入れる
    - コマンド一発で今日のファイルが開く
        - 時刻が記録される
- TODO 的なリストを書けばそれがそこがTODOアプリになる
    - 時刻が記録される
- タグ等を付けて後から全文検索可能

自分が思う org-journal の機能とは何か？ の説明が以上である.
もっとも org-mode は本当に巨大なので, こんなのは機能のごく一部だと言われたところで, 何も驚かないが.

作った: [journal.vim](https://github.com/cympfh/journal.vim)

- `&lt;C-c&gt;&lt;C-j&gt;` で今日のメモがいつでも開く
    - 開くたびに時刻が挿入される
- `&lt;C-c&gt;&lt;C-n&gt;`, `&lt;C-c&gt;&lt;C-p&gt;` で昨日以前のメモを行き来できる
- `&lt;C-c&gt;&lt;C-g&gt;` で全文検索 (ripgrep, grep)
- ハイフンから始まるリストのブロックはTODOリスト

```markdown
- 朝ごはん
    - [ ] お湯を沸かす
    - [ ] お湯を注ぐ
```

特に `- [ ]` とあるとそこはチェックボックス.
チェックボックスが無いのは見出し.

- `&lt;C-c&gt;&lt;C-c&gt;` でTODOの状態を遷移する
    - 見出しの行では頭に `TODO` が付くか, `TODO` が `DONE` になる
        - `DONE` になるときに行末にその時刻が記録される
    - チェックボックスの行では `[ ]` が `[x]` になるか `[x]` が `[ ]` になる
        - `[x]` になるときに行末にその時刻が記録される

```markdown
- TODO 朝ごはん
    - [ ] お湯を沸かす
    - [ ] お湯を注ぐ
```

```markdown
- TODO 朝ごはん
    - [x] お湯を沸かす [2021/02/17 (Wed) 02:38]
    - [ ] お湯を注ぐ
```

```markdown
- TODO 朝ごはん
    - [x] お湯を沸かす [2021/02/17 (Wed) 02:38]
    - [x] お湯を注ぐ [2021/02/17 (Wed) 02:38]
```

```markdown
- DONE 朝ごはん [2021/02/17 (Wed) 02:38]
    - [x] お湯を沸かす [2021/02/17 (Wed) 02:38]
    - [x] お湯を注ぐ [2021/02/17 (Wed) 02:38]
```

時刻情報はうるさく見えるだろうが, Vim 上では背景に溶け込むような色にシンタックスハイライトしている.

## streamlit 入門

[streamlit](https://www.streamlit.io/) のチュートリアルをやって, ドキュメントを一通り読んだ.
これが何かというと Python のライブラリであって,
インタラクティブな関数,
例えばユーザーからテキストの入力を受け取って返す関数とか,
画像を出力（表示）する関数とか,
そういった便利な関数がひたすら生えていて,
あたかも sync な関数として使える.
実際にコードを動かすときは直接動かさずに `streamlit run` というコマンドを経由して起動する.
すると web サーバとして立ち上がって, 入力は web ページ上で行うし, 画像が web ページの上に表示される.
コード上では同期する関数だったが, これらがいい感じに上から実行される.

```python
name = streamlit.text_input(&quot;Fill Your Name&quot;)
if not name:  # 入力が空
    streamlit.warning(&quot;Please Fille Your Name&quot;)
else:
    streamlit.success(f&quot;Hello, {name}!&quot;)
```

この `text_input()` が標準関数の `input()` のように働いてると解釈してくれてよいが,
web ページ上ではこれらが全部インタラクティブに働く.
テキストを変えればもちろんそのたびにそれより後ろのコードが勝手に走り直される.
Vue.js や React のような世界だと思って良いと思う.

何に使えるかというと, フロントエンドの技術にはならない.
なぜなら出来上がりの見た目はいつも同じで, 基本的には上から一列に結果を並べるだけのものだから.
Streamlit は Jupyter Notebook に対して選択肢を一つ増やしてくれる存在だと思う.
Jupyter Notebook は一つの web ページの上でコードの断片とその結果を交互に混ぜて表示するが,
これはコードはコード（しかも好きなエディタで書けばよろしい）, web ページ上はその結果だけを表示してくれる（しかもかなりキレイに）.
もちろんコードを書き換えたら勝手に結果はアップデートされるといった機能は当然ある.
またインタラクティブ要素が本当に充実している（スライダーで数値を指定するとか, いい感じのUIから時刻の範囲を指定するとか） ので,
キレイに仕上げればこれがそのままデモとして人に見せる事ができる.

一方で, Jupyter Notebook はコードを共有したり, 結果込みの静的なファイルの共有といった使い方も出来るが,
逆にそれは Streamlit では出来ない.
自分一人でデータを眺めたり実験するのにこれは使えるが, Jupyter Notebook のすべての用途をこれで食えるわけではない.
&lt;/code&gt;&lt;/pre&gt;
    </description>
    <pubDate>Wed, 17 Feb 2021 00:00:00 +0900</pubDate>
    <guid isPermaLink="true">https://cympfh.cc/taglibro/2021/02/17</guid>
  </item>
  <item>
    <title>Sat Jan 23 2021</title>
    <link>https://cympfh.cc/taglibro/2021/01/23</link>
    <description>
      &lt;pre&gt;&lt;code&gt;
## web-grep を crates に登録した

少し前に。やった。

これで `cargo` が使える環境であれば

```bash
$ cargo install web-grep
```

すれば、たぶん `~/.cargo/bin/` 下に `web-grep` という実行ファイルが出来るから、
ここにパスだけ通してくれれば `web-grep` が使えるようになる。

## web-grep の使い方

### 概要

ドキュメントはかろうじて
[github.com/cympfh/web-grep](https://github.com/cympfh/web-grep)
の README がドキュメントとしてあるかなくらいなんだけど、
全然詳細じゃないし、一度日本語で書いとこうと思う。

予め言っておくと、このコマンドは実態としては tanakh さんによるライブラリである
[github.com/tanakh/easy-scraper](https://github.com/tanakh/easy-scraper)
のインターフェイスでしかないので、
使い方の説明をちゃんとすると、このライブラリの使い方を説明するようなことになってしまう。

web-grep は名前の通り grep を意識しているが、多くのUNIX系コマンドがそうであるように大まかには次のように使える。

```bash
$ curl -sL http://example.com/index.html | web-grep &lt;QUERY&gt;

$ web-grep &lt;QUERY&gt; ./index.html
```

つまり入力は、標準入力として渡すか、第2引数にファイルパスを指定することで与える。
この入力は HTML または XML であることが期待される。
ちなみに現実の web ページの HTML はしばしば XML として正しくなく閉じてるべきタグが閉じていないなどがあるが、
ある程度はいい感じに解釈してパースし、そんなことで実行時エラーは怒らない。

`QUERY` には **HTMLパターン** を記述する。
この説明が web-grep の説明の主となるだろう。

### HTML パターン

HTMLパターンは妥当な HTML （またはXML）文字列であって、いくつかの属性または innerText がプレースホルダーに置き換えられたようなもののこと。
プレースホルダーには3種類あり、無名プレースホルダー、番号プレースホルダー、名前付きプレースホルダーを用意している。
最も単純なのは無名プレースホルダー。

#### 無名プレースホルダー

パターンにちょうど一つしかプレースホルダーを含めなくて良い場合はこれを使う。
`{}` と記述する。
例えば `&lt;a&gt;` タグの innerText にこれを使うならHTMLパターンは

```html
&lt;a&gt;{}&lt;/a&gt;
```

と書く。

`&lt;a&gt;` タグの href 属性にこれを使うなら

```html
&lt;a href={}&gt;&lt;/a&gt;
```

と書く。web-grep は入力からこれらにマッチする innerText もしくは href 属性を全て列挙する。
前者の場合は `&lt;a&gt;` タグ全てを見つけてきて、その innerText 全てを行単位で列挙する。
後者の場合は `&lt;a&gt;` タグであって href 属性を持つようなものにマッチして、その href 属性の中身を列挙する。

パターンにはプレースホルダーとは関係なしに属性を付与することで、マッチする条件を追加できる。

```html
&lt;a class=&quot;title&quot; href={}&gt;&lt;/a&gt;
```

これは href 属性を持ち、`title` クラスを持つ `&lt;a&gt;` のその href 属性を列挙する。
例えば

```html
&lt;a class=&quot;title hoge&quot; href=&quot;fuga&quot;&gt;piyo&lt;/a&gt;
```

にマッチして `fuga` を出力する。

#### 番号プレースホルダー

パターンに複数のプレースホルダーを使いたい場合に使う。
しかも出力をタブ区切りにしたいときは番号プレースホルダーにすれば、その番号の順番で出力する。

番号付きのプレースホルダーは `{1}`, `{2}`, `{3}` などと書く。1 から始まることに注意。
0 スタートでもよかったけど、awk とかでもフィールド番号は `$1` から始まって `$0` には特別な意味をもたせてるしな。

```html
&lt;a href=&quot;{1}&quot;&gt;{2}&lt;/a&gt;
```

これは href 属性を持つ `&lt;a&gt;` タグにマッチする。
そして href 属性と innerText をタブ区切りで出力する。
区切り文字は `-F` オプションで変更もできる。

```bash
$ echo &#39;&lt;a href=HOGE&gt;hoge&lt;/a&gt;&lt;a href=FUGA&gt;fuga&lt;/a&gt;&#39; | web-grep &#39;&lt;a href={1}&gt;{2}&lt;/a&gt;&#39;
HOGE    hoge
FUGA    fuga

$ echo &#39;&lt;a href=HOGE&gt;hoge&lt;/a&gt;&lt;a href=FUGA&gt;fuga&lt;/a&gt;&#39; | web-grep &#39;&lt;a href={2}&gt;{1}&lt;/a&gt;&#39;
hoge    HOGE
fuga    FUGA
```

#### 名前付きプレースホルダー

自由に名前を付けて `{text}` とか `{href}` といったプレースホルダーを使う事ができる。

```html
&lt;a href={href}&gt;{text}&lt;/a&gt;
```

ただし単にこれをクエリに web-grep しても出力は今までのようにタブ区切りで出力する。
その順番は名前の辞書順なので、固定ではあるのだが、使う側としては何番目がどのプレースホルダーへのマッチなのか分かりにくいと思う。
そこで `--json` フラグを付けてもらうと、出力を JSON の辞書にする。

```bash
$ echo &#39;&lt;a href=&quot;aaa&quot;&gt;bbb&lt;/a&gt;&#39; | web-grep &#39;&lt;a href={href}&gt;{text}&lt;/a&gt;&#39;
aaa     bbb

$ echo &#39;&lt;a href=&quot;aaa&quot;&gt;bbb&lt;/a&gt;&#39; | web-grep &#39;&lt;a href={href}&gt;{text}&lt;/a&gt;&#39; --json
{&quot;href&quot;:&quot;aaa&quot;,&quot;text&quot;:&quot;bbb&quot;}
```

`jq` のおかげでコマンドライン上でJSONを扱うのはそう難しくなくなった。
実は今までの方法では問題があって、マッチしたテキスト全てを列挙するため、元々改行が含まれているテキストなのか、複数がマッチしたのかの区別がつかなかった。

```bash
$ echo &#39;&lt;a&gt;hoge
quote&gt; fuga&lt;/a&gt;&#39; | web-grep &#39;&lt;a&gt;{}&lt;/a&gt;&#39;
hoge
fuga

$ echo &#39;&lt;a&gt;hoge&lt;/a&gt;&lt;a&gt;fuga&lt;/a&gt;&#39; | web-grep &#39;&lt;a&gt;{}&lt;/a&gt;&#39;
hoge
fuga
```

`--json` の場合は改行も含めて正確にシリアライズしたものを出力するのでこれらを区別できる。

```bash
$ echo &#39;&lt;a&gt;hoge
fuga&lt;/a&gt;&#39; | web-grep &#39;&lt;a&gt;{text}&lt;/a&gt;&#39; --json
{&quot;text&quot;:&quot;hoge\nfuga&quot;}

$ echo &#39;&lt;a&gt;hoge&lt;/a&gt;&lt;a&gt;fuga&lt;/a&gt;&#39; | web-grep &#39;&lt;a&gt;{text}&lt;/a&gt;&#39; --json
{&quot;text&quot;:&quot;hoge&quot;}
{&quot;text&quot;:&quot;fuga&quot;}
```

### マッチング

ここらへん形式的に書くの大変そうだけど、パターンはもっと入り組んだものを書いてもいい。
まず、よく出てきた

```html
&lt;a&gt;{}&lt;/a&gt;
```

というパターンだが、これは `&lt;a&gt;` タグ直下の innerText という意味 **ではなく**、
`&lt;a&gt;` タグより下にある innerText という意味。

```bash
$ echo &#39;&lt;a&gt;AAA&lt;div&gt;BBB&lt;/div&gt;&lt;/a&gt;&#39; | web-grep &#39;&lt;a&gt;{}&lt;/a&gt;&#39;
AAA
BBB

$ echo &#39;&lt;a&gt;AAA&lt;div&gt;BBB&lt;/div&gt;&lt;/a&gt;&#39; | web-grep &#39;&lt;a&gt;&lt;div&gt;{}&lt;/div&gt;&lt;/a&gt;&#39;
BBB

$ echo &#39;&lt;a&gt;AAA&lt;div&gt;BBB&lt;/div&gt;&lt;/a&gt;&#39; | web-grep &#39;&lt;a&gt;{}&lt;div&gt;&lt;/div&gt;&lt;/a&gt;&#39;
AAA

$ echo &#39;&lt;a&gt;AAA&lt;div&gt;BBB&lt;/div&gt;&lt;/a&gt;&#39; | web-grep &#39;&lt;a&gt;&lt;div&gt;&lt;/div&gt;{}&lt;/a&gt;&#39;
```

最後のケースはマッチするものが無いので何も出力しない。

パターンに具体的に innerText を書いてもいい。完全に一致する場合にマッチする。

```bash
$ echo &#39;&lt;a&gt;AAA&lt;div&gt;BBB&lt;/div&gt;&lt;/a&gt;&#39; | web-grep &#39;&lt;a&gt;{}&lt;div&gt;BBB&lt;/div&gt;&lt;/a&gt;&#39;
AAA

$ echo &#39;&lt;a&gt;AAA&lt;div&gt;BBB&lt;/div&gt;&lt;/a&gt;&#39; | web-grep &#39;&lt;a&gt;{}&lt;div&gt;B&lt;/div&gt;&lt;/a&gt;&#39;
```
&lt;/code&gt;&lt;/pre&gt;
    </description>
    <pubDate>Sat, 23 Jan 2021 00:00:00 +0900</pubDate>
    <guid isPermaLink="true">https://cympfh.cc/taglibro/2021/01/23</guid>
  </item>
  <item>
    <title>Mon Jan 18 2021</title>
    <link>https://cympfh.cc/taglibro/2021/01/18</link>
    <description>
      &lt;pre&gt;&lt;code&gt;
## 日記

### 2021/01/15 (Fri.)

ヘッドホン（WH-1000XM4）を買った.
木曜の夕方にAmazonで買ったら金曜日の朝に届いた.
ヨドバシエクストリーム並にAmazonがここまで早く届けてくれるのは驚いた.
ヘッドホンというのは生まれてはじめてで、今までイヤホンしかしたことがなかった.
何と言っても私はメガネだから.
電気屋さんでこのヘッドホンは何度か試していて、かなりふかふかで耳に優しいのは分かってた.
それでも４時間位ずっとつけっぱなしだとさすがに痛くなる.
それから、耳あて部分が暖かく発熱して、寒い外を歩きながらだとそれがよくわかった.
今の季節なら防寒用耳あてだが、夏場は外では使わないだろうな.
ノイキャン性能、すごい.
接続性、すごい.
これまで使ってた Sennheiser のイヤホン、一体なんだったんだ…
SONY製品には当然のようにNFCがついていて便利だし、マルチポイントというらしいが、同時に2台に接続しておける！
実際にはスマホアプリを使いたいので内の一台は常にスマホに接続して、もう一台をパソコンだったりiPadだったりwalkmanだったりで行き来してる.

### 2021/01/16 (Sat.)

起きたらテレビがつけっぱなしで、ちょうど実写版の銀魂がやってた.
それを眺めてたら映画が見たくなった.
エヴァを新作を控え、映画館では以前のエヴァ劇場版がリバイバル放映している.
「Air/まごころを君に」が今からちょうどいい時間にやってたので見てきた.
何かで何度か見たことあるし、カットされまくりの地上波再放送でも見たことはあったけど、フルで劇場版で見るのは正真正銘初めて.
すごく長かった.
映画の途中に休憩を挟むというのは2019年の大晦日に見てきたサタンタンゴ以来だ.

### 2021/01/17 (Sun.)

家にずっといた.
具体的に何をしてたというわけでもなく、一日が終わった.
&lt;/code&gt;&lt;/pre&gt;
    </description>
    <pubDate>Mon, 18 Jan 2021 00:00:00 +0900</pubDate>
    <guid isPermaLink="true">https://cympfh.cc/taglibro/2021/01/18</guid>
  </item>
  <item>
    <title>Mon Jan 11 2021</title>
    <link>https://cympfh.cc/taglibro/2021/01/11</link>
    <description>
      &lt;pre&gt;&lt;code&gt;
## 日記

月曜日が成人式の日だったというわけで三連休だった.
年末年始も東京にしっかり引きこもって寝てたわけだが、なんだか休んだ気がせず終わったのだった.
世間が忙しそうに、また楽しそうにイベントで大はしゃぎしているその声だけが私のところに届いて、何かしなければという焦りだけあってただ終わった.
年末年始よりもこの三連休のほうが長かったような錯覚さえある.
というわけで、ずっと積んでたエロゲの「ぬきたし」と [Educational DP Contest](https://atcoder.jp/contests/dp) で解けずに放置していたP問題以降を埋めた.

「ぬきたし」は購入したのが去年の9月末でちょうど文鳥をお迎えする直前だった.
それでも岬ルートだけは終わらせていて今は七瀬ルートを少しずつ進めてる.
ゲームっていうかページ送りがゆっくりゆっくりな小説だからね.
最初から書籍で出版して欲しい.

Educational DP Contest は名前の通り教育的なDPの問題を26問集めたもの.
以下学んだ概念.

- 有限集合の部分集合とその部分集合の列挙
    - 本当は ABC187 で学んでた
- 全方位木DP
- Convex-Hull Trick

計算量削減のための補助としてセグ木を使うのはDPだと決め打ってるのもあって自然に出てくるけど、本番で出来るかどうか.
「この方針だと計算量がオーバーするけど、そのまま考えを進めてくと計算量削減の方法が見える」
みたいなのは解法までストレートに考え進めるわけじゃなくて一回迂回しないといけないので難しそう.

V問題以降は特に解説を見まくってそれで通した.
来週また何も見ずに解けるかというと、怪しいですね.
次は Typical DP Contest を解き進めます.

## ブログの整理

放置してた hatena diary の方を復活させよう.
相変わらず日記はここに書くつもりだけど、もっとゴミみたいな記事を書くのに使う.

- [F*your Internet](https://cympfh.hatenadiary.com/entry/2021/01/11/230643)

逆に hatenablog や tumblr は削除した.
zenn.dev, note.com, qiita.com もあるけどいらん記事削除して置いておく.
hatenablog は数式が書けない（頑張れば書けるけど）のが致命的なのが未だにそのままになってる.
競プロの解説記事（自分が書くこと滅多にないかもだけど）だけは zenn.dev に書くだろうなと思う.

&lt;div class=&quot;youtube&quot; src-id=&quot;HOlEiX49Aqk&quot;&gt;&lt;/div&gt;
&lt;/code&gt;&lt;/pre&gt;
    </description>
    <pubDate>Mon, 11 Jan 2021 00:00:00 +0900</pubDate>
    <guid isPermaLink="true">https://cympfh.cc/taglibro/2021/01/11</guid>
  </item>
  <item>
    <title>Wed Jan 06 2021</title>
    <link>https://cympfh.cc/taglibro/2021/01/06</link>
    <description>
      &lt;pre&gt;&lt;code&gt;
## 夢日記

### 01/01
部屋の壁紙がめちゃくちゃに剥がれてた

### 01/03
文字列の数を数えてた

### 01/05
蜘蛛を食べる。火事を眺める。

### 01/06
文鳥に人間のような顔があって, 表情があった.

## 会社を休んで統計2級を受験してきた

CBT方式という, 会場に行ってそこのパソコンで受けるタイプ.
問題が紙じゃなくてモニタに映し出されるのをじっと睨んで, 計算用紙はあるけれど, 数値を読み取って中央値はどれだとかやらされるのは辛かった.
試験が終わると即座に結果レポートが渡される.
内容は3つのセクションに別れていたらしかった.
結果レポートを見て初めて知ったのだが.

1. 1変数/2変数記述統計の分野
2. データ収集/確率/分布の分野
3. 推定/検定/線形モデルの分野

合格点は100点中の一律60点と決まっていて, だからこそ, 試験が終了するとともに合否が得られる.
全体では83点とまずまずだったが, セクションごとでは

1. 100%
2. 100%
3. 57%

というなかなかギリギリな結果だった.
準一級は気が向いたら目指します.
&lt;/code&gt;&lt;/pre&gt;
    </description>
    <pubDate>Wed, 06 Jan 2021 00:00:00 +0900</pubDate>
    <guid isPermaLink="true">https://cympfh.cc/taglibro/2021/01/06</guid>
  </item>
  <item>
    <title>Tue Dec 29 2020</title>
    <link>https://cympfh.cc/taglibro/2020/12/29</link>
    <description>
      &lt;pre&gt;&lt;code&gt;
## 2018年6月17日試験 - 統計2級過去問

100点中60点で合格（CBT検定の場合）.
問題数は34問.
配点が分かんないから正確なことは言えないんだけど, 問題数で言って7割か8割まで正答できれば安心する.
2割間違えていいので, 7問くらいは間違えても良い.

### 問1
#### (1)

- 総得点の分布はそのままをプロットしたものなので, スケールが40とか50とかになっているIIIしかありえない
- 標準化得点はこの値を標準化したもので, 平均が0で標準偏差が1になるはずなのでスケールをみたらIしかありえない. II だとしたら標準偏差が大きすぎるから
- 偏差は残りのII

#### (2)

平均と標準偏差はそれぞれ 54.45, 11.77 と与えられている.
なので平均から二倍以上離れているというのは 「31未満または78以上」くらいだと分かる.
そのようなチームは名古屋一つだけ.

### 問2
#### (1)

- I: 大雑把にそう見えるかどうか. 見える
- II: 東京都が外れ値なのは確かだし, 相関係数って二乗誤差回帰みたいなもんなので, こういう影響を強く受ける
- III: 相関があるという関係を見いだせる

#### (2)

- I: 人口 500 万人くらいのところ見ると一番上に北海道があるのでこれは誤り
- III: 人口 500 万人以上だけを見た場合を言ってる. 普通に右肩上がりなので正の相関係数がある

I も III も誤りであることと選択肢から, II は正しいことがすでに言える.

- II: [変動係数](https://bellcurve.jp/statistics/course/5929.html) とは標準偏差を平均値で割った値
    - 変動係数の単位は人口関係なくて単に床数
        - 人口あたりに換算すればそれだけ数が減るのはそれはそう

#### (3)

- I: そう
- II: 常識を働かせれば疑似相関だし人口に比例するだけの話でしかない
    - 人口の影響を取り除いた2つの相関係の図がその残差同士のプロット
    - ほとんどが (0, 0) に集中してるのを見ると, 実はこの2つに関係は大してない
- III: ふざけてる

### 問3
#### (1)

ローレンツ曲線が何か分かんないけど, 累積和のグラフであることは見れば分かる.
[ここ](http://www.pref.toyama.jp/sections/1015/ecm/back/2005apr/shihyo/)
によればローレンツ曲線というのは所得の累積比をグラフにしたものらしい.

さて横軸 20% 時点での値がおよそ 8% くらいなので, スウェーデンかドイツかに絞られる.
表を見るとこの2つの国はほぼほぼ同じような分布をしていてこんなもん問題に出すなバカ検定と思うが,
40% 時点の値が 23% に見えるならスウェーデンが答えで, 21.5% に見えるならドイツが答え.
私には 21.5 に見えた.

#### (2)

ジニ係数とは, 均等分布線とローレンツ曲線に囲まれた弧みたいなとこの面積の, 下三角形の面積に対する比のこと.
これがゼロであるほど「経済格差が少ない」ということになってる.

ここで図示されてるローレンツ曲線は所詮, 多角形なので気合入れれば面積は計算できる.
横軸と縦軸を $[0, 1]$ にスケールさせてその面積は,

$$S = \frac{1}{2} \times 0.2 \times \left(
(0 + (0.2-0.084))
+ ((0.2-0.084) + (0.4 - 0.215))
+ ((0.4 - 0.215) + (0.6 - 0.387))
+ ((0.6 - 0.387) + (0.8 - 0.614))
+ ( (0.8 - 0.614) + 0)
\right) = 0.14$$

下三角の面積はもちろん $1/2$.
ジニ係数とはこれの比なので $0.28$.

#### (3)

- I. 原理的にはありえるが, 一般にはなさそう
- II. ジニ係数は大きいのが不平等であることなので明らかに誤り
- III. 確かに平等線より遠いしそれは不平等であることを表す

### 問4
#### (1)

基準となる2010年の値を $x_0$, 今気にしてる2011年の値を $x$ とすると,
知りたい変化率とは
$$\frac{x - x_0}{x_0}.$$

#### (2)

パーセントによる $100$ の倍率は無視して雑に書くと,
$$100 = 89.5 (1 + r)^5$$
であるということ.
これを $r$ について解けばよい.

### 問5

[フィッシャーの三原則](https://bellcurve.jp/statistics/course/12744.html)
をただ覚えるだけ.
反復 (replication), 無作為化 (randomzation), 局所管理 (local control).

### 問6
性別という層に分けてそれぞれから抽出する方法を行っている.
これが層化抽出.

### 問7
#### (1)
ちゃんと計算したら $pq + (1-p)qp$

#### (2)
UTU で勝つ確率は $pq + (1-q)qp$.
$p&lt;q$ を当てはめると直観に反して TUT で戦う方が有利.

### 問8

$\def\N{\mathcal N}$ $\mu = 4000, \sigma=500$ として, 正規分布 $\N(\mu,\sigma)$ を考える.

#### (1)

標準化すれば,
$P_{\N(\mu,\sigma)}[\geq 4800] = P_{\N(0,1)}[\geq (4800 - \mu)/\sigma]$.
テーブルの $u=1.6$ のところの確率を読み取れば良い.

#### (2)

去年と今年の料金は独立に同じ $\N(\mu,\sigma^2)$ からサンプリングされてきたとして, その差を考えたらよい.
つまり2つの同じ正規分布の差がどんな分布になるかを考えたらよい.

一般に2つの独立な確率変数

- $X \sim \N(\mu_1, \sigma_1^2)$
- $Y \sim \N(\mu_2, \sigma_2^2)$
- 実定数 $a,b$

について

$$aX + bY \sim \N(a \mu_1 + b \mu_2, a^2 \mu_1^2 + b^2 \mu_2^2)$$

が成り立つ.
これを確認するのは結局ガウス積分を考えないといけないので大変そう.

というわけで, $\N(\mu, \sigma^2)$ どうしの差の分布は
$$\N(0, 2 \sigma^2)$$
になることが分かる.

この分布で $800$ 以上を取る確率というのは $\N(0,1)$ で $800 / \sqrt{2 \sigma^2}$ 以上を取る確率.

#### (3)

一昨年の値, 去年の値, 今年の値を $a,b,c$ とする.
これらは同じ確率分布から取ってきてるんだから全く対等.
つまり $P[a&lt;b]$ と $P[b&lt;a]$ は等確率.

さて今は $a,b,c$ の大小関係を考えてるが, 小さい順に並べるとそれは $3!$ 通りあって,
今年の $c$ が最大であるのはその内の $2!$ 通り.
よって答えは $2!/3! = 1/3$.

### 問9
#### (1)

$VX = EX^2 - E^2X$ から $EX^2$ は求まる.
同様に $EY^2$ も求まる.

$\def\Cov#1{\mathrm{Cov}[#1]}$
$$\Cov{X,Y} = E( (X-EX) (Y-EY) ) = E(XY) - EX~EY$$
という定義だけ覚えておけばこれは普通に計算可能.

#### (2)

期待値に関しては線形性から普通に

- $EU = 4$
- $EV = -10$
- $E(UV) = -41.8$

が分かって, $\Cov{U,V} = -41.8 - 4 \times (-10) = -1.8$.

$\Cov{U,V} = \Cov{3X-2, -2Y-4} = 3 \Cov{X,-2Y-4} = 3 \times (-2) \times \Cov{X,Y}$ というのも成り立つんでそれでぱっと計算するのがたぶん一番正しい.

相関係数は
$$r_{U,V} = \frac{\Cov{U,V}}{\sqrt{ VU~VV }}$$
で求まるけど,
この選択肢の場合は正負だけチェックすればよくて $\Cov{U,V}$ と同じ符号を持つはずなのでマイナスなものを選べば良い.

### 問10

標本分布の話をしている.

母集団の分散 $\sigma$ を使った推定をするときは
$$Z = \frac{\overline{X} - \mu}{\sigma / \sqrt{n}}$$
を使ってこれは正規分布に従う.

不偏分散 $S$ を使った推定をするときは
$$Z = \frac{\overline{X} - \mu}{\sigma / \sqrt{n}}$$
を考え, これは自由度 $\nu = n-1$ の t 分布に従う.

#### (1)

$\sigma$ が与えられているので正規分布に従う.
考えてる確率は絶対値を見てるので両側95%な点を読めば良く, $Q(u) = 0.025$ になるのは $u=1.96$.

また所望の確率は
$$\begin{align}
P \left[ \| \overline{X} - \mu \| &lt; 0.5 \right]
&amp; = P \left[ \| \frac{\overline{X} - \mu}{\sigma / \sqrt{n}} \| &lt; \frac{0.5}{\sigma / \sqrt{n}} \right] \\
&amp; = P \left[ \| (\overline{X} - \mu) \sqrt{n} \| &lt; \sqrt{n} / 2 \right]
\end{align}$$

$\sqrt{n}/2=1.96$ くらいになるのを探せばよくてこれはだいたい 16 くらい.

#### (2)

こちらは $\nu = n-1 = 19$ 自由度の t 分布を気にしていて,
その両側 95% になるのは $t_\alpha = 2.093$.
この数字と $\sqrt{20}$ という値が出現する式は選択肢中に一つしかないので答えが決定する.

### 問11

野球をするかどうかのベルヌーイ分布（幾何分布）.
野球をする人口についての分布を取ればその平均と分散は

- $\mu = np$
- $\sigma^2 = np(1-p)$
    - 覚えろ

で与えられる. そして統計検定では幾何分布のその形は正規分布と近似して扱う.

#### (1)

正規分布における両側95%を与えるのは $u=1.96$.

野球人口についての確率は以下の通り.

$$\begin{align}
\N(\mu = np, \sigma^2 = np(1-p))[\|x\| &lt; 1.96]
&amp; = \N(0,1)[\|x\| &lt; np + 1.96 \sqrt{np(1-p)}]
\end{align}$$

さらに今は比率を考えてるので全部を $n$ で割れば良くて,
$$\N(0,1)[\|p = x/n\| &lt; p + 1.96 \sqrt{p(1-p)/n}$$

この $&lt;$ の右が今求めてるもの.

#### (2)

まず母比率だがこれは野球人口の和をとって $N_1+N_2$ で割れば得られる.
ここで選択肢の 1,2 のどちらかだとわかる.
さて標準誤差は雰囲気でわかって, $N_1, N_2$ の影響がないはずがないので, 2 と決まる.

### 問12

一旦捨てます

#### (1)

#### (2)

### 問13

第一種過誤は false positive.
$H_0$ が正しいときに棄却する確率 $\alpha$.
第二種過誤は false negative,
$H_1$ が正しいときに $H_0$ を棄却しない確率 $\beta$.
検出力とは $1-\beta$ のこと.
つまり棄却すべきときに棄却をする確率のこと.

有意水準は $\alpha$ に関して言っていて,
予め決めた有意水準よりこれが下回っていれば, その結果は有意であると考える.

#### (1)

- $\alpha = P_{H_0}[X \leq 3] = 0.3$
- $\beta = P_{H_1}[X &gt; 3] = 0.1$
- 検出力は $1-\beta=0.9$

#### (2)

$\alpha_I = 0.3$,
$\alpha_{II} = 0.2$,
$\alpha_{III} = 0.3$.

$\beta_I = 0.1$,
$\beta_{II} = 0.3$,
$\beta_{III} = 1.0$,

特に検定IIIの検出力はゼロ.

### 問14

#### (1)

慎重に Estimate の係数を掛けて足すと得られる.
慎重に電卓を叩くとよい.

#### (2)
一旦捨てで...

#### (3)

- I: `Pr(&gt;|t|)` の値が小さいほど有意. 1% より小さいのは2つ
- II: 係数が正なので, 高くなれば高くなる
- III: Adjusted R-squared をみるとほぼ 0.58 になってる

### 問15
#### (1)

表ではサンプル数 365 点での観測度数が与えられている.
ここから季節に関して冬季である確率, 風向きについて北風である確率が尤度推定出来る.
この問で求められているのはこれらの確率が独立だと過程すると, 冬季の北が何点になるかを聞いている.

- サンプル数 $n=365$,
- 冬季の確率 $p = 120/365$,
- 北風の確率 $q = 207 / 365$.

以上について $npq$ が求める答え.

#### (2)

各項目（ここでは季節と風向きによる4通り）についての実測度数 $x$ と期待度数 $e$ によって,
$$\sum_i \frac{(x-e)^2}{e}$$
がカイ二乗統計量.

#### (3)

捨て

### 問16

捨て

---

合計6問を捨てた.
&lt;/code&gt;&lt;/pre&gt;
    </description>
    <pubDate>Tue, 29 Dec 2020 00:00:00 +0900</pubDate>
    <guid isPermaLink="true">https://cympfh.cc/taglibro/2020/12/29</guid>
  </item>
  <item>
    <title>Sun Dec 27 2020</title>
    <link>https://cympfh.cc/taglibro/2020/12/27</link>
    <description>
      &lt;pre&gt;&lt;code&gt;
## cumin/wasm, try-cumin-online

cumin を wasm にビルドして web ページの上で遊べるようにした.

wasm にビルド出来るようにした変更はこれ:

- [github.com/cympfh/cumin/commit/8fd952ec7fc31d1336ec2731c3b5ff6ce8212f74](https://github.com/cympfh/cumin/commit/8fd952ec7fc31d1336ec2731c3b5ff6ce8212f74)

実際の変更はかなり小さくて, Cargo.toml にちょっと設定増やして, `wasm-pack build` を叩くようにするだけ.
ビルド時にブラウザで読めるような wasm を生成するために
`--target no-modules`
が必要.
ある文書によればこれは古い方法で `--target web` で生成するらしいけど,
それで生成する wasm をブラウザで読む方法が分からなかった.
wasm 周りで一番大変だったのが, ブラウザ上でロードする部分.
さて `wasm-pack` したら `./pkg` 以下に出来る wasm ファイルが欲しかった wasm ファイル本体.

非本質的な変更として.
wasm にエクスポートするインターフェイスとなる関数は原始的な型しか扱えない.
例えば Result 型なんてもってのほかで, タプルなんかを返り値にする関数をそのままエクスポートできない.
（自分で IntoWasmAbi トレイトを実装すればこの限りではないが.）
今はものすごく簡単に, `Fn(&amp;str) -&gt; String` な関数一個をエクスポートしている.
Cumin コードを受け取ったら JSON をシリアライズした文字列を返す.
これは失敗し得る処理なのでエラーも返せないといけないんだけど, JSON 文字列が返ってきたら成功で,
JSON 文字列でなかったら失敗時のエラーメッセージになっていることとしている（！）.
また元の `eval` ではファイルシステムを扱う.
なぜなら `use` 文でファイルを参照して読み込むような機構が用意してあるからだ.
ブラウザで動く wasm は当然ファイルシステムを持たない.
これをビルドしようとしたら静かに失敗してしまった.
応急的な処置として, `eval` からファイルシステムを抜いただけの `eval_wasm` を新たに生やした.

wasm を読む web ページの例はこれ:

- [github.com/cympfh/try-cumin-online](https://github.com/cympfh/try-cumin-online)

`wasm-pack` で生成した pkg フォルダごと丸々コピーして置いちゃってる.
これの [index.html](https://github.com/cympfh/try-cumin-online/blob/main/index.html) の `wasm_bindgen` 云々が本質.

この web ページは次のURLから実際にアクセスできる:

- [cympfh.cc/try-cumin-online/](https://cympfh.cc/try-cumin-online/)

URL の hash 部分 (`#...`) に Cumin コードを埋め込むことが出来るようにしておいた.
Cumin のドキュメントの端々にコードを埋め込んだリンクを置いておけば, すぐにそれを実行することが出来て便利じゃないかと思っている.

こんな感じ:

- [try-cumin-online/#Ly8g5L6LCjEyMw==](https://cympfh.cc/try-cumin-online/#Ly8g5L6LCjEyMw==)
- [try-cumin-online/#Ly8g56m65qeL6YCg5L2TCnN0cnVjdCBYe30KWCgp](https://cympfh.cc/try-cumin-online/#Ly8g56m65qeL6YCg5L2TCnN0cnVjdCBYe30KWCgp)
- [try-cumin-online/#Ly8gTnVsbOioseWuueaWh+Wtl+WIl+Wei+OBrumFjeWIlwpsZXQgeHM6IEFycmF5PE9wdGlvbjxTdHJpbmc+PiA9IFsKICBTb21lKCJob2dlIiksCiAgU29tZSgi44GT44KT44Gr44Gh44KPIiksCiAgTm9uZSwKXTsKeHM=](https://cympfh.cc/try-cumin-online/#Ly8gTnVsbOioseWuueaWh+Wtl+WIl+Wei+OBrumFjeWIlwpsZXQgeHM6IEFycmF5PE9wdGlvbjxTdHJpbmc+PiA9IFsKICBTb21lKCJob2dlIiksCiAgU29tZSgi44GT44KT44Gr44Gh44KPIiksCiAgTm9uZSwKXTsKeHM=)
&lt;/code&gt;&lt;/pre&gt;
    </description>
    <pubDate>Sun, 27 Dec 2020 00:00:00 +0900</pubDate>
    <guid isPermaLink="true">https://cympfh.cc/taglibro/2020/12/27</guid>
  </item>
  <item>
    <title>Thu Dec 17 2020</title>
    <link>https://cympfh.cc/taglibro/2020/12/17</link>
    <description>
      &lt;pre&gt;&lt;code&gt;
## cumin v0.9.8

- [cympfh/cumin/releases/tag/0.9.8](https://github.com/cympfh/cumin/releases/tag/0.9.8)

### 合併型を入れた

[前回](https://cympfh.cc/taglibro/2020/12/15) の一番最後にラスト草案として書いたものを採用して実装した.

```rust
type T = A | B | C;
```

はおよそ
$$T = A \cup B \cup C$$
を表している.
そしてまた, $T$ は恒等射 $T \to T$ を表す.
あるいは, もっと実際的には $A \to T$ と $B \to T$ と $C \to T$ の3つの包含写像を1つにマージしてしまったような関数.

これは暗黙的なキャストとしては **実行されない**.

```rust
type T = Nat | String;
let t: T = 1;  // ERROR!
let t = T(1);  // OK
```

有用性という意味では $A,B,C$ は排反であって $T$ がちょうど直和になってるくらいがいいけど,
実際はただの和集合であって何も気にしない.
特に cumin は意味を JSON で与える.
型 `A` がついた値 $a$ の意味が $\overline{a}$ のとき,
$T(a)$ の意味は尚も $\overline{a}$ である.

### nom に切り替えた

パーサーコンビネータライブラリとして combine 4.4.0 を使ってたけど nom 6 に変更した.
使い心地としては combine の方が気の利いたAPIが細やかに用意されていて気に入っていた.
例えば `1 + 2 + 3` みたい数式のパースには [chainl1](https://docs.rs/combine/4.3.2/combine/fn.chainl1.html) がちょうど便利だ.
nom でコレに一番近いのが [fold_many1](https://docs.rs/nom/6.0.1/nom/multi/fn.fold_many1.html) だけど, そのものじゃないし, コレ何が便利なの？
ていうかそういう問題じゃなくて, combine を使ったパーサーのコンパイルは平気で三分程度掛かる.
再帰をするパーサー関数は `parser!{}` マクロに包まないと行けないのでその中では rustfmt が効かない.
といった実用上の不便が大きかった.
nom に置き換えてコンパイルは10秒で終わるし（ライブラリのコンパイルを全部含めても50秒あれば終わるし）
マクロを一切使わずにコード量は削減した.

そろそろさすがに満を持して何でもやれるという気持ちになってきた.
これからどうしよう.

## cumin HEAD

### use 文を追加した

モジュールには文だけを書くことが出来る.
struct や enum や type の定義だけを別のファイルに切り出してモジュールとし, これを use 文で読み込める.
use も文なのでモジュールからまた別のモジュールを読める.

名前が衝突していた場合に, 現状, 何も警告をしないし, いずれかで上書きされるだけである.
単に処理系がその名前に出会った順番で一番最後のもので上書きされるはずだが, 特に何かを保証してるわけではない.

```rust
// mod.cumin
struct P {
    x: Int,
    y: Int,
}
```

```rust
use &quot;mod.cumin&quot;;

[
    P(0, 1),
    P(2, 3),
]
```
&lt;/code&gt;&lt;/pre&gt;
    </description>
    <pubDate>Thu, 17 Dec 2020 00:00:00 +0900</pubDate>
    <guid isPermaLink="true">https://cympfh.cc/taglibro/2020/12/17</guid>
  </item>
  <item>
    <title>Tue Dec 15 2020</title>
    <link>https://cympfh.cc/taglibro/2020/12/15</link>
    <description>
      &lt;pre&gt;&lt;code&gt;
## 教訓：IoTに命を任すな

## cumin に合併型だかなんだかを入れておきたい

cumin というのは設定ファイル言語である.
最終的に得たいものが何でもありな, ふるゆわデータである以上,
例えば

```json
[
    {&quot;type&quot;: &quot;A&quot;, &quot;name_of_a&quot;: &quot;hoge&quot;},
    {&quot;type&quot;: &quot;B&quot;, &quot;id_of_b&quot;: 1}
]
```

みたいなものを作れなきゃ困る場面は絶対ある.
今の所, 配列の中身は型を揃えなきゃいけないのでこれが出来ない.

解決策として次の4つが思いついてる

1. 合併型を用意する
1. 代数的データ構造を用意する
1. 型クラスを導入する
1. 部分型を導入する

### 合併型バージョン

和集合をただとるだけ.
今採用してる意味論（JSON への変換）を考えるとこれが実装は簡単.

```rust
struct A {
    name_of_a: String
}
struct B {
    id_of_b: Nat
}

data T = A | B;

let data: Vec&lt;T&gt; = [
    A(&quot;hoge&quot;),
    B(1),
]

data
```

`A()` や `B()` がどう JSON へ変換されるかは決まっていて,
`T` は型をまとめあげる以上のことはしないくてJSON への変換方法を何も変えない.

### 代数的データ構造

直和を取る方法.
合併型で例えば `Int | Int` と書いた時にそれが厳密に `Int` と同値な一方で,
直和は左右どちらの `Int` なのかを区別する.

```rust
enum T {
    A { name_of_a: String },
    B { id_of_b: Nat },
}
let data: Vec&lt;T&gt; = [
    A(&quot;hoge&quot;),
    B(1),
];
data
```

あると便利だろうけど, JSON への変換方法が自明じゃない.
合併型と違って何かタグを付けて区別する必要があるからだ.

- 合併型では, 使う時に合併させて作ればいいので追加が楽
    - 例えば将来的に, 外部モジュールに定義されたものに自分で作ったものを追加するとかできる
    - ただし定義があちこちに散らばる
- 代数的データ構造では, 全部そこに集約してるので読むのは楽

### 型クラス

型のひとつ上のレイヤーに型クラスという概念を定義する.
各型クラス $C$ には型の集合 $\overline{C}$ が割り当てられている.

型アノテーションの場面では $C$ も型と同じように使うことが出来る.

Rustの derive マクロによる型トレイトの宣言を真似るとこんな感じ

```rust
#[derive(T)]
struct A {
    name_of_a: String
}

#[derive(T)]
struct B {
    id_of_b: Nat
}

let data: Vec&lt;T&gt; = [
    A(&quot;hoge&quot;),
    B(1),
];
data
```

`T` という名前の型クラスがあることをどこにも宣言してないけど,
どうせ名前だけで実態のないものだし, そのために文法用意したくないな…

### 部分型

型クラスとか言ってるけどこれは結局部分型でしかない.
そしてそういえば, 数に関しては `Nat &lt;: Int &lt;: Float` という部分型構造をプリミティブに定義していて, 暗黙的にキャストしちゃってる.
この機能をユーザーに解放すればいい.
要するにクラスの継承関係を自由に定義できるようになるということなんだけど.

```rust
#[A &lt;: T]
struct A {
    name_of_a: String
}

#[B &lt;: T]
struct B {
    id_of_b: Nat
}

let data: Vec&lt;T&gt; = [
    A(&quot;hoge&quot;),
    B(1),
];
data
```

文法上で型クラスとの違いは全くない.
型クラスは利用がかなり制限された継承関係である一方でこちらは勝手なことが出来そう.
上の例で `B &lt;: A` にするとか.

以上書き出してみると, 合併型が平和な気がしている.

そういえばタイプエイリアスの機能も欲しいとは思ってた.

```rust
type T = Vec&lt;Option&lt;Vec&lt;Int&gt;&gt;&gt;;  // alias
type S = T | Vec&lt;String&gt;;  // union
```

またパーサがややこしくなるけど,
`S | T | ... | U`
もちゃんと1つの型だとしてパースするようにしよう.
次のように入れ子になってても問題がないことにする (Future Work).

```rust
type T = Vec&lt;Option&lt;Vec&lt;Int | String&gt;&gt; | String&gt;
```

合併型がある場合に, 次の型推論はどうすべきなんだろう.

```rust
let data = [1, A(&quot;hoge&quot;), &quot;hoge&quot;]
```

その気になれば, これには `Array&lt;Nat | A | String&gt;` という型を付けることが出来てしまう.
そうするともはや型検査の意味がなくなるじゃん...
アノテーションを強制すればいい問題なのかな.

```rust
let data: Vec&lt;Nat | A | String&gt; = [1, A(&quot;hoge&quot;), &quot;hoge&quot;];
```

または

```rust
type T = Nat | A | String;
let data: Vec&lt;T&gt; = [1, A(&quot;hoge&quot;), &quot;hoge&quot;];
```

## TypeScript の合併型

や, TypeScript とか本当知らんし.

- [Union Typesは直和型ではない](https://blog.miz-ar.info/2015/01/union-types/

これだけ見て分かった気になっていうけど, TypeScript には和集合の意味の合併型がある.
合併型の宣言は結局部分型の宣言である.

```typescript
interface A {}
interface B {}
type T = A | B;
```

これは結局, （先述したように） `A &lt;: T, B &lt;: T` ということを言ってる.

引数の型が `T` な関数へ適用するときに勝手にアップキャストを行う.

cumin もこれくらいにしようかな.
文法では type 文を一個増やす.

eval 時には環境に

```rust
type_aliases: HashMap&lt;String, Vec&lt;Typing&gt;&gt;
// type_aliases[&quot;T&quot;] = [&quot;A&quot;, &quot;B&quot;]
```

を追加する.
キャストはこれを適宜参照する.
`S` から `T` へのキャストが必要な場面で,
`type_aliases[&quot;T&quot;]`
を参照してその中に `S` があったらOKということにする.

名前が衝突した場合の処理を実は現状何もしてないんだけど,
`struct`, `enum`, `type` で定義した名前は空間が分離されていて,
名前が衝突しててもいずれかが優先的に使われるだけということにしようと思う.
将来的には衝突のチェックは入れる.

## 包含写像？

代数的データ構造ではそのタグ自体が包含写像として機能する.
別に合併型であってもそれがあってもいいはずだ.

```rust
struct A {
    name_of_a: String
}
struct B {
    id_of_b: Nat
}

type T = A | B;

// Array&lt;T&gt;
let data = [
    T(A(&quot;hoge&quot;)),
    T(B(1)),
]

data
```

安全ではある.

括弧が多いなら, 単に糖衣構文として

```rust
// Array&lt;T&gt;
let data = [
    T.A(&quot;hoge&quot;),
    T.B(1),
]
```

と書けてもいい？

## ラスト草案

```rust
struct A{}
struct B{}
type T = Int | A | B;
// Array&lt;T&gt;
[ T(1), T.A(), T.B() ]
```
&lt;/code&gt;&lt;/pre&gt;
    </description>
    <pubDate>Tue, 15 Dec 2020 00:00:00 +0900</pubDate>
    <guid isPermaLink="true">https://cympfh.cc/taglibro/2020/12/15</guid>
  </item>
  <item>
    <title>Mon Dec 14 2020</title>
    <link>https://cympfh.cc/taglibro/2020/12/14</link>
    <description>
      &lt;pre&gt;&lt;code&gt;
## cumin v0.9.7

### 前回までのあらすじ

- [cumin v0.9.0](https://cympfh.cc/taglibro/2020/11/11)
- [設定ファイル言語 cumin を自作している](https://zenn.dev/cympfh/articles/advent-2020-12-08)

### 前回からの差分

- 構造体の各フィールドにデフォルト値を与えられる
- `as` による強い型変換
- 浮動小数, ありそうな算術演算の追加
- Array, Option の追加
- Bool とその演算の追加
- 数と Bool に関する比較の追加
- 型検査

### 型システム

強い型変換と自然な（弱い）型変換とを区別している.
前者は例えば文字列の `&quot;123&quot;` を整数の `123` に変換するといった, 一般に失敗しえるような変換をサポートしていて,
構文上では `as` キーワードで明示的に宣言する必要がある.

```rust
let s = &quot;123&quot;;
let x = s as Int;  // String -&gt; Int
```

一方で, 自然な型変換は変換が絶対に失敗しない範囲内のことしかせず,
これは暗黙的に行われる.

```
Nat -&gt; Int -&gt; Float,
s -&gt; Any
```

これはおよそ,

$$\mathbb N \subset \mathbb Z \subset \mathbb R$$
$$\forall S, S \subset U$$

みたいなことに対応する.

```rust
let x: Nat = 1;
let z: Int = x;  // Nat -&gt; Int
```

```rust
struct S {
    data: Any,
}

S { data = 1 }  // Nat(1) -&gt; Any
```

`Any` に変換するといっても, 値にはそれとは別に型がついていて情報が失われることはない.
つまり,
型 `S` がついた値を型 `T` に自然変換する場合には単に `T` の型に付け替えるのではなくて,
`S` と `T` の交わり（積集合みたいな）に付け替える.
その交わりのことを `S &amp; T` と書くことにする.
交差型と言っていいのかな.

そして交差型は次の通りで定義される.

```rust
s &amp; s = s,
s &amp; t = t &amp; s.

Any &amp; t = t.

Nat &amp; Int = Int,
Nat &amp; Float = Float,
Int &amp; Float = Float.

Array&lt;s&gt; &amp; Array&lt;t&gt; = Array&lt;s &amp; t&gt;,
Option&lt;s&gt; &amp; Option&lt;t&gt; = Option&lt;s &amp; t&gt;.
```

これで以上.
ただしこれで定められないようなもの（例えば `String &amp; Int`）は交差型を持たない.

#### 配列の型

$n$ 個の値を要素にする配列を与えられた時にその型を推論する実装を述べる.
各要素の型が $t_1, t_2, \ldots, t_n$ のとき,

```rust
(((Any &amp; t1) &amp; t2) &amp; ...) &amp; t_n
```

を計算する.
この交差型が存在しなかったとき, 配列に型はつかない.
存在して $t$ と分かったとき, 配列の型は `Array&lt;t&gt;` だと計算される.
例えば空配列は `Array&lt;Any&gt;` になる.

こちらはもっと簡単だが `Option&lt;t&gt;` についても全く同様.

以上から, 例えば

```rust
[None, Some(1), Some(-1)]
```

は `Array&lt;Option&lt;Int&gt;&gt;` だと型付けされる.

## 2020年買ってよかったもの

### 文鳥

推定誕生日は9月の中旬頃なので, 今丁度生後三ヶ月くらい.

最近鰹節をそのまま与えて食べるようになった.
鰹節を与えること自体はタンパク質の補給源として獣医に勧めされた.
初めは食べ物として認識してもらえず, 試しに出汁をとったあとの柔らかい状態で与えると食べてくれたのだが,
やがて食べなくなり, 今は逆に茹でずにそのまま与えると食べるようになってくれた.

手乗り文鳥という言葉があるのが不思議なくらいに, 手の上に必ず乗ってくる.
つまり手乗りが当たり前のものに手乗りと冠するのが不思議なのだ.

シードからペレットへの切り替えもやはり勧められた.
この切り替えは難儀してる.
混ぜて与えるとシードだけ食べて, ペレットは避けて捨ててしまう.
別皿でペレットだけ盛ったものを与えるほうがまだたまに食べてくれる.

### タイガークラウン へら・スパチュラ

- [www.amazon.co.jp/gp/product/B001NAVWUI](https://www.amazon.co.jp/gp/product/B001NAVWUI/)

結局ゴムベラが便利だね

### 山善(YAMAZEN) スライド本棚 幅120cm スライド3列

- [www.amazon.co.jp/gp/product/B00QHS1940](https://www.amazon.co.jp/gp/product/B00QHS1940)

とりあえず良い.
良いところはスライドなところ, 悪いのもスライドなところ.
スライド自体が妙に引っかかったるとか（スライドにコツがいる）,
奥の棚であって, ちょうど手前のスライドの境目の位置にある本はどう手前を動かしても取り出しにくいだとか.

何にしても部屋が少し片付いた.

### 新富士バーナー パワートーチ ガスバーナー

- [www.amazon.co.jp/gp/product/B006LTD506](https://www.amazon.co.jp/gp/product/B006LTD506)

なんでも, 炙れば美味い.
チーズ乗っけて炙るとか, スーパーのお寿司とか.

### REVUE ML

中古一万円で買ったフィルムカメラ.
良いように言えばフィルムがもったいないから大事にシャッターを切ることになる.
悪いように言えば滅多に使わなくなって勿体ない.

### iPad

買って数ヶ月してちょうど新しい2020年モデルが出てしまった.
これは2018年モデル.

カメラは間違いなく駄目. 10年前の写メールみたいな画質.
タブレットで写真撮ろうなんて思わないからいいんだけど.

Kindleとお絵かきのために使ってる.
満足してる.
SSHクライアントのアプリとBluetoothキーボード繋げば割とパソコンになる.
出掛け先にノートパソコン持ってくくらいなら, これでいい.

## 2020年読んで良かった本

2019年以前に読んでた漫画の続刊は除く.

### 漂流教室
95点

### めぞん一刻
この頃の高橋留美子大好き

### ご飯は私を裏切らない
一巻で終わっちゃったのが残念

### リレーショナルデータベース入門―データモデル・SQL・管理システム
関係代数から初めてRDBに入門できる。
いきなり MySQL のコマンドを書き並べただけの入門書じゃなくて中身の理論からやってくれるので,
本当の意味のRDBへの入門書.

### ショートショートショートさん
全力の変顔が賛否両論

### 極めてかもしだ
100点

### やさしいセカイのつくりかた
80点

### マイナス（山崎紗也夏）
80点

### 上伊那ぼたん、酔へる姿は百合の花　
おっさんの百合。80点

### 元カノに幻想を抱くなバーカ
勢いの百合。90点

### 月とすっぴん
平和な百合。80点

### ルベーグ積分から確率論
結局厳密に確率論やるには測度論から入るのが今確立されてる中では一番まともで, ルベーグ積分からやり直すしかない.
この本一冊でとりあえず一通りがやり直せる.

## 2020年観て良かった映画・アニメ

今年初めて見たものに限る

### ラブ＆ポップ
庵野秀明の初実写映画。85点

### いつだってやめられる
三部作。映画というよりはドラマくらいのクオリティ（見下げた言い方だが）

### 映画 賭ケグルイ
私が単にこの監督が好き。一般的には絶対好評なわけがないタイプの映画。75点

### 映像研には手を出すな
賭ケグルイと同じ監督の映画。この人はちゃんと原作を研究した上で拡張を目指すから好きだ。70点

### ファイトクラブ
基礎教養

### 原子怪獣現わる
これも基礎教養。公平に点数を付けるなら20点くらいだけど、そういう問題じゃない

### 花とアリス殺人事件
苦しみ度合い30％くらいの程よい百合。
絵については慣れろ。そういうところで文句を言うな

### ヒプノシスマイク
今一番面白い。単純に世界観が面白い。キャラクターだけで売ってるわけじゃないのが、私でも楽しめる理由だと思う

### 魔女見習いをさがして
映画単体としては少しどうかな、楽しめないかなと思ってしまうけど、そういう問題ではない。
これは東映からおジャ魔女ファンへのメッセージなので。

### 老人Z
面白くないわけがない。
アニメーションがいいしキャラクターがいい。ロボットアニメへのエスプリになってるのも面白い

### ふしぎの海のナディア
前半と後半とで全然違うので驚いた。見れば見るほどにラピュタ

### かくしごと
久米田康治！100点
&lt;/code&gt;&lt;/pre&gt;
    </description>
    <pubDate>Mon, 14 Dec 2020 00:00:00 +0900</pubDate>
    <guid isPermaLink="true">https://cympfh.cc/taglibro/2020/12/14</guid>
  </item>
  <item>
    <title>Sun Nov 29 2020</title>
    <link>https://cympfh.cc/taglibro/2020/11/29</link>
    <description>
      &lt;pre&gt;&lt;code&gt;
## 日記

### 「触れない」

「ふれない」とも「さわれない」とも読める.

### オシャレゴミ箱はQOLを上げる

見た目ゴミ箱だと気づかないようなのが良い.
今使ってるのが
`/dp/B07MZ9VVCJ/`
これ.
やっぱり木製は良い.
いつも作業してる机の下にこれを置いてる.
中にセットしてるレジ袋が絶対外から見えないようになってる.
ただしこれは袋の付け方がややこしくて, 実用性よりインテリア性に偏りすぎとも思う.

文鳥のケージのすぐ下に,
レジ袋を置いてて,
何かと出るゴミをここに入れてる.
主に文鳥のフンを拭き取ったティッシュなんかなので, とにかく見た目だけキレイにしたい.
鳥のフンはほとんど匂いもしないけれど, でもできれば蓋かなんかで封じ込めたい気持ちもある.
或いは入り口が狭くなってるとか, そういうのでもいい.
なんかいいのないかな.

### クエン酸で加湿器をつけ置き洗した

効果があるのかよくわからない

### 格子点上の幾何

整数の範囲内の幾何.
プロコンで時折求められるもの.

### 涼宮ハルヒの直観を読んだ

短編2つと長編1つ.
3つとも, これ, 実は必ずしも涼宮ハルヒの憂鬱のキャラクターである必要はないな.
そらこんだけ間空いてれば, 作者の興味も全然違うものになってるだろうと思う.

ところで, キーワードレベルで出ているが, 涼宮ハルヒというキャラクターは自分自身が全能であることに気づいていない全能の神である, 或いはその疑いがあるというキャラクターとして描かれている.
有名な思考実験として全能は自分自身が持ち上げられない石を作ることが出来ない, 或いは持ち上げることが出来ないという全能のパラドックスがある.
谷川流がそれを知らないわけはないので, それを無視するわけがない.
そこで今回最後の最後に「自分が全能であることを知らない神」(p.405)というキーワードを出している.
少なくとも自分を全能だと思わず常識的な振る舞いを徹底すれば, そのような石を作り出そうとはしないから,
このパラドックスは回避できるわけだ.
というのは対症療法であって根本的なパラドックスの回避になるのか疑問だが,
谷川流はそう考えているのかもしれない, と思った.
&lt;/code&gt;&lt;/pre&gt;
    </description>
    <pubDate>Sun, 29 Nov 2020 00:00:00 +0900</pubDate>
    <guid isPermaLink="true">https://cympfh.cc/taglibro/2020/11/29</guid>
  </item>
  <item>
    <title>Wed Nov 25 2020</title>
    <link>https://cympfh.cc/taglibro/2020/11/25</link>
    <description>
      &lt;pre&gt;&lt;code&gt;
## （アーリオ・オーリオ・エ・）ペペロンチーノ

本当はYouTubeに良い作り方動画があったんだけど, 消えちゃった.

ペペロンチーノといえばうるさいのがオリーブオイルの乳化だ.
してもしなくてもペペロンチーノはペペロンチーノなんだけど, した方が評判がいい.
ここで言う乳化という言葉が結局何を言うのかと言えば, 簡単で, 油に水が溶けて白濁した状態を言う.
当然水と油は分子レベルでは溶けないので,
単にオリーブオイルの中に水が細かい粒の状態で混ざりあっただけであり,
これによって白濁して見えるようになる.

巷では火で炙ったオリーブオイルに激しく水を入れてガチャゴチャかき混ぜてこれを行おうとする方法を指南する人たちがいるが,
結局のところかき混ぜれば何でも良い.
この方法ではハンドブレンダーを使う.
常温の状態で水とオリーブオイルを 1:1 で容器に入れてただかき混ぜれば良い.
加熱もしないので変に油が飛び跳ねたりしないし, 確実に乳化は成功する.

### レシピ

```dot
digraph hoge {
    rankdir = &quot;LR&quot;;
    subgraph cluster_sauce {
        label = &quot;Sauce&quot;;
        Garlic -&gt; Mix [label = &quot;boil&quot;];
        Oil -&gt; Mix;
        Water -&gt; Mix;
        Mix -&gt; Sauce;
    }
    Pasta -&gt; AlDente [label = &quot;boil&quot;];
    {Sauce AlDente ChiliPepper} -&gt; Compile;
}
```

&lt;details&gt;&lt;summary&gt;source code: peperoncino.dot&lt;/summary&gt;

```cpp
digraph hoge {
    rankdir = &quot;LR&quot;;
    subgraph cluster_sauce {
        label = &quot;Sauce&quot;;
        Garlic -&gt; Mix [label = &quot;boil&quot;];
        Oil -&gt; Mix;
        Water -&gt; Mix;
        Mix -&gt; Sauce;
    }
    Pasta -&gt; AlDente [label = &quot;boil&quot;];
    {Sauce AlDente ChiliPepper} -&gt; Compile;
}
```

&lt;/details&gt;

1. boil というエッジがちょうど2本だけあるが, 火はここでしか使わない
1. ニンニクは茹でてから使う
1. 分量は全部気持ちで
1. Mix はハンドブレンダーによる撹拌のこと
    - 液体の少しドロッとしたソースを作る
    - 元動画ではここにパセリを入れてた
    - 機械を使えばここに掛ける時間は 10 秒もあれば十分なので, 麺が茹で上がってから行えばよし
1. パスタは例によってアルデンテを目指す
    - パッケージに書いてある茹で時間の -1 分
    - 私はいちいち時間とか測ったことないけど
    - 一本とって齧ってみて, 芯がかろうじて残ってるくらいで上げればよし
1. Compile は全部を混ぜ合わせる作業
    - アルデンテの麺に今撹拌したばかりのソースをひたすら和える
        - ここでつい加熱したくなるけど, オリーブオイルは加熱で匂いが飛ぶので避ける
        - パスタがソースを吸うだけ吸わせることが目的
    - 最後にチリペッパーを掛ければ出来上がり

というのがレシピだ.
定番の作り方とはだいぶ違う.
よくあるのはニンニクをオリーブオイルで焦げるかその手前まで加熱して匂いを移すだとか,
鷹の爪を使うだとか.
このレシピでは匂いを移す代わりにニンニクをソースに全部入れてしまう.
鷹の爪は面倒くさいので粉のチリペッパーを振りかけるだけで済ます.

![](https://pbs.twimg.com/media/EnlTspqUcAEBd4i?format=jpg&amp;name=4096x4096)

かなり合理的だし楽だし, そして大変に美味しいのでおすすめ.

### 追記

再現動画ならあった
&lt;div class=youtube src-id=&quot;NGE-V8Wb2uQ&quot;&gt;&lt;/div&gt;

## その他のメモ

oculusアプリは買ってから2週間以内の申請であって起動時間が延べて2時間未満なら返金出きると書いてある。試してみた。申請してから3日とちょっと掛かったけど、出来た。3日も掛かるのは意外だった。

思想：苦しくなきゃ百合じゃない

なにか映画を見ようとPrimeVideoのアプリを起動する.
初めに目に入った映画を見る.
つまりAmazonのレコメンドどおりに私は行動する.

[いつだってやめられる 7人の危ない教授たち](https://filmarks.com/movies/60479)

面白かった.
しかも3部作になってる.
コメディドラマくらいのノリに思えたけど, これで映画らしい.
&lt;/code&gt;&lt;/pre&gt;
    </description>
    <pubDate>Wed, 25 Nov 2020 00:00:00 +0900</pubDate>
    <guid isPermaLink="true">https://cympfh.cc/taglibro/2020/11/25</guid>
  </item>
  <item>
    <title>Tue Nov 24 2020</title>
    <link>https://cympfh.cc/taglibro/2020/11/24</link>
    <description>
      &lt;pre&gt;&lt;code&gt;
## 魔女見習いを探してを見た

先週見た.
ネタバレだらけの感想を書いた.

[/cympfh.cc/anime/#14790](https://cympfh.cc/anime/#14790)

## 江ノ島に行かなかった

行こうとか思ったけど, テレビを付けたら人で大賑わいの鎌倉が流れてて, 行くのをやめた.

## 理事長の仕事をやった

パンティーアンドストッキングがやってたので, それを見ながら,
溜まりに溜まった仕事をやった.
偶然にも 11/24 までにやれという仕事が2つと, 11/25 までにやれというい事が1つあったのを, 11/23 の深夜にやった.
仕事というのは, 量と内容を把握するまでが9割で, 残りの1割は惰性で出来る.

## デスクトップ環境について

Windows にも, まともなタイル型デスクトップ環境が欲しい

思うに, UI/UX というのは UX という名前の通り体験なので,
その良さとか悪さは体験しないとわからない.
一度, 本当に良いというものを体験してしまうと, 何を触っててもそれと比較してしまう.
口で言うだけでは伝わらない良さが体験にはある.

私は Linux では i3wm を使っていて, それが理想だと思っている.
タイル型ウィンドウマネージャを触ったことのある人間というのは極小数派だと思う.
体験したことの無い人たちに, 口でその良さをいくら言っても伝わらない.
できるだけ上手にデスクトップ上にウィンドウを配置するショートカットだったりアプリはあるが,
そうじゃないんだよなあ.
全然別物なんだよなあというのが伝わらない.
&lt;/code&gt;&lt;/pre&gt;
    </description>
    <pubDate>Tue, 24 Nov 2020 00:00:00 +0900</pubDate>
    <guid isPermaLink="true">https://cympfh.cc/taglibro/2020/11/24</guid>
  </item>
  <item>
    <title>Fri Nov 20 2020</title>
    <link>https://cympfh.cc/taglibro/2020/11/20</link>
    <description>
      &lt;pre&gt;&lt;code&gt;
## 日記

ぼーっとしていると生活について考えてしまう.
そんな状態で自分の誕生日を迎えたくないので衝動的に言語を作り始めた.
おかげでコーディングしながら日を跨いだことにも気づかないことに成功した.

ある言語で表現出来るクラスのサイズというものを仮に有限の値で表せるとしたら,
そこから新たに追加したい機能は, それに比例するかもしれない.
これが出来るなら当然あれも欲しくなる.
最初だからそう思うだけかもしれないけど.
どこかでゼロに収束してくれるのかな.

[/github.com/cympfh/cumin/releases](https://github.com/cympfh/cumin/releases)

衝動的に文法を設計してしまった感が否めなくて,
後から追加するのに苦労している.
というか特に命名に苦労してる.

- Logic Expression というのは Bool Expression またはそれ同士の等号/大小比較であり,
- Bool Expression というのは Arith Expression またはそれ同士の and/or/xor であり,
- Arith Expression というのは大体いわゆる数式みたいなもの以下略,

Bool Expression は Bool といいつつ正確には Bool と数式を含む式で, 純粋な数式（例えば `1 + 2`）も Bool Expression ということになっている.
なんだそれは.

## 日記

文鳥の頭頂部から少しずつ換羽してきていている.
新しく生えた羽はまだ針みたいに尖ってるばかりで見た目が悪い.
&lt;/code&gt;&lt;/pre&gt;
    </description>
    <pubDate>Fri, 20 Nov 2020 00:00:00 +0900</pubDate>
    <guid isPermaLink="true">https://cympfh.cc/taglibro/2020/11/20</guid>
  </item>
  <item>
    <title>Wed Nov 11 2020</title>
    <link>https://cympfh.cc/taglibro/2020/11/11</link>
    <description>
      &lt;pre&gt;&lt;code&gt;
## 非対称行列分解

情報幾何では距離ではなくダイバージェンスが要になることがよくある.
というかめちゃくちゃ基礎にそれがある.

大雑把に言えばダイバージェンスというのは, 距離から対称律
$d(x,y) = d(y,x)$
を **除いた** ものである.
例えば KL ダイバージェンスが有名だが,
これは「点 $x$ から点 $y$ へのダイバージェンス」というように,
行き先と元を明確にする必要がある.
点 $y$ から点 $x$ へのダイバージェンスとは一致しないからである.

なんだかこれが本質のような気がしてならない.
ダイバージェンスは局所的には対称律が成り立っていて距離として振る舞う.
勝手に距離のように思っているものは実はダイバージェンスで,
それを近似的に距離だと扱ってきたのかもしれない.

点を適当なベクトル表示したときに,
距離をL2距離（内積）で決めてしまうことがとてもよくある.
これは距離である.
典型例は行列分解である.
内積とは行列積のことに他ならない.
アイテムどうしの距離を内積によって決めてしまう.
ここから対称律を取り除くと, それだけで表現力が豊かになる.
損なわれるのではない.
できることが多くなるのである.
例えば時系列の情報が込められる.
コレの後にはコレが来やすいというのをダイバージェンスで表せる.
因果関係なんかもそうだと思う.

## cumin v0.9.0

表現力としては当初欲しかったものが十分手に入ったと思ってる.
機能はまだまだだし, 仮にこれを人が使いだしたら止めるレベルではあるけれど,
これをそのまま拡大すればいいだけだと思えるくらいには一通り揃った.
というわけでリリースタグを打った.
`v0.9.0` からこの3つ目の数字をひたすら増やしていって,
これ以上できることが無いと思えるようになったら `v1.0.0` にするつもり.

設定ファイルという静的なデータを表現するだけの言語のその処理系とはなにか.
私はそれを JSON への変換器ということにした.
cumin compiler なので `cuminc` というコマンド名にした.

基本的な文法については散々書いた.
そこからの進捗を語るなら, まずは無名 struct, そして環境変数とブロックを追加した.

無名 struct は要するに中身に何の制約もないただの辞書である.

```rust
{{
    x = 1,
    y = {{
        z = 2
    }}
}}
```

```bash
$ cuminc test.cumin
{&quot;x&quot;:1,&quot;y&quot;:{&quot;z&quot;:2}}
```

環境変数は常に文字列で,
`$X` とか `${X}` で参照できる.

```rust
{{
    env = {{
        shell = $SHELL
    }}
}}
```

```bash
$ cuminc test.cumin
{&quot;env&quot;:{&quot;shell&quot;:&quot;zsh&quot;}}
```

これはシェルスクリプトを意識した書式にしている.
環境変数はその場でセットして `cuminc` することで,
即席のテンプレートとしても役立つ.

またデフォルト値が使えると便利だと思う.
これもシェルスクリプトそのままの書式を流用して
`${X:-HOGE}`
と書けるようにした.

```rust
{{
    hoge = ${HOGE:-default}
}}
```

```bash
$ cuminc test.cumin
{&quot;hoge&quot;:&quot;default&quot;}

$ HOGE=hello cuminc test.cumin
{&quot;hoge&quot;:&quot;hello&quot;}
```

最後はブロック.
これは Rust そのものを知っていれば,
あるいは ML から類推してもらえれば特に不自然なことはないと思うけれど,

`{}` で括って,

```
{
    文;
    文;
    文;
    式
}
```

と書いて, この `{...}` を評価すると何を計算するか.
中の文を順に実行して最後に式を評価する. そしてその値を `{...}` 全体の評価結果にする.
ここで `;` は単に文と文, または文と式の区切り文字でしかないことに注意.
文末につける終端文字というわけではない.

cumin で言う文というのは三種類しかなくて,

1. 構造体 (struct) の定義,
2. 列挙子 (enum) の定義,
3. let 束縛

のいずれかである.
構造体, 列挙子,
let 束縛で作られる変数はその `{}` の中だけで参照できて有効である.

例えば,

```rust
let x = {
    let a = 1;
    let b = 2;
    a + b  // ここでは a, b が見える
};  // x には a+b の結果が入る

// ここでは a, b は見えない

{{
    three = x
}}
```

```bash
$ cuminc test.cumin
{&quot;three&quot;:3}
```

プライベートな変数を作るのに便利だし,
それよりも, このデータはこのデータを構築するために必要だという,
意図表示に役立つ.
&lt;/code&gt;&lt;/pre&gt;
    </description>
    <pubDate>Wed, 11 Nov 2020 00:00:00 +0900</pubDate>
    <guid isPermaLink="true">https://cympfh.cc/taglibro/2020/11/11</guid>
  </item>
  <item>
    <title>Tue Nov 10 2020</title>
    <link>https://cympfh.cc/taglibro/2020/11/10</link>
    <description>
      &lt;pre&gt;&lt;code&gt;
## cumin 開発日記

だいぶやれるようになってきた.
前回色々言ったけど, 結局 jsonnet のように, まずデータ型や細かいデータの定義をつらつらと書いて,
一番最後に, 1つだけエクスポートするようなデータをまるでテンプレートを書くかのように書く, というスタイルになった.
こちらのほうが単純に文法がキレイというのが1つ,
変数名が衝突するような場合のチェックが面倒（衝突する場合は variable hiding させたい）というのが1つ.

[cumin/commit/d4015caf79e86acf45f4ce842218fb768ebc375a](https://github.com/cympfh/cumin/commit/d4015caf79e86acf45f4ce842218fb768ebc375a)

こんなのが動く.

```rust
struct Point {
    x: Int,
    y: Int,
}

let p = Point(2, 3);

enum Z {
    Z1,  // Z is this,
    Z2,  // xor this.
}

let x = &quot;hoge&quot;;
let y = &quot;fuga&quot;;

let z: Nat = 0;

// 上書き!
let z = Z::Z2;

struct AllData {
    p: Point,
    z: Z,
    str: String,
}

// Exporting this
AllData(p, z, x + y)
```

これについて `cuminc` は次を吐く.

```json
{
  &quot;p&quot;: {
    &quot;x&quot;: 2,
    &quot;y&quot;: 3
  },
  &quot;z&quot;: &quot;Z2&quot;,
  &quot;str&quot;: &quot;hogefuga&quot;
}
```

struct は辞書に変換されるし, `+` は数値の加算または文字列結合として計算される.
enum の扱いややや困るが当然 JSON にはプリミティブな型しかないので, 列挙子の名前そのママを文字列として吐くことにした.

### ロードマップ

まだまだ色んなものが足りてない

- 無名 struct （何でもありの辞書）
    - `{{ x=1, y=&quot;hoge&quot; }}` という文法を用意する
- ENV
- 配列
    - map 関数
- ブロック
- `X { field=val }` 形式のコンストラクタ
- 演算を各種用意する
    - 今はなんと `+` しかない
- 型チェック

次はやるか未定

- enum を ADT にする?
    - 今はC言語的な enum でしかない
    - 作るのはいいけど JSON での表現方法はどうしようか
- マクロ機構
    - 欲しくなったら作る
&lt;/code&gt;&lt;/pre&gt;
    </description>
    <pubDate>Tue, 10 Nov 2020 00:00:00 +0900</pubDate>
    <guid isPermaLink="true">https://cympfh.cc/taglibro/2020/11/10</guid>
  </item>
  <item>
    <title>Sat Nov 07 2020</title>
    <link>https://cympfh.cc/taglibro/2020/11/07</link>
    <description>
      &lt;pre&gt;&lt;code&gt;
## 文鳥が片目をよくつむる

よく見ると文鳥が左目をよくつむっているようだった.
例えば指で目の周りをなでてみると, 右目と比較しても過敏によくつむる.
そんな刺激をしなくても餌を食べるときにやたら目をつむり, 決まってそれが左目だった.

調べると, 一般に鳥がじっと目をつむってるのは眠ってるか眠たいときでもない限りは異常であるとのこと.
片目であっても両目であっても, 餌を食べるというときは, 常に周りを見わたして警戒するのが正しい鳥の姿.

- [Some sick bird symptoms](https://www.mit.edu/~rei/Birds-sick.html)

ではなぜ目をつむるのか.
一番有りえるのが結膜炎であるらしい.
これは目そのものに傷が入ったりして炎症になっているパターン.
この場合は目薬で治す.

よく見ると脚を使って目（の周囲）を掻くような仕草までしている.
私は慌てて, 評判を調べつつ適当な小鳥専門病院に行ってきた.
なんだかよくわからない機械で目を見て, 結膜炎ではないと結論を下された.
嗉嚢の中のなにかの採取をし, またフンを取って, 菌の検査をしてもらった.
すると嗉嚢に活動螺旋菌がいることがわかった.
その菌は文鳥の雛に一定の確率でいるものだが, いないに越したことはないし, 目に違和感を感じてるのは恐らくこれが原因だろうと言われた.
なんだかよくわからないが, その獣医の説明によれば, 消化器官にいる菌が目にまで作用するものらしい.
また同時に, くしゃみや咳をするようになったら悪化してる証拠なので, その場合は至急に連絡せよとも言われた.

抗生物質の飲み薬を二種類処方された.
これを毎日二回, 嘴に垂らして飲ませる.
飲ませ方の説明も何もなく, 飲み薬というくらいだから, 嘴をこじ開けて飲ませるのかと思ったけど, もっと簡単に飲ませる方法がある.
嘴というのは, その隙間に垂らしてれば勝手に浸透圧で入っていって, 文鳥はそれを飲んでしまうものらしく,
それを利用して飲ませればよいらしい.

&lt;iframe width=&quot;560&quot; height=&quot;315&quot; src=&quot;https://www.youtube.com/embed/M2ddiUnbaSE&quot; frameborder=&quot;0&quot; allow=&quot;accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture&quot; allowfullscreen&gt;&lt;/iframe&gt;

この動画が参考になった.
肝心の液を垂らすシーンが手で隠れて見えないんだけど, 説明だけ聞けばわかる.

初めて病院に行ってから一週間抗生物質を飲ませ続け, 再び病院で二度目の検査.
今度は螺旋菌は全くいなくなってたが, 別な菌が多いのでまた薬を飲ませ続けましょうと, 再び同じ薬を処方されてしまった.
診察料3000円で, 二種類の薬代が合計3500円.
全て併せて一回の診察で 6500 円.
これを二回, 2週連続で払ったことになる.
もちろん社会保険は適用されない.
あんなに高い高い保険料を払ってるのに.

それからまた一週間抗生物質を飲ませ続けて, 今日三度目の診察.
やはりまた嗉嚢とフンの菌検査をしてもらい, 普通の常在菌レベルだということで, 薬の投与は終わった.
ただ嘴の色が淡すぎるのがおそらく貧血気味だろいうと言われ, タンパク質を含む餌を与えましょうだとか, シードはやめてペレットにしましょうといった指南を頂いた.

今日は薬の処方も何も無かったので安くて 2200 円だけで済んだ.
初めての診察のときは, お金なんていくら掛かっても, と思ったものだが,
2週連続で6500円も取られたときには, さすがにこんな出費が毎週続くくらいならよっぽど,
もう病院に行くのなんてやめようかと思ったものだ.

### ところで, ペット関連の情報をインターネットで調べるということについて.

明らかに不自然な症状を見て私は慌ててググりまくった.
得られた中で本当に正しいと思われた情報は次の2つ.

1つは専門の病院に行けということ.
小鳥は小鳥専門の病院を探せ.
犬猫しかみない病院に連れて行っても時間の無駄である.

1つに心配ならとにかく病院に行けということ.
インターネットに欲しい情報はない.
聞きたいことは掲示板じゃなくて獣医に聞け.
お金はもちろん掛かる. 嘘の情報で無駄な日を過ごすか, 確かな情報をお金で買うか選べということである.
後者を選ぶなら, そのタイミングは早ければ早いほど良いと確かに言える.

## ラーメンを食べた

今日はラーメンを食べました.
人生で最後のラーメンということにしたい.

## cumin

世にはいくつもの, 設定ファイル用言語というものがある.
メジャーどころだと

- INI
    - Windows でよく見られた古き良き設定ファイル
    - 最近だと TOML が INI の影響を強く受けて設計されてる
- JSON
    - JavaScript のサブセット言語
        - もはやこれをサポートしてない言語は無いだろうと思うくらいメジャー
    - これの派生として JSON5, Jsonnet などがある
- YAML
    - これもほとんど大抵の環境でサポートされてて困らない
    - JSON よりは人間が読み書きしやすい, という風に言われることが多い

私はこのどれにも一定の不満がある.

人間にとっての読み書きのしやすいものはどれか.
私は INI $&gt;$ YAML $&gt;$ JSON だと思う.
JSON が一番最悪なのは明らかで, だからこそ拡張の JSON5 や Jsonnet がある.
YAML は JSON と比較したときにあたかも human readable であるかのように紹介されることが多いが,
それを鵜呑みにしてる人間は本物の YAML を知らずに済んできた幸運な人だと思う.
実際, 20行程度までで済むような設定ファイルを書くだけなら YAML は十分良いと思う.

テンプレート機構, 主に関数またはマクロについて.
なんだかんだ, 欲しい.
基本的に設定ファイルというのは素朴に設定値を列挙するだけである.
今挙げた中で唯一 Jsonnet は data templating language を自称しているだけあって, この機能を持つ.
Jsonnet のことは JSON を出力するテンプレート言語だと言ったほうが正確だ.
こいつはチューリング完全な関数の機能があって, 無限ループを仕込むことが出来る.
JSON は JavaScript のサブセット言語だったが, Jsonnet は単に JavaScript の言い換えに過ぎないと思う.
字句的に置き換えるだけのマクロ機構としての関数は便利だが,
チューリング完全にまでする必要はないと思う.
設定ファイルを書くことが目的なら.
「人間が十分賢く十分慎重である」ならば機能が強すぎることは何も足枷ではないが,
私が知ってる人間は全てが全て愚かなので, 強すぎる武器を与えないに越したことはない.
ちょうど良い機能だけを持った道具を与えるべきだ.

型システムについて.
これらの設定ファイルは, 基本的に何でもありだ.
例えば JavaScript が `[1, 2.3, &quot;Hello&quot;, []]` という配列を許すのと同様に, これを JSON は許すし,
YAML にはこれに対応する表現がちゃんとある（ところで INI には配列なんてデータ構造はない！）.
こんな配列を表現出来るのが便利だという人はやっぱり, 人間性善かつ完全説を信じすぎているのであって,
いっそ表現できないようにするのが良いに決まってると私は思う.

ところで, 弱い型付言語を触ってると, ふつう数値はせいぜい int と float くらいの区別しかしないで,
自然数と整数を区別しないのが悪い文化だと思う.
例えば配列の長さという数はマイナスになることがないのだから, 自然数に制限した方がいいに決まってる.
例えば人間の年齢は自然数だし, 仮想マシンに与えるメモリ量も自然数だし,
なにかの間違いでマイナスの値が出てきたらオーバーフローをさっさと検知してあげるのが人間への優しさに決まってる.

というわけで, 以上を解決する言語を設計する.
名前を [cumin](https://github.com/cympfh/cumin) とした.

こんな日記をうだうだ書いたのは,
結局どんな言語にすれば私は満足出来るのかアイデアを今正にまとめてる最中だからである.
つまり, まだ結論がちゃんとは出ていない.
今のところは, こんな感じにしようとは思ってる.

Rust 風のシンタックスを装っていて,
`let` によるフィールドへのデータ束縛で記述する.
フィールド名のすぐ後ろの `: ...` はデータの型を言っている.
適当な型推論は乗せて, これは省略可能であるようにもしたい.

```rust
// cumin
let x: Nat = 1;
let y: Int = -1;
```

これが

```json
// JSON
{&quot;x&quot;: 1, &quot;y&quot;: -1}
```

に対応する.

jsonnet で書くなら

```json
// jsonnet
local x = 1;
local y = -1;
{x: x, y: y}
```

という具合だろう.

jsonnet の構造はこのように, 中で使うプライベートなデータを `local` として宣言していって,
最後に export したいデータを1つぽんと置く形になっている.
テンプレート言語という文脈で言うなら, テンプレートの中で使うデータを初めに列挙して,
最後にテンプレートを1つ書く, という構造になっている.

一方で cumin は, `let` で宣言した変数全てを export してしまうことにしている.
これが良いのか悪いのかはまだ迷っている.
別に cumin はテンプレートエンジンではないし, INI とか普通のを見るとこっちのが自然だし, とも思っている.

ところで, そうすると cumin が export できるデータというのは JSON で言うところの辞書データに限定されることになる.
例えば配列1つを export することが出来ず,
`{&quot;data&quot;: [1, 2, 3]}`
のように包む必要が出てくる.
これは包めば表現できることだし,
そもそも初めから, 全ての JSON データを表現可能にするつもりがないというのがある.
さっき型システム云々のところで言ったような奇妙な配列はそもそもエラーにしたいわけだし.

というわけで JSON から cumin への変換は常にはできないことになる.
ただしその逆に cumin から JSON への変換は常に出来るようにしておきたい.
cumin の処理系として `cuminc` を開発するつもりだが,
これは JSON を吐くコンパイラとして作るつもりだ.

cumin は struct 構造体を持つ.
これは Rust で言えばそのまんま `struct`, 或いは C/C++ で言うところの構造体の宣言である.

```rust
struct X {
    x: Nat,
    y: Int,
}
```

例えばこの構造体 `X` はは `{&quot;x&quot;: ..., &quot;y&quot;: ...}` という形式の辞書を表現している.
ここで `x`, `y` のデータ型はそこに書いてあるとおり Nat, Int でなければならない.
そして `x`, `y` 以外のフィールドが余計についてたら駄目だし, 逆に足りなくても駄目ということにする.
フィールドが無くてもいいこともあるかもしれないので, `None` をサポートする `Option` 型やデフォルト値の設定も出来るようになると便利だろうと思う.

さてこの `X` 構造体を使うと,

```rust
let p = X(1, -1);
```

と書ける. これは `{&quot;p&quot;: {&quot;x&quot;: 1, &quot;y&quot;: -1}}` を表す.
いちいち `{&quot;x&quot;: 1, &quot;y&quot;: -1}` と書くのを `X(1, -1)` で書けるので,
簡潔に書けるようになるし, 可読性にも貢献するだろう.
限定的ではあるが, struct を使うことでマクロ的に記述を減らすことが出来る.

普通にマクロそのものを提供するかは, ちょっとまだ考えてる.
上に書いたことで出来る範囲で十分なんじゃないかと.

プログラマブルであること.
数値の四則演算であったり, 配列の結合や map といった基本的な演算をサポートすること.

```rust
let x = [1, 2, 3];
let y = x.map(|val| val + 10);
let all = x + y;
```

これは

```json
{
    &quot;x&quot;: [1, 2, 3],
    &quot;y&quot;: [11, 12, 13],
    &quot;all&quot;: [1, 2, 3, 11, 12, 13]
}
```

を表す.
ここで `x` と `y` は `all` を作るためのデータで, 表に出したいわけじゃないとする.
ただの `{}` は変数スコープを作る.

```rust
let all = {
    let x = [1, 2, 3];
    let y = x.map(|val| val + 10);
    x + y
};
```

ここがやっぱり迷ってる部分で, Jsonnet のようなデータ+テンプレートの二部構成にするなら,

```rust
let x = [1, 2, 3];
let y = x.map(|val| val + 10);
x + y
```

と書ける.
こうやって見ると, こっちのほうが簡潔じゃないかと思いもする.

## 追記

ていうか、

```rust
let x = {
    let x = 2;
    x + 1
};
```

この `{}` の中は `3` というデータを表していて, `{&quot;x&quot;:2}` というデータではない.
一方で全体は `{&quot;x&quot;: 3}` を表すということになっていて, キレイな再帰的データ構造になっていなくて気持ち悪い.

これを採用するならそのjsonnet方式を採用した方がずっといい.

```rust
let x = [1, 2, 3];
let y = x.map(|val| val + 10);
x + y
```

でもって `[1,2,3,11,12,13]` というデータを表す.

或いはもっと別な文法にする.
例えば

```rust
x + y
    where {
        let x = [1, 2, 3];
        let y = x.map(|val| val + 10);
    }
```

うーん, これはちょっとな...
&lt;/code&gt;&lt;/pre&gt;
    </description>
    <pubDate>Sat, 07 Nov 2020 00:00:00 +0900</pubDate>
    <guid isPermaLink="true">https://cympfh.cc/taglibro/2020/11/07</guid>
  </item>
  <item>
    <title>Wed Nov 04 2020</title>
    <link>https://cympfh.cc/taglibro/2020/11/04</link>
    <description>
      &lt;pre&gt;&lt;code&gt;
## 最近読んだ漫画の感想を書く

日付は私が初めて読み終えた日

### ハルシオン・ランチ 全2巻 (2020/11/03)

「波よ聞いてくれ」の沙村広明.
「波よ聞いてくれ」の連載が2014年からで, 本作は2008から2011年.
そちらでもそうなんだけど, 色々とっちらかっていて, この人の漫画は読むのが正直大変.

さてこれはSFトンデモギャグコメディである.
地球外からやってきた人形（女の子の姿をしている）が主人公の人間たちと生活をともにする.
その人形にはトンデモない設定が盛り込まれていて, 陳腐と言えばそうなんだが,
そんなところはどうでもよくて.
人形のお腹は遠くの空間とつながっており, 無尽蔵にものを食べる事ができる.
逆に「吐き戻し」をすることで食べたものを再編成してキメラを作り出す事ができる.
初めにその人形が「リアカー」を食べ, 人間を食べるところなんかはまさしくファンタジーであるのに対して,
吐き戻し, 要するに嘔吐するシーンだけは人間の女の子が苦しんで嘔吐をしている姿として描かれている.
この全2巻は結局このシーンを描く為だけの場に過ぎない.

### 可哀そうにね、元気くん 6巻 (2020/10/21)

ラブコメ？人間ドラマ？として意外と話が進んでいる.
作者の性癖（誤用）展開にしか興味がないので, そういう細かいドラマは速度あげてさっさとやってほしいなと思ってしまう.

### 潮が舞い子が舞い 4巻 (2020/10/20)

平和な世界に拍車が掛かってる

### よふかしのうた 5巻 (2020/10/18)

ファンタジーとして風呂敷を広げるフェーズだなあ

### 16bitセンセーション 1巻 (2020/10/14)

ゼロ年代アキバの歴史書

### 高橋留美子傑作短編集 るーみっくわーるど 全3巻 (2020/10/10)

やはり短編はいい.
面白い長編を書く人が書く短編はもっといい.
時系列を正しく把握できなてないけど, この短編集で既に犬夜叉だったりのアイデアが惜しげなく披露されていて,
やっぱりこの人が書きたいのはこういうのなんだなあってわかる.

### 出世の首 ヴァーチャル短編集 (2020/09/23)

やはり短編は良い.

### めぞん一刻 新装版 全15巻 (2020/09/17)

ファンタジー的な要素もなく, 想像以上にかなり王道なラブコメ.
そのまま実写ドラマにしても違和感がなさそう（既にあったりするのかな, 調べたらあった！）.

さてこの主人公はアパートの管理人, 音無響子である.
音無響子の心情説明に重きが置かれていることからそれは明らかなのだが,
女性的な重たいシーンが多くて, 高橋留美子への同情を禁じ得ない.

### セクシーボイス＆ロボ 全2巻 (2020/09/12)

ドラマの方は当時見てたけど,
漫画をふらっと眺めたら, 大日本天狗党絵詞の黒田硫黄だったのに気づいて慌てて読んだ.
いいね.
この人の漫画はかなり絵のタッチが独特だから, 書くストーリーに合う合わないがあると思う.
これは合っている.
&lt;/code&gt;&lt;/pre&gt;
    </description>
    <pubDate>Wed, 04 Nov 2020 00:00:00 +0900</pubDate>
    <guid isPermaLink="true">https://cympfh.cc/taglibro/2020/11/04</guid>
  </item>
  <item>
    <title>Tue Nov 03 2020</title>
    <link>https://cympfh.cc/taglibro/2020/11/03</link>
    <description>
      &lt;pre&gt;&lt;code&gt;
## 2018年11月25日試験 - 統計2級過去問

引き続きやってく.
多少慣れてきたので簡単に思えることは簡単に書く.

### リンク

- 問題: https://www.toukei-kentei.jp/wp-content/uploads/g2_201811.pdf
    - 予備: https://web.archive.org/web/20201101141143/https://www.toukei-kentei.jp/wp-content/uploads/g2_201811.pdf
- 回答: https://www.toukei-kentei.jp/wp-content/uploads/g2_201811_ans.pdf
    - 予備: https://web.archive.org/web/20201101141120/https://www.toukei-kentei.jp/wp-content/uploads/g2_201811_ans.pdf

### 問1

#### (1)
各列について和 100.0 になるようにする.

#### (2)

外れ値が表示されてるので, 最大値が分かる.
それが目印になる.

#### (3)

1. 四分位範囲は四角形の高さ.
2. 先程も言ったように最大値は見れば分かる.
3. 中央値は箱の真ん中にある太い線.

### 問2

1. 相関係数はちょうど線形の比例の関係しか見れないところある.
2. バラバラなプロットより直線にある方が絶対値は大きくなる.
3. 「平均して」ならそうだけど, そうでないなら違う.

### 問3
#### (1)

入る数値を $r$ とすると, 変化率とは $\frac{111.7-r}{r}$ であってこれが 4.98%.

#### (2)

単に [移動平均](https://bellcurve.jp/statistics/course/12933.html) という場合には注目してる値をウィンドウの真ん中に置いた単純平均.
ウィンドウのサイズ $n$ が今の場合奇数 ($n=3$) なので, ちょうど真ん中に自分をおけるが,
奇数の場合はやや注意が必要.
自分を真ん中に $n+1$ 個の値をとってきて, 代わりに両端の値には 0.5 を掛けて使う.

### 問4

[ラスパイレス](https://bellcurve.jp/statistics/course/18454.html) とは,
量に関する値を基準の年のもので統一して使って計算するマイクロ平均の比率.

### 問5

小さな層がある場合に全体からの単純無作為抽出ではそこからは選ばれない確率がそれなりにある.
層化は必ずそういう層からも選ばれる利点がある.

### 問6

見たまんま二段抽出.

### 問7
#### (1)
中学算数
#### (2)
中学算数

### 問8
#### (1)

標準正規分布で上側が95%なのは $u=-1.64$.
$y=0.3+2x+u$ にこれを代入する.

#### (2)

標準正規分布で上側が5%なのは $u=1.64$.
$y=0.3+2x+u$ にこれを代入するとちょうど 1 番のグラフが得られる.
というか, 得られるグラフが1次関数であることを見抜ければ具体的な数値は何も要らずに答えられる.

### 問9
#### (1)

$$P(X=x) = \dbinom{7}{x} \left( \frac{1}{3} \right)^x \left( \frac{2}{3} \right)^{7-x}$$
を代入.

#### (2)

二項分布であって, 期待値が $7/3 = 2.33$. 一番近いのは $X=2$.

### 問10

この形で与えられる標本平均は不偏推定量であり, 一致推定量である.

不偏であることから, その期待値は真の期待値に一致する.
ここで選択肢は 1,3,5 に絞られる.

次に一致推定量であることから, $n$ を大きくするにしたがって真の値に近づく.
これはすなわち分散が小さくなるということ.
というわけで選択肢の 3, 5 にまで絞られる.

直感的に, 標準偏差がサンプル数にそのまんま反比例するような都合のいいことはなくて,
むしろ $\sqrt{N}$ に反比例するのが常である.

2つの確率変数 $X,Y$ について
$V(X+Y) = VX + VY + \mathrm{Cov}(X,Y)$
である. ここで Cov は共分散だが, もし2つが独立であるならその値はゼロになる.
ここで $X_i$ は独立であることから,
$$V \bar{X} = V(\frac{1}{n} \sum_i X_i) = \frac{1}{n^2} \sum_i VX_i = \frac{\sigma^2}{n}$$
を得る.

### 問11

歪度は左右対称のときにゼロ. 平均が左に寄ってるときに正を取る.
尖度は正規分布のときにゼロ. それより尖ってると正.

#### (1)
正規分布はともにゼロ.

#### (2)
確率密度関数 $f(x)=1/2$ を使って積分すれば良い.

#### (3)

1. 定義と逆のことを行ってる
2. 裾が長いのが「尖っている」
3. t分布は自由度が大きくなるにつれて正規分布に近づくのだから, 歪度はゼロに近づくはず

### 問12

「ほぼ毎日」と答える割合の真の値を $p$ とする.
今考えてるのはそう答えるか答えないかのベルヌーイ試行.
1338 個のサンプルでそう答える人数 $X$ を確率変数に置くとこれは二項分布になる.

二項分布は例によって正規分布に近似される.

- サンプル数 $N = 1338$
- 期待値 $\mu$
    - $Np$
- 分散 $\sigma^2$
    - $N p (1-p)$

でもって, 標準正規分布で 95% 信頼区間は $\pm 1.96$ なので,

$$\begin{align*}
&amp; \frac{X - \mu}{\sigma} \in \pm 1.96
\iff &amp; \frac{X/N - p}{\sqrt{p(1-p)/N}} \in \pm 1.96
\iff &amp; X/N \in p \pm \sqrt{p(1-p)/N} 1.96
\end{align*}$$

ここで右辺の $p$ に尤度比率 0.02 を代入して,
$$0.02 \pm 0.0075$$
を得る.
一番近いのは選択肢の2番.

### 問13

$t$ の値は式の形を覚える.
サンプル数の平方根が掛かってるのが正しくて選択肢の 3,4 のどちらかが正解.

$\nu=19$ の t 分布で両側 5% の点を見れば 2.093.

### 問14
#### (1)

各条件のサンプル数のそれぞれ $-1$.

#### (2)

棄却する条件は少なくともどれかの組み合わせで分散が違うと判定されること.
$1 - (0.95)^3$.

### 問15
#### (1)
サンプル数 $n=200$, 不良品率 $r=0.05$ に関する二項分布.
平均は $nr$.
分散は $nr(1-r)$.

#### (2)
もうなんか, 統計検定で二項分布の表が与えられることはなくて, 常に正規分布に近似しておけばよい.
上で計算した平均と分散だけを入れた正規分布だということにしてよい.

$r=0.05$ のときに不良品の数が $X &gt; 16$ になる確率がここでいう P-値になる.

#### (3)

$r=0.05$ だという話はここでは終わってて,
A,B社ともともに不良品率 $p$ であるという話が始まってることに注意.

各社の不良品数の分布は

- A: $\mathcal N(np; np(1-p))$
- B: $\mathcal N(np; np(1-p))$

この差の分布は

- $A-B$: $\mathcal N(0; 2np(1-p))$

くらい. しょうがないので $n=200, p=16/200$ とした.
さて, 今この差がちょうど 1 あった.
これを両側検定して $P(|X| &gt; 1)$ を求めれば良い.
特に対立仮説が左右対称なので両側にしている.

### 問16
#### (1)

わかんないです.
カイ2乗検定が出たら捨てます.

#### (2)
自由度はサンプル数$-1$,
あとは付表から 1.15 を読み取って棄却しないことが分かる.

### 問17
#### (1)

自由度は52であることだけ出力から分かる.
サンプル数 $N$, 次元数 $p$ から自由度は $N-p-1$.
ここで $p=2$（説明変数の個数）なので,
$N=55$.

#### (2)

1. Intercept の Std.Error を見れば全然違うことがわかる
2. Pr とか P-値はそれぞれの係数が 0 に等しいことに関する確率
3. Adjusted なんとかを読む

#### (3)

1. population の係数を見れば分かる
2. log(gdp) の係数を見れば分かる
3. $-1283 + (-0.066) \times 400 + 175.7 \times 10 = 447.6$

### 問18
#### (1)
1. 誤差2乗和のこと. $3 \sigma_u^2$ を計算するとこの値が出てくる
2. t値は変わらない
3. それはそう

#### (2)

1. いくら見た目がゼロに近かろうがそれだけで判断したら駄目で, そのためにP-値がある
2. めちゃくちゃ相関してるから無視しちゃ駄目
3. これはゼロである確率なので, 大きいほど棄却できない

#### (3)

1. $x,z$ に相関関係がある以上, 係数がめちゃくちゃずれるのはしょうがない
2. はい
3. 有意でないのだからそうは解釈できない
&lt;/code&gt;&lt;/pre&gt;
    </description>
    <pubDate>Tue, 03 Nov 2020 00:00:00 +0900</pubDate>
    <guid isPermaLink="true">https://cympfh.cc/taglibro/2020/11/03</guid>
  </item>
  <item>
    <title>Mon Nov 02 2020</title>
    <link>https://cympfh.cc/taglibro/2020/11/02</link>
    <description>
      &lt;pre&gt;&lt;code&gt;
$\def\L{\mathcal L}\def\bar#1{\overline{#1}}$

## 自然言語

文として書き下すことが出来る自然言語を, 次のような数学的対象に簡易的にモデル化する.

自然言語 $\L$ は次の構造からなる.

- 単語集合 $V$
    - この集合の元のことを **単語** という
    - $V$ のことは **語彙** ともいう
- 有限長の $V$ の列集合 $[V]$
    - $[V] = \bigcup_{i=0}^\infty V^i$
        - $u \in V^i$ とは単語を $i$ 個並べた列のこと
    - $[V]$ の元のことを **文** と呼ぶ
        - $u \in V^i$ のとき $u$ の長さは $i$ であると定める
    - 特に長さ $0$ の列がちょうど一つだけ存在する
        - これを $\epsilon$ と書いて **空文** と呼ぶことにする
- 意味空間 $\Omega$
    - 今は単に集合であるとだけ定める
- 解釈関数 $\sigma \colon [V] \to \Omega + \{ \bot \}$
    - ここで $+$ は直和
    - $\bot$ は $\bot \not\in \Omega$ なる特別な記号
    - 文 $s \in [V]$ について $\sigma(s) = \bot$ のとき, $s$ を **非文** と呼ぶ
        - 非文ではない文を **正文** と呼ぶ
        - 単に「文」という場合は正文も非文も含む
            - 文が正文であることを「意味がある」といい, 非文であることを「デタラメである」という
- 非文ではない文だけを集めた集合を $L$ とする
    - 解釈関数は定義域を $L$ に制限することで自然に $\sigma \colon L \to \Omega$ に出来る

以上の構造を持った $\L(V, L, \Omega, \sigma)$ を自然言語と呼ぶ.

## 意味空間

上で定義した自然言語 $\L$ には何とも定まってない意味空間 $\Omega$ がある.
ここに数理的な演算が出来るような拡張をほどこした空間 $X$ を代わりに構成することを考える.

$\Omega$ に出来なくて $X$ に出来るような違いとして次がある:

- 非文の意味が取れる
    - $\Omega$ への割当 $\sigma$ は非文の意味が取れない
    - 特に1単語の意味を $\Omega$ では考慮することができない
        - ある人がただ「猫」と発言したものをどう解釈すればよいだろうか？
- 意味の合成が出来る
    - $X$ に合成演算をもたせる
    - 文は結局, 単語や文の断片を結合させた列である
        - 単語や文の断片（それらは非文）に割り当てた意味の合成にそれを対応させたい

### 意味の割当

非文も含めた全ての文 $[V]$ から $X$ への写像を意味割当と呼ぶ.
割当関数を上付き線で表すことにする.
$$[V] \to X$$
$$u \mapsto \bar{u}$$

特に $V \simeq V^1 \subset [V]$ に割り当てる意味を **単語の意味** と呼ぶことにする.
$$a \in V \mapsto \bar{a} \in X$$

### 意味合成

合成演算 $\circ$ は $X \times X \to X$ なる二項演算子で, 意味の合成を表す.
つまり, 2つの文 $u_1, u_2 \in [V]$ について, これらを列結合した文 $u = u_1 + u_2$ の意味は次を満たす.
$$\bar{u} = \bar{u_1} \circ \bar{u_2}$$

以降で曖昧性のない限り, この $\circ$ は略して単に
$\bar{u} = \bar{u_1} \bar{u_2}$
のように書く.
ちょうど実数の掛け算を表記するのにいちいち $2 \cdot x$ とか $2 \times x$ とか書く代わりに $2x$ と書くのと同様に.

#### 意味合成の単位元

空文 $\epsilon$ の意味 $\bar{\epsilon}$ のことを $1 \in X$ という記号で表すことにする.

これは意味合成に関する単位元になっていてるべきだ.
なぜなら, $u + \epsilon = u = \epsilon + u$ であるから.
というわけで $1$ は
$$\forall x \in X, x \circ 1 = x = 1 \circ x$$
を満たす.

以上から $X$ は意味合成に関してモノイド構造を持つ.

### 意味の一貫性

文 $u$ が非文でないとき, $\sigma(u) \in \Omega$ という意味と, $\bar{u} \in X$ という意味とがある.
このときは同じ意味だとしてしまったほうが良さそう.
$$u \in L \implies \sigma(u) = \bar{u}$$
もっとも, $\Omega, \sigma$ の中身がどんなものか何も言っていないので, この主張は何も言っていないのと同じだ.

### 距離位相

直感的な説明として, 文 $u$ と $v$ の意味には近い遠いがある.
そこで $X$ に距離 $d$ を入れて, 近さを表現する.
$$d \colon X \times X \to \mathbb R_{\geq 0}$$

2つの文 $u,v$ について
$d(u,v)=0$
のとき, 2つは全く同じ意味を持つという.

ただし現実の自然言語を考えると,
字面が違うのに全く同じ意味を持つことなんてそうそうないだろうから,
意味は同じか異なるかではなくて, 近い遠いという分類で考えることのほうが重要だ.

### 破綻した非文

非文にも意味を与えたい理由は, そこにさらに単語をいくつか付け加えれば文として意味が通るようにできるからだ.
しかし, あまりにもデタラメな単語を並べすぎると, それ以上単語を付け加えても文になりようがない.
そのような非文を **破綻文** と呼ぶことにしよう.
字面がまるで違っても破綻文はもはや解釈不能であるという点で同じ意味としてしまおう.
やはり特別な記号 $\bot \in X$ をその意味ということにする.
ここに任意の意味を合成しても尚破綻したままなので,
$$\forall x \in X, x \circ \bot = \bot = \bot \circ x$$
が成り立つ.

## word2vec への適用

現実の実装はここに書いた限りではないどころか全然違うだろうが,
強引に当てはめれば次のように言えるかもしれない.

### 意味空間

意味空間 $X$ として, 実ベクトル空間 $\mathbb R^m$ を用いる.
$$u \in L \mapsto \bar{u} \in \mathbb R^m$$
実際には合成があるので,
文の意味は単語の意味の合成によって求まるので単語の意味割当だけ決めれば十分.
その割り当て方については論文を読んでくれ.

### 意味合成

必ずしも決まっていないが, ただの加算を用いることが多い.
$$\bar{u} \circ \bar{v} := \bar{u} + \bar{v}$$
これの単位元はもちろんゼロベクトルになる.
$$\bar{\epsilon} = 0$$

また, 距離のとり方にもよるが, 単語数で割った単純平均を使う場合もあるようだ.

&gt; 細かいことを言うと, 平均の場合は平均値だけから二項演算として定義することは出来ない.
例えば実数の平均だと $1 \circ 2 \circ 3 = 2$ （3つの値の単純平均）になるが,
これは結合則を満たさない（例えば $(1 \circ 2) \circ 3 = 1.5 \circ 3 = 2.25$）.
いくつの平均かという情報が失われてるのが問題だから, 平均値の代わりに, 何個の単語であるかと, 合計値を持つことにすればいい.
空間を $X = \mathbb N \times \mathbb R^m$ に修正して,
$$(m, x) \circ (n, y) := (m+n, x+y)$$
とすればいい.
単位元は $(0, 0)$ になる.
距離を計算するときには $(m,x)$ から平均値 $x / m$ を計算して使えばよい.

どちらにせよ, 文中の単語の順序は一切考慮されないことになる.

ただしNLPの常套テクニックとして,
文の始まりを表す特別なトークン `BOS`
及び終わりを表すトークン `EOS` を用意して,
それらにはゼロでないベクトルを割り当てるのが普通だ.
これに対しては特に修正は必要なく, 普通に単語集合 $V$ にこの2つを加えて,
`BOS` で始まって `EOS` で終わる文を正文であることの条件に加えれば良い.

### 意味の距離

ベクトルなどと言っているが,
結局ユークリッド空間上の点に過ぎない.
cos 距離 $1 - \cos(u,v)$ とか,
L2 距離 $\| u-v \|_2$ などが使われる.

ただし,
cos 類似度を計算する場合はゼロベクトルだと何も計算が出来ないので,
$d(u,0) = \infty (u \ne 0)$
などとしておく.

cos 距離だと `dog` という文と `dog dog` という文は同じ意味になる.
合成を平均でやる場合は当然だが, 加算であっても,
これは定数 $k&gt;0$ に関して
$\cos(u,kv) = \cos(u,v)$
が成り立つため, やはり同じ意味になる.

### ゼロベクトルの扱い

現実の実装では $X = \mathbb R^m \setminus \{0\}$ としてしまうことが多い.
非文に意味を考えないといけないケースがまず無いからである.
その場合に合成の結果ゼロベクトルが作られないことが要求されるが, そんな保証は無いことが普通である.

ところで Skip-gram でゼロベクトルを入れるとどうなるだろうか.
このモデルのパラメータは行列 $W$ とバイアスベクトル $b$ であって, 単語に意味 $x \in \mathbb R^m$ が割り当てられるとき,
$$p = \mathrm{softmax}(Wx+b)$$
がその単語の周辺に出現する確率分布を表している（逆に言えばこれが成り立つように $W,b$ 及び $x$ を獲得している）.
$x=0$ を代入すれば,
$$p_0 = \mathrm{softmax}(b)$$
を手に入れる.

さて, ゼロベクトルは空文の意味ベクトルであった.
空文の周辺にどんな単語が出現するかは, 自由な箇所に単語が出現する確率なので, 言語全体で単語が出現する確率に過ぎない.
データセット上で単語をカウントすることで $p_0$ は尤度推定される.
これによって $b$ は決定される.

### 非文の扱い

非文は入力しないということで全くサポートされない.

## 圏化

色々妄想を書いたが, 結局ほとんどモノイド構造に毛を生やしただけのものだと言っているに過ぎない.
次のように至極単純に書き下す事ができる.

### 言語の圏

自然言語 $X$ の圏とは次のようなもの.

- 対象は唯一の $X$
- この言語から生成される文とは射 $X \to X$ のこと
    - 文の結合が射の合成に対応する
    - 特に恒等射 $1$ は空の文に対応する
    - また破綻文に対応する特別な射 $\bot \colon X \to X$ があって,
        - $\forall x, x \circ \bot = \bot \circ x = \bot$

**疑問**:
距離は？
実数への圏（とは？）への関手を考えるとよい？
位相群の圏化とか調べたらそれがそのまま使えそう.

### 翻訳関手

自然言語 $X$ の圏から $Y$ への翻訳とは, 関手 $F \colon X \to Y$ のことだと言える.
ここで準同型として特に

- $F1 = 1$
- $F \bot = \bot$

を要請する.

**疑問**:
$X$ の正文については $F$ は正しくマッピングされることが期待されるけれど,
どんな非文でもマッピングすることまで出来るだろうか？
&lt;/code&gt;&lt;/pre&gt;
    </description>
    <pubDate>Mon, 02 Nov 2020 00:00:00 +0900</pubDate>
    <guid isPermaLink="true">https://cympfh.cc/taglibro/2020/11/02</guid>
  </item>
  <item>
    <title>Sun Nov 01 2020</title>
    <link>https://cympfh.cc/taglibro/2020/11/01</link>
    <description>
      &lt;pre&gt;&lt;code&gt;
引き続き, 統計2級の過去問をやる.
[ここから](https://www.toukei-kentei.jp/info/challengetk/challengekako/) 過去4つ分の過去問があることが分かった.
どうやら公式webサイトでは直近一つの問題しか公開してないみたい.

## 2019年6月16日試験 - 統計2級過去問

### リンク

- [問題](https://www.toukei-kentei.jp/wp-content/uploads/g2_201906.pdf)
    - [予備リンク](https://web.archive.org/web/20201012162845/https://www.toukei-kentei.jp/wp-content/uploads/g2_201906.pdf)
- [正解](https://www.toukei-kentei.jp/wp-content/uploads/g2_201906_ans.pdf)

10/13 12:40-13:14

### 問1
#### (1)

下4つの和が19.6であったということ.
引き算して, (イ) は 5.8%.

#### (2)

上から累積して足していって, 50% ちょうどが含まれるところを探す.

- Sum[300万未満] = 27.4
- Sum[400万未満] = 33.5
- Sum[500万未満] = 39.1
- Sum[600万未満] = 44.6
- Sum[700万未満] = 49.1
- Sum[800万未満] = 53.2

というわけで (H) 700以上 800未満のところに中央値がある.

#### (3)

ちょうどは計算できないので,

Sum[1200万未満] $&lt;$ Sum[1309万未満] $&lt;$ Sum[1400万未満]

であることを使う. すると, 65.7 より大きく 70.3 より小さいことが分かる.
何にせよ四捨五入すれば答えは 70.

### 問2

2つのデータ $\{X_i\}$ と $\{Y_i\}$ について,

- 標準偏差
    - $\sigma_X^2 = E \left[ (X - EX)^2 \right]$
    - $\sigma_Y^2 = E \left[ (Y - EY)^2 \right]$
- 共分散
    - $\mathrm{Cov}(X,Y) = E \left[ (X-EX) (Y-EY) \right]$
- 相関係数
    - $r = \frac{\mathrm{Cov}(X,Y)}{\sigma_X \sigma_Y}$

#### (1)

相関係数が 0.72 であるということから, 答えは 4 くらい.
1,2 なら係数は負だろう.
3 はゼロくらいに見える.
5 はめちゃくちゃ相関しすぎてる.

#### (2)

相関係数が共分散を標準偏差で割ったものなので,
逆に共分散は積 $r \sigma_X \sigma_Y$ で計算できる.

147.6

#### (3)

変動係数 (Coefficient of Variation; CV) とは標準偏差を平均で割ったもの
$$\mathrm{CV} = \frac{\sigma}{EX}$$

単に値を定数倍するとき, 平均も標準偏差も同じだけ定数倍されるのでCVは変化しない.
一方で共分散は, $(X-EX)$ の分だけ定数倍されるので, 全体でもその定数倍だけされる.
答えは「変わらない」「二倍」が正解.

### 問3

[標準得点](https://www.juen.ac.jp/lab/okumura/test/sect0011.html) とは,
確率変数から平均を引いて標準偏差で割った値のこと.
元の分布がどうあれ, 平均がゼロ, 標準偏差が1の分布に写る.

注意としてこの問題では標準偏差とは不偏分散の平方根のことを言うらしい.

#### (1)

I について. これが標準得点そのものを言っている.

II について.
元の値で一番大きいのはマイアミの22.
これが2.5より小さければ正しい.
$(22-2.4)/7.0= 2.8$
なので正しくない.

III について.
正しい気がする.

摂氏温度 $x$, 華氏温度 $w$ について適当な係数 $a,b$ で
$w = ax+b$
が成り立っている.
$x$ から得る標準得点は $(x - EX)/\sqrt{VX}$.

一方で $w$ から得る標準得点は
$(w-EW) / \sqrt{VW} = ((ax+b) - (a EX + b)) / (a \sqrt{VX}) = (x-EX)/\sqrt{VX}$.
したがって2つは一致する.

以上から I, III が正しい.

#### (2)

$\bar{F}$ が今言った $EW$, $s_F$ が $\sqrt{VW}$ のことで,
これらはそれぞれ $a EX + b$, $a \sqrt{VX}$ である.
また $a = 1.8, b = 32; EX=2.4, \sqrt{VX} = 7.0$.

それぞれ計算すれば,
平均は $1.8 \times 2.4 + 32 = 36.32$,
標準偏差は $1.8 \times 7.0 = 12.6$.

### 問4

[偏相関係数](https://bellcurve.jp/statistics/course/9593.html).
2つの因子に関するデータ $X_i, Y_i$ があれば相関係数 $r_{XY}$ を求めることが出来る.
更にここで3つ目の因子に関するデータ $Z_i$ があるときに, この因子の影響をちょうど除いた $X, Y$ の相関係数を求めることが出来て,
これを **偏相関係数** という.
次で計算される:
$$r_{XY-Z} = \frac{r_{XY} - r_{XZ} r_{YZ}}{\sqrt{1 - r_{XZ}^2} \sqrt{1 - r_{YZ}^2}}$$

この式がどこから来たかは [ここ](https://mathtrain.jp/partialcor) で書いてある.

#### (1)

- I. それは正しいと思う
- II. 線形のことしか扱ってない
- III. 意味不明

#### (2)

- I. 相関の高さの話しであって, 高収入ほど～は意味不明
- II. いいえ
- III. まさにこれが偏相関係数の意味なのでこれだけが正しい

### 問5

術語覚えゲー.

[フィッシャーの三原則](https://bellcurve.jp/statistics/course/12744.html).
**反復** 測定誤差には系統誤差と偶然誤差がある.
ある実験を同じ条件で二度以上繰り返して実験する.
データのばらつきを見ることで, 偶然誤差の大きさが評価できる.
**無作為** 考慮してる要因以外の要因の影響をなるべく減らすため, 実験の環境を無作為に選ぶ.
系統誤差を偶然誤差ということにすることができる.
**局所管理** 実験環境, 例えば実施する時間を細かく区切って, 出来るだけ同じ環境で行うことで系統誤差を小さくすることを目的にする.

- I. 正しい
- II. 同一の実験条件ならいいので複数の被験者でもいい
- III. そういうことじゃない

I のみ正しい.

### 問6

1. 段数を増やすほど数が減るので精度は減る
2. グループ分けしない
3. 無作為抽出とは関係ない
4. 精度のよしあしではなさそう
5. これはクラスター抽出の説明そのもの

### 問7

同時確率はここから足し引きして
$$P(A \cap B) = P(A)+P(B) - P(A \cup B) = 0.14$$
と分かる.
$P(A \cap B) = P(A) P(B)$
が成り立っているので独立であることが分かる.
また背反でもない.

### 問8
普通に確率の問題
#### (1)

赤がちょうど一回取り出されるとは,
一回目と二回目がそれぞれ, 赤白または白赤であった, と言い換えられる.

$P(B, X=1) = P(B) P(X=1|B) = \frac{2}{3} (\frac{1}{5} \frac{4}{5} + \frac{4}{5} \frac{1}{5}) = 16/75$

#### (2)

$X&gt;2$ になることはなくて, $X=0$ の場合は期待値に入らないので, $X=1,2$ のケースを計算すればよい.

- $P(A,X=1) = \frac{1}{3} ( \frac{2}{5} \frac{3}{5} + \frac{3}{5} \frac{2}{5}) = 12/75$,
- $P(B,X=1) = 16/75$,
- $P(A,X=2) = \frac{1}{3} ( \frac{2}{5} )^2 = 4/75$,
- $P(B,X=2) = \frac{2}{3} ( \frac{1}{5} )^2 = 2/75$.

というわけで $P(X=1) = P(A,X=1)+P(B,X=1) = 28/75$, $P(X=2) = P(A,X=2)+P(B,X=2) = 6/75$.
$EX = P(X=1) \times 1 + P(X=2) \times 2 = 40/75 = 8/15$.

### 問9

確率変数 X,Y および実定数 a,b について, 期待値, 分散, 共分散は次を満たす.

$\def\Cov{\mathrm{Cov}}$

1. 期待値の線形性
    - $E(aX+b) = a~EX + b$
    - $E(X + Y) = EX + EY$
2. 分散の定義
    - $VX := E(X-EX) = EX^2 - (EX)^2$
3. 共分散の定義
    - $\Cov(X,Y) := E((X-EX)(Y-EY)) = E(XY) - EX~EY$
4. 分散の線形性
    - $V(aX+b) = E(aX+b)^2 - (E(aX+b))^2 = a^2~VX$
    - $V(X+Y) = E(X^2+2XY+Y^2) - (EX+EY)^2 = VX+VY+ 2\Cov(X,Y)$
5. 共分散の双線形性
    - $\Cov(aX+b, Y) = a \Cov(X,Y)$
    - $\Cov(X, aX+b) = a \Cov(X,Y)$

この中で最低限しっておくべきは 1,2,3 だけ. 2,3 の定義は `:=` の両辺が直接定義になることが多いが, そのさらに右の `=` まで覚えておくと便利. もっとも, この `=` も, 4 以降も 1,2,3 から全て導ける. 結局どの定義も期待値 $E$ をベースにしているだけなので, 全部 $E$ で表して線形性を使ってバラせば, 全ての計算が可能になる.

#### (1)

定義から $\Cov(X,Y) = E(XY) - EX ~ EY = 4 - 1 \times 2 = 2$ がすぐ分かる.
次に $VZ, VW$ について考えると,

- $VZ = V(X+Y) = VX + VY + 2 \Cov(X,Y) = 24$
- $VW = V(2X-Y) = V(2X) + V(-Y) + 2\Cov(2X, -Y) = 4 VX + VY - 4 \Cov(X,Y) = 24$
    - ここで $2X, -Y$ を確率変数だと思って展開していることに注意

そして $\Cov$ の値は 2 だとわかってるのでこれを代入して,

- $VX + VY = 20$
- $4 VX + VY = 32$

という連立方程式を得る. これで $VX=4, VY=16$ とわかった.
最後に
$VX = EX^2 - (EX)^2$ なので,
$EX^2 = VX + (EX)^2 = 4 + 1^2=5$.
選択肢はこれで 3 番に絞られた.

#### (2)

相関係数とは
$$r = \frac{\Cov(X,Y)}{\sqrt{VX ~ VY}}$$
だと決まってるんで, $\frac{2}{\sqrt{4 \times 16}} = 1/4$.

### 問10

在宅してるかどうかについてのベルヌーイ試行であって, 初めて成功するまでの回数に関する分布なのでこれは
成功確率 $p=0.2$ の
[幾何分布](https://bellcurve.jp/statistics/glossary/870.html)
のこと.

#### (1)

最初の二回失敗して次に成功する確率なので, $(1-p)^2 p^1 = 0.128$.
選択肢はこれを適当に四捨五入したもの.

#### (2)

期待値は普通に考えて $1/p=5$.
そしてこれが幾何分布であることを考えれば（少なくとも負の値を取らないことから正規分布のはずがない！）答えは2番.

参考までに $VX=(1-p)/p^2$.
気合い入れて導出は出来るけどまあまあ大変なので覚えるか諦めよう.

### 問11

標準正規分布に治すと,
$$\mathcal N[2;9](-1, 4) = \mathcal N[0;9](-3,2) = \mathcal N[0;1](-1,2/3)$$

付表1を使って上側確率だけ分かるので,
$\mathcal N(2/3,\infty) = 0.2546$
と
$\mathcal N(1,\infty) = \mathcal N(-\infty, -1) = 0.1587$
を使って,
$$\mathcal N[0;1](-1,2/3) = 1-0.2546 - 0.1587 = 0.5868$$
を得る.

### 問12

サンプル数 $N=9$ に関して, 統計量
$$t = \frac{\bar{X} - \mu}{S / \sqrt{N}}$$
を考えると, これは 自由度 $\nu = N-1=8$ のt分布に従う.

今求めたい確率は,
$$\begin{align*}
P(\bar{X} \geq \mu + 0.62 S)
&amp; = P(\frac{\bar{X} - \mu}{S} \geq 0.62) \\
&amp; = P(\frac{\bar{X} - \mu}{S / 3} \geq 1.86) \\
&amp; = P(t \geq 1.86) \\
\end{align*}$$

付表2から $(\nu, t) = (8, 1.86)$ になる $\alpha$ を読み取ると, ちょうど $\alpha=0.05$.

### 問13

サンプル数4つの内2回抽出するだけなので, 4x4 の表を書けばいいだけ.

| $\bar{X}$ | 2 | 4 | 6 | 8 |
|:---------:|:-:|:-:|:-:|:-:|
|    2      | 2 | 3 | 4 | 5 |
|    4      | 3 | 4 | 5 | 6 |
|    6      | 4 | 5 | 6 | 7 |
|    8      | 5 | 6 | 7 | 8 |

#### (1)

4x4 の内, その値を再現する組み合わせが何通りあるか数えるだけ,
$p_3 = 2/16, p_6=3/16$.

#### (2)

上の表見れば明らかで, ともに $5$.

#### (3)

1. 期待値の線形性から, $EX=(EX_1+EX_2)/2=5$ なのは明らか
2. いや出来る
3. いいえ
4. どういうこと？
5. Yes. これを不偏推定量という.

### 問14

再捕獲のときに目印がついてる個数を確率変数 $X$ ということにして, $P(X)$ を考える.

ここで, $N$ が十分大きいので, $N$ も $N-300$ も同じ $N$ で近似できることにすると,
ランダムに捕まえた魚に目印がついてる確率は定数
$$p = 300/N$$
目印がついてない確率は,
$$1-p$$
であると出来る.
すると $P(X)$ は二項分布で
$$P(X=x; p, m=200) = \dbinom{200}{x} p^x (1-p)^{200-x}$$
また, 今考えている目印のついてる魚の比率というのはまさにこの $p$ であることにも注意.

さらに二項分布は $m$ が大きいとき正規分布に近似できる.
二項分布 $P(X;p,m)$ の期待値は $EX = mp$, 分散は $VX=mp(1-p)$ で, $\mathcal N[\mu = mp; \sigma^2 = mp(1-p)]$ に近似される.
というわけで,
$$Z = \frac{X - mp}{\sqrt{mp(1-p)}} \sim \mathcal N[0;1]$$
ここで式を変形すると,
$$Z = \frac{X/m - p}{\sqrt{p(1-p)/m}}$$
で, ここで $X/m$ 実際に知りたい比率の確率変数になっている.
また,

- $p = 20/200 = 0.1$
- $\sqrt{p(1-p)/m} = \sqrt{0.1 \times 0.9 / 200} = 0.3 / 14.142 = 0.02121$

さて $Z \sim \mathcal N$ の 95% 信頼区間は, 付表1で $Q(u)=0.025$ であるところを探すことで,
$(-1.96, 1.96)$
が信頼区間であると分かる.

$$\begin{align*}
 &amp; Z \in \pm 1.96 \\
\iff &amp; X/m-p \in 0.02121 \times \pm 1.96 = \pm 0.0416 \\
\iff &amp; X/m \in p \pm 0.0416 \\
\end{align*}$$

というわけで選択肢の4番.

### 問15
#### (1)

母集団が正規分布であることに注意して,
変化率を確率変数 $X$ として,
$$Z = \frac{\bar{X} - \mu}{\sigma / \sqrt{24}}$$
が自由度 $\nu=23$ の t 分布に従う.

付表2の $(\nu, \alpha) = (23, 0.025)$ のところを読んで, 95% 信頼区間は
$$\pm 2.069$$
だとわかる.

$$\begin{align*}
Z \in \pm 2.069 \\
\iff \bar{X} - \mu \in (\sigma/\sqrt{24}) \times \pm 2.069 \\
\iff \bar{X} - \mu \in \pm 3.682
\iff \mu \in \bar{X} \pm 3.682
\end{align*}$$

というわけで3番.

#### (2)

対立仮説が非対称なので片側検定かな.

$\nu=23$ では

- 有意水準に対する信頼区間
    - 10%: $&lt;1.319$
    - 5%: $&lt;1.714$
    - 2.5%: $&lt;2.069$
    - 1%: $&lt;2.500$

$\mu=0$ を代入すると,
$$\frac{\bar{X}}{\sigma/\sqrt{24}} &lt; \cdot$$
この左辺は 1.8146. したがって 5% では棄却されて 2.5% では棄却されない.

### 問16

帰無仮説を棄却することに関して

- 第一種過誤 (false positive)
    - 誤って帰無仮説を棄却すること
    - 実際には **帰無仮説が正しい**
- 第二種過誤 (false negative)
    - 誤って帰無仮説を採用すること
    - 実際には **対立仮説が正しい**

#### (1)

$\alpha$ は $\theta=0$ のときに $x \geq 0.8$ である確率.
これは $\mathcal N(0;1)$ で $u=0.8$ のときの上側確率 $Q(u)$ で, 付表1から $0.2119$.

逆に
$\beta$ は $\theta=1$ のときに $x \leq 0.8$ である確率で,
平行移動して左右反転したら $\mathcal N(0;1)$ で $u=0.2$ の上側確率 $0.4207$.

#### (2)

一般に $\alpha, \beta$ はトレードオフにある.
したがって $1-\alpha,\beta$ はだいたい正比例みたいな関係にある.
選択肢は 1 か 2 くらい.

1 の曲がり具合が大体それっぽい.
$\alpha + \beta$ の最小化が真ん中辺りで出来そうな形をしてるので.

#### (3)

普通真ん中あたりに極値が1つあるので 2 番.

### 問17
#### (1)

1. 高卒であることは $C=U=G=0$ で表現されているので問題ない.
2. 大卒は $\beta_1 + \beta_3$ で院卒は $\beta_1 + \beta_4$ で与えられる. なので差分は $\beta_4 - \beta_3$ で与えられて正しそう
3. サンプル数 $n$, 次元数 $p$ に対して, 係数に関する検定は自由度 $(p,n-p-1)$ の F 分布で求められる

2 のみ正しい.

#### (2)

1. そういうことになった
2. いいえ
3. そんなことはなさそうだが

#### (3)

1. モデル選択は調整済みの決定係数が大きいものを選ぶべき. というわけで誤り
2. それはそう
3. それもそう

### 問18
#### (1)

どの Pr も5%未満なのでどれも有意.

#### (2)

1. あんまわからん
2. 「ゼロに近いから説明力が低い」ならそうだが, マイナスかどうかは関係ない
3. マイナスなのでそう
4. 定数項は含まない
5. だから調整済みだってば
&lt;/code&gt;&lt;/pre&gt;
    </description>
    <pubDate>Sun, 01 Nov 2020 00:00:00 +0900</pubDate>
    <guid isPermaLink="true">https://cympfh.cc/taglibro/2020/11/01</guid>
  </item>
  <item>
    <title>Sat Oct 17 2020</title>
    <link>https://cympfh.cc/taglibro/2020/10/17</link>
    <description>
      &lt;pre&gt;&lt;code&gt;
## 日記

冗談でなく先月と今月お金使いすぎ問題がある.
税金だったり不可避なものもあるけど.
分かってるのに moon PREMIUM EDITION を, 人が買ってるのを見て, 買ってしまった.
8800円.
これからこのサントラが届いてまたそれが一万円弱する請求が来るはず.
お金で悩むのは苦しい.

↑ Amazon限定PC壁紙を外して7200円で買い直した.

**商品の値段の一部は間違いなく, その商品が私の手元に来る迄に掛かった人件費及び製造コストである.**
これは現在の大抵の社会で間違いなくそうだし, 大抵の思想の人たちはそれはそうだと認めている.
しかしだ. 消費者にとってはつい, 知ったことではないということになる.
Amazonに支払った7200円の中には間接的に, 配達業者に支払われる代金の一部が含まれているのが事実だ.
しかしそれがいくらであろうが, 私の知ったことではないし, その商品の本質的な価値の中にはそれは含まれないようにどうも思える.
安い労働者が多少乱暴に配達しようが, 高い労働者が懇切丁寧に配達しようが, 届く中身は同じだ.
私の人生への寄与は中身が重要だ.
とかいうと, 安い配達業者だと, 箱を凹ませたり, 最悪, 中を故障させるだという指摘がありえる.
それはそうだ.
故障されたら困る.
Amazonの場合はおそらく返品や交換に対応してくれるが, 結局このためのコストも, 元々の買値に含まれているからこそ, 気前よく対応してくれるわけだ.

**上手く出来てるように思えるが, もやもやが残る.**
多少乱暴ではあったが, それでも無事に届けてくれた場合は？
交換の対応のための確率的なコストがやはり含まれていて, 私は無駄にこれにお金を払ったことになる.
この最適化問題を考えると至上主義または社会主義になってしまう.
問題の解き方によって前者になったり後者になったりするわけだが, 問題意識は少なくともこの点において同じだ.
これらは社会全体の最適化問題になっていて, 私一人のことを見てくれてるわけじゃない.
資本主義も社会主義も共産主義も, それらはお前個人を豊かにするのが目的ではない.
ゆめゆめ忘れるなかれ.

**何が言いたかったかというと,**
7200円で買った商品が家に届いたとき,
私は7200円分の資産を手に入れた, ということにはならないのである.
もしそうなのであれば, 私は買い物によって1円も損していない, ただお金が商品に形を変えただけだと言える.
しかしそうではない.
その資産の価値は残念ながら7200円未満である.
**買い物というのは, すればするほど, 資産を減らす行為である.**
&lt;/code&gt;&lt;/pre&gt;
    </description>
    <pubDate>Sat, 17 Oct 2020 00:00:00 +0900</pubDate>
    <guid isPermaLink="true">https://cympfh.cc/taglibro/2020/10/17</guid>
  </item>
  <item>
    <title>Tue Oct 13 2020</title>
    <link>https://cympfh.cc/taglibro/2020/10/13</link>
    <description>
      &lt;pre&gt;&lt;code&gt;
統計検定2級の勉強をする.
参考書を持ってないのでひたすら過去問を解いてみる.

## 2019年11月24日試験 - 統計2級過去問

- [問題](https://www.toukei-kentei.jp/wp-content/uploads/201911grade2.pdf)
- [正解](https://www.toukei-kentei.jp/wp-content/uploads/ans2019n_grade2.pdf)

このリンクは次の試験が始まると消されてしまう.
ところで [こんなの](https://web.archive.org/web/20201012162418/https://www.toukei-kentei.jp/wp-content/uploads/201911grade2.pdf) がある.
正解はこれの一番最後のページにある.

### 問1

データ点を数直線上 $\mathbb R$ に載せる.
点の数が四等分になるように重ならない4区間に数直線を分割すると, 3つの境値が手に入る.
これを小さいものから
**第一四分位数 (first quartile, $Q_1$)**,
**中央値 (second quartile, $Q_2$)**,
**第三四分位数 (third quartile, $Q_3$)**
という.
さらに第3四分位数と第1の四分位数との差を
**四分位範囲**
という.

#### (1)

与えられた箱ひげ図によれば,
東京は
$Q_1=6, Q_2=8, Q_3=9.8$
くらい.
したがって,
$[Q_1,Q_2], [Q_2,Q_3]$
に入ってる点数が同じ.
一方でこの階級に照らし合わせると,
$[Q_1,Q_2)$ はあるけど, $[Q_2,Q_3]$ というのがなくて, 近いのは $[Q_2, 10)$.
したがって, 6~8 の度数より, 8~10 の度数のが多いはず.
答えは A,C,D のどれか.

それと, 外れ値を見ると, 次の3つのことが言える。

1. 3.8くらい未満の点はない
2. 13.8 くらい以上 16.2 未満の点はない
3. 16.2 以上についてはちょうど2つの点がある
    - だいたい 17 くらいと, 17.8 くらい

この 2 と 3 の条件だけから A であることが分かる.

#### (2)

1. 箱ひげ図はデータ全体の最小最大を必ずしも表現しないので, 範囲は分からない.
2. 四分位範囲とはこの図で言うところの四角形の高さのこと. 東京が一番小さそう.
3. 第一四分位数とは四角形の下辺のこと. 確かに福岡が一番高い.
4. 中央地は四角形真ん中にある太い線のこと. これが一番低いのは名古屋で高いのが福岡.
5. 最大値は表現されていないので必ずしも分からない.

### 問2

#### (1)

1. いいえ
2. いいえ
3. 1990/2015年の図で, 都道府県の対応は書かれてないので分からない
4. x=y の線を引くとだいぶ左上に来ていて, ただしそう
5. いいえ

#### (2)

具体的な数字が与えられてないので大体で考える.
x=y の上にのってれば 1.
1990年はだいぶ載っていそう.
選択肢を見ると 0.38 か 0.71 かだが, こんくらいのってれば 0.71 はあるだろう.
答えは 4 または 5 に絞れる.
とすると 2015 年の相関係数は 0.4 または 0.74.
2015年はこれもある程度は相関してるが, y切片がだいぶずれていて, 1990年よりは低いはず.
したがって 0.71 より小さくあるべきなので 0.4 だとわかる.
答えは 4.

#### (3)

外れ値を見る.
18%以上は1点.
10%未満は2点.
とすると答えは1なんだけど, ちょうど10%くらいの点もあって, もしかしたら3が答えかも.
1と3を区別するために10~12の点を数える.
いっぱいありそう.
というわけで答えは3だった.

### 問3

賃金指数が何かは問題文に書いてある.
何か分からんがそういう数字だと思うことにする.
変化率は大体そのまんま.

#### (1)

H30/1 の賃金指数が $X_0$,
H31/1 の賃金指数が $X_1$ だとする.
この変化率が $r = -0.97$ であるとは,
$$r = \frac{X_1 - X_0}{X_0}$$
ということ.
こういう状況のときに,
H30/12 の賃金指数 $Y$ に対して,
$$r&#39; = \frac{X_1 - Y}{Y}$$
を求めよという問題.

面倒なので % に関する 100 で割ったり掛けたりは無視する.

一式目を $X_1$ について解けば
$$X_1 = X_0 r + X_0$$
これを二式目に代入して,
$$r&#39; = \frac{X_0 r + X_0 - Y}{Y} = \frac{X_0 (1+r)}{Y} - 1$$
ここで $r$ がマイナスの値であることには注意.

この形式をしているのは, 1と3だけど分母が $Y=104.1$ なのに注意すれば 1 が答え.

#### (2)

平均変化率とは何かが問題に書いてある.
各々前月からの変化率を考えていることに注意.

ところで,
ここで与えられる数字は 102.6, 105.6 なので,
これ以外の値が突然出てきてる答えは除外していいに決まってる.
それから今考えてるのは複利なので, 4 に決まってるな.

### 問4

術語の問題.

- [傾向変動](https://bellcurve.jp/statistics/glossary/1281.html)
- [季節変動](https://bellcurve.jp/statistics/glossary/889.html)
    - 12ヶ月周期の変動
- [不規則変動](https://bellcurve.jp/statistics/glossary/1099.html)
    - 周期変動のうち, 傾向, 循環, 季節変動を除いたもの
    - 観測誤差など
- [循環変動](https://bellcurve.jp/statistics/glossary/1996.html)
    - 周期は一定でないけど周期的に見える変動のこと

というわけで,

- I: 直線とは限らなさそう
- II: あってる
- III: 含む

答えは2.

### 問5

時系列データ $X = \{x_t\}$ について,
ラグ $d$ として,
$X^d = \{(x_d, x_{t+d}) \}$
という自己相関データを作る.
$d=1,2,\ldots$ に対して $X^d$ の中での相関係数を棒グラフで図示したものを
**コレログラム**
という.

これは時系列データが周期を持つかを調べることが出来る.
$X$ が周期 $\ell$ を持っていた場合,
コレログラフは $d=0, \ell, 2\ell, 3\ell, \ldots$ で極端に高い値を取るはず.
($d=0$ のときは自明に相関係数 $1$ を取る.)

さて問5の初めの時系列データを見ると, 明らかに周期性を持っていそうで,
その周期はちょうど1年くらい.
コレログラムは 1,2,3 のときに高くてその逆位相 (0.5, 1.5, 2.5) のときに最低になってるはず.

選択肢だが, 横軸の単位がないがたぶん, 月だろう.
12,24,36 で高くて, 6,18,30 で低いのは 2 だけ.

### 問6

術語覚えゲーム.

- [単純無作為抽出法, Simple Random Sampling](https://bellcurve.jp/statistics/glossary/1449.html)
    - 母集団から必要な点数だけ毎回無作為に選ぶ
- [層化抽出法](https://bellcurve.jp/statistics/course/8007.html)
    - 母集団をいくつかの層（例えば性別）でグループわけする
    - それぞれの層から必要な点数だけ無作為抽出する
- [系統抽出法, Systematic Sampling](https://bellcurve.jp/statistics/glossary/1283.html)
    - データにまず添字を与える.
    - 無作為に一点を抽出してから, 添字を等間隔にとってく
        - $i \leftarrow \mathrm{Random}$
        - Choose $i,i+d, i+2d, \ldots$
- [クラスター抽出法, 集落抽出法, Cluster Sampling](https://bellcurve.jp/statistics/glossary/3657.html)
    - グループに分けて, 一つのグループをランダムに選ぶ
    - そのグループの中の点を全て使う
    - 例えば各学校をグループだとして, 学校を無作為に選ぶ
- [多段抽出法](https://bellcurve.jp/statistics/course/8007.html)
    - 階層構造になっているクラスターを見つけて, 再帰的にクラスター抽出をする
    - 例えば
        1. ランダムに都道府県を選ぶ
        1. 選ばれた中でランダムに市区町村を選ぶ
        1. ...

さて選択肢.

- I: 全体から無作為に選ぶので単純無作為抽出法
- II: 午前/午後を層化してる
- III: 便をクラスター（集落）として利用している

答えは2.

### 問7

単に標準誤差 (Standard Error of the Mean; SEM) という場合, 次のようなもの.

$n$ 点をサンプリングしてきて,
標準偏差が $\sigma$ のとき,
$$\mathrm{SEM} = \frac{\sigma}{\sqrt{n}}$$

したがって今の場合, $\hat{\sigma} = 4.0$ に注意して, 0.4 が答え.

### 問8

#### (1)

同時確率.
$20\% \times 70\%$
が答え.

#### (2)

条件付き確率.

$\def\gokaku{\mathrm{合格}}\def\jukou{\mathrm{受講}}$
知りたいのは $P(\jukou \mid \gokaku)$.
ベイズすれば,
$$P(\jukou \mid \gokaku) = P(\gokaku, \jukou) / P(\gokaku)$$
ただし $P(\gokaku) = P(\gokaku, \jukou) + P(\gokaku, \lnot\jukou)$ (周辺化)

以上から,
$$\begin{align*}
P(\jukou \mid \gokaku)
&amp; = 1 / \left( 1 + \frac{P(\gokaku, \lnot\jukou) }{ P(\gokaku, \jukou) } \right. \\
&amp; = 1 / \left(1 + \frac{0.8 \times 0.3 }{ 0.2 \times 0.7 } \right) \\
&amp; = 1 / \left(1 + \frac{0.8 \times 0.3 }{ 0.2 \times 0.7 } \right) \\
&amp; = 1 / (1 + \frac{12}{7}) \\
&amp; = \frac{7}{19} \\
&amp; = 0.368421 \\
\end{align*}$$

答えは 0.37.

### 問9

#### (1)

$f$ を全体で積分すると 1 になってるはず.
$f$ の様子を考えればよくて, 見たところ直線になってるようなので $f(0)$ と $f(20)$ を直線で繋げばいい.
$f(0) = a$, $f(20) = 0$.
これを積分するとは三角形の面積を求めることで,
$$\int_X f(x) dx = a \times 20 / 2 = 10a$$
これが $1$ なので, $a=1/10$.

#### (2)

期待値は
$$\int_X x f(x) dx = \int dx a(x-x^2/20) = \left[ a(x^2/2 - x^3/60) + C \right] = 20/3$$

三角形なのでだいたい重点が期待値になるに決まってて, それで考えても解ける.

#### (3)

使用料金に関する次の確率は密度関数の積分から計算出来て
（あるいは三角形の面積から）,

- $P(0 &lt; x &lt; 10) = \int_0^{10} dx f(x) = 3/4$
- $P(10 &lt; x &lt; 15) = 3/16$
- $P(15 &lt; x &lt; 20) = 1/16$

使用料金の期待値は,
$$1000 \times P(0&lt;x&lt;10) + 1120 \times P(10&lt;x&lt;15) + 1280 \times P(15&lt;x&lt;20)$$
ぱっとみて比重が $P(0&lt;x&lt;10)$ なので大体1000くらいでこれより大きいくらいの値.
1250 だとでかすぎるので 1040 が答えだろう.

### 問10

累積分布関数のことを分布関数と呼んでそう.

#### (1)

選択肢を見ると, $F_X(x=0)$ の値だけ調べれば良さそう.
$$F_X(0) = P[X \leq 0] = P[X=0] = P[Z&gt;100] = 1 - P[Z \leq 100] = 0.04$$
また $F_Z(0) = P[X \leq 0] = 0$
以上に合致する答えは 3.

#### (2)

下側95%点が $x$ であるとはつまり,
$$F_X(x) = 0.95$$
であること.
(1) の解答より,
$F_Z(x) = F_X(x) - 0.04 = 0.91$.
よって $x=5$.

#### (3)

$X$ の密度関数を $f_X$ とも書くことにすれば,
$X$ の期待値は $\int x f_X(x) dx$.
これを $F_Z, f_Z$ で表現すればいい.

- $F_Z(x) = \int f_Z(x) dx$
- $F_X(x) = \int f_X(x) dx$
- $F_X(x) = F_Z(x) + 0.04$

最後の式の両辺を微分すれば, $f_Z = f_X$.
というわけで $X$ の期待値は
$$\int z f_Z(z) dz$$

### 問11

[歪度と尖度](https://bellcurve.jp/statistics/course/17950.html)

データ $\{x_i\}$ の歪度（わいど）とは
$$\frac{n}{(n-1)(n-2)} \sum_i \left( \frac{x_i - \bar{x}}{\sigma} \right)^3$$
ヒストグラムをかいたとき, 完全に左右対称だと歪度はゼロで,
平均が左に寄ってるとき正の値,
右に寄ってるとき負の値をとる.

さて選択肢.

- I: 平均の値は関係ない
- II: 逆で正の値をとる
- III: 関係ない

というわけで全部誤り.

### 問12

真の値 $\theta$ に対して,
推定量 $\theta&#39;$ が不偏であるとは,
$$\mathbb E[\theta&#39;] = \theta$$
であること.

一方で, サンプル数 $n$ のときに $\theta^n$ を推定する場合に, これが一致推定量であるとは,
$$\lim_{n \to \infty} P[ \| \theta^n - \theta \| &lt; \epsilon ] = 1$$
であること.

平均的に正しければ不偏.
サンプル数を十分大きくすると真に正しくなるのが一致推定量.

平均の推定.
普通にサンプルの全部の平均を取る標本平均は一致かつ不偏.

分散の推定.
普通の標本分散は一致ではあるが, 不偏でない.
$n$ で割る代わりに $n-1$ で割ったものは一致かつ不偏になる
($\frac{1}{n-1} (x_i - \bar{x})^2$).

さてこの問題だが,
$\hat{\mu_1}$ はその平均はつまり $X_i$ の平均であり, これは真の平均なので, 不偏ではある.
しかし有限個の平均をとってるだけなので, サンプル数を増やしても一致はしない.
$\hat{\mu_2}$ は普通の標本平均なので, 一致かつ不偏.

というわけで, I, III, IV が正しい.

### 問13

標準正規分布 $\mathcal N(0,1)$ の95%信頼区間を調べる.
付表の初めに具体的な値の表があるのでこれを使う.
95%信頼区間とは中央から左右対称にとってきて確率が95%の区間のことを言う.
すなわち $Q(u) = 2.5\%$ な点を探せばよくて, $u=1.96$ （ぴったりな点が用意されている！）.
$[-1.96, 1.96]$ が95%信頼区間である.

今考えている100点サンプルによる分布は正規分布であるとしているので,
$\mathcal N(0,1)$ を期待値の分だけ横に平行移動して, 横方向に拡大または縮小したものだ.
期待値は明らかに 0.54 と分かっているので, 横方向の拡大率を調べればいい.

実は, 分布を標準化するには,
$$x \mapsto \frac{x - \mu}{\sigma / \sqrt{n}}$$
とするとよい.
$\mu= 0.54$.
そしてこの分母はさっきでてきた SEM のことである.

今考えているのはAに投票するかしないかの二項分布で,
これを正規分布だと思うことにしている.
これの分散は, $V= E[X^2] - E[X]^2 = 1/2-(1/2)^2=1/4$.
したがって $\sigma = 1/2$.
今サンプル数は $n=100$.
これらを代入すれば, SEM は $1/20$.

このサンプルが作る分布は標準正規分布を平行移動して 1/20 倍に縮小したもの.

信頼区間も $1.96 / 20 = 0.098$ から,
$[-0.098, 0.098]$
だと分かる.

答えは5.

### 問14

#### (1)

まず中央値を探す.
低い階級の度数から順に累積して足していくことで,

- 100万未満: 6.2%
- 200万未満: 19.6%
- 300万未満: 33.3%
- 400万未満: 46.5%
- 500万未満: 56.9%

したがって, 中央値は 400万以上 500万未満のところにあることが分かった.
「中央値の半分」というのは 200万以上 250万未満のことである.
「中央値の半分に満たない」とは「200万未満」または「250万未満」のこと.
したがって, 19.6% 以上 33.3% 以下が正解.

#### (2)

さっきも登場したこの $Z$ が何かということ,
これは $n \to \infty$ の極限を取ると $\mathcal N(0,1)$ になるというもの.
したがって正解は3.

選択肢2はほとんど正しいが, 母集団は正規分布でないといけないので誤り.

### 問15

#### (1)

事前分布としては, 支持する/しないが当確率だとしておけばいい.
これを確率変数 $X=0,1$ に割り当てておくと, $EX=1/2, VX=1/4$.
サンプル数 $n$ として, $X$ の標準化標本統計量 $Z$ は
$$Z_i = \frac{X_i - 1/2}{\sqrt{VX / n}}$$

さっきも見たように標準正規分布で95%信頼区間は $[-1.96, 1.96]$.
これを 6% 未満, つまり $[-0.03, 0.03]$ にしたいということは,
$0.03/1.96 = 0.015306$ 倍にしたいということ.
$\sqrt{VX/n} = 0.015306$ 未満程度になればいい.

両辺の2乗を取っておいて $VX/n = 0.00023427$ 未満程度としておく.

$VX=1/2$ と $n$ として選択肢の数字を代入してみれば,

- $VX / 900 = 1 / 3600 = 0.0002777777$
- $VX / 1100 = 1 / 4400 = 0.0002272727$

というわけで1100人は必要みたい.

#### (2)

分散が変わる.
$EX=0.8$
であるといっているので
$VX = E(X^2) - (EX)^2 = 0.8 - 0.8 \times 0.8 = 0.16$.

- $VX / 300 = 0.000533333$
- $VX / 700 = 0.000228571$

700人でいいみたい.

### 問16

#### (1)

正規分布 $\mathcal N(\mu, \sigma^2)$ に従う
$n$ 点データ $\{X_i\}$ の標本平均 $\bar{X}$, 不偏分散 ($(n-1)$ で割るやつ) を $S^2$ とする.
このとき
$$t = \frac{\bar{X} - \mu}{S / \sqrt{n}}$$
これは自由度 $n-1$ の t 分布に従う.
t分布は $n \to \infty$ のとき, 標準正規分布と一致する.

- [t分布](https://ja.wikipedia.org/wiki/T%E5%88%86%E5%B8%83)

答えは自由度 $n-1$ の t 分布

#### (2)

仮説検定

- 有意差があるかどうかを調べたい
- 仮説を建てる
    - **帰無仮説** ：差が無いという主張命題
    - **対立仮説** ：初めに主張したかった命題（一方が一方より良い）
- 帰無仮説が成り立つ確率を計算する
- その計算が一定未満なら帰無仮説を **棄却** する
    - 有意差があったとする
- さもなくば有意差なしとする

今の場合は体重の変化なしとするのが帰無仮説で, 体重の減少があったとするのが対立仮説.
それぞれは $\mu = 0$, $\mu &gt; 0$ と表される.

#### (3)

母集団が正規分布に従うことにしているので, t 検定をする.
$\mu=0$ に関する $t$ 値は,
$$t = \frac{\bar{X} - \mu}{\sqrt{S^2 / n}} = \frac{0.5 - 0}{1.5 / \sqrt{16}} = 4/3 = 1.333$$

今からしたいのが
[両側検定なのか片側検定なのか](https://bellcurve.jp/statistics/course/9319.html)
によって見る点 $t_\alpha(\nu)$ は違う.
対立仮説が左右対称（イコールかノットイコールか）なら両側、
左右非対称（大小比較）であれば片側をする.
今の場合, 一方は一方より大きいという左右非対称なことを確かめたいので片側検定.

片側での5%有意な点というのはつまり上側 5% の点を見ればよくて,
また自由度 $\nu$ は $n-1=15$ に注意して
$t_{0.05}(15) = 1.753$
であることが付表2から読み取れる.

棄却するかの判定はこの点より左にあるか右にあるかどうかだけを見れば良くて,
今の場合 $t &lt; 1.753$ なので棄却はされず, 「効果があるとは言えない」が結論になる.

「効果がない」ではなくて「効果があるとは言えない」という結論づけであることに注意.

### 問17

3群以上のデータについて平均の差を検討する手法として分散分析がある.
次のように行う.

$N$ 点データ $\{X_i\}$ が $K$ 個のグループに分割されているとする:
$$\{ X_i \}_N = \{ X_i^1 \}_{N_1} \cup \{ X_i^2 \}_{N_2} \cup \ldots \cup \{ X_i^K \}_{N_K}$$
ここで群はある要因によって分割されているとする.
この問題なら「何月」というのが要因で, データをこれによって分割している.

平均を計算する.

- 全体の平均: $\bar{X} = \frac{1}{N} \sum_i X_i$
- 要因ごとの平均（群ごとの平均）: $\bar{X^k} = \frac{1}{N_k} \sum_i^{N_k} X_i^k$

次に不偏分散を計算する.
これは次のように順序立てて計算することになっているらしい.

1. 平方和の計算
    - 全体の平方和: $G_0 = \sum_i^N (X_i - \bar{X})^2$
        - データ全体で分散を計算する
    - 要因の平方和: $G_1 = \sum_k^K N_k (\bar{X^k} - \bar{X})^2$
        - 二種類の平均同士で比較する
    - 残差: $G_2 = G_0 - G_1 = \sum_k^K \sum_i^{N_k} (X_k^k - \bar{X^k})^2$
        - その要因（群）の中での分散を計算するもの
        - $G_0, G_1$ の差であること, 一番右の式の形, 両方覚えておいたほうがいい
2. 自由度
    - 全体の自由度: $\nu_0 = N-1$
    - 要因の自由度: $\nu_1 = K - 1$
    - 残差の自由度: $\nu_2 = \nu - \nu_1 = (N-1) - (K-1) = N - K$
3. 平均平方（平方和を自由度で割る）
    - 要因: $V_1 = \frac{G_1}{K - 1}$
    - 残差: $V_2 = \frac{G_2}{N - K}$

最後に統計量 $F$ 値を計算する.
これは $$F = \frac{V_1}{V_2}$$ で与えられる.

この量 $F$ は $\geq 0$ の範囲で分布する $F$ 分布に従う量で,
上側に関する片側検定をすることに意味がある.
つまり,

- 帰無仮説: 差がない
    - 全ての群の平均は等しい
- 対立仮説: 一方は一方より大きい
    - 少なくとも一つの群は異なる

#### (1)

この問題で水準間平方和 $S_A$ としてあるのがおそらく要因の平方和のこと.
$S_e$ は残差.

この問題では要因としては月だけを考えているので年ごとの平均というのはミスリーディング.

- $S_A = \sum_k N_k (\bar{X^k} - \bar{X})^2 = \sum^{12} 11 (\bar{y_{i\cdot}} - \bar{y_{\cdot \cdot}})^2$
    - 11 は 2008 から 2018 までの個数
- $S_e = \sum_k \sum_i (X_i^k - \bar{X^k})^2 = \sum^{12} \sum_{2008}^{2018} (y_{ij} - \bar{y_{i\cdot}})^2$

選択肢は1が答え.

#### (2)

全体のデータ点が $N = 12 \times 11 = 132$ 個.
全体の自由度は $N - 1 = 131$.
要因ごとの自由度は $K - 1 = 12 - 1 = 11$.
残差の自由度は $N - N_k = 132 - 12 = 120$, または全体の自由度と要因の自由度の差で $131-11 = 120$.

#### (3)

帰無仮説は「全てが等しいこと」である.
ただしこれでは選択肢は絞れない.

対立仮説は「いずれかが異なる」である.
ここで I は誤りであることが分かる.

付表のF分布表を読む.
今このF分布の自由度は $(11, 120)$.
これで上側5%の点は, ぴったりがないんだけど, 1.910 より小さくて 1.750 よりは大きいことだけが分かる.
今 $F = 3.0471$ と, これらより大きいので帰無仮説は棄却していい.
したがって II は誤り.

P値は棄却出来るギリギリの上側確率のこと, であってる？？？
自由度 $(11,120)$ の値が付表にないので諦めて $(10,120)$ から読む.

- $F_{0.05}(10;120) = 1.910$
- $F_{0.025}(10;120) = 2.157$

$F_p$ の $p$ に関して単調減少であることはこれを見ても, あるいは意味を考えても明らか.

与えられたデータでは $F=3.0471$ であってもっと $p=0.025$ の値よりも大きいので,
$F=3.0471$ に対応する p 値はもっと小さいことが分かる.

以上から III は正しい.

### 問18
#### (1)

普通の線形回帰モデル.
Estimate が対応する係数のことだろう.
Intercept は切片ね.
選択肢1しか正しくない.

#### (2)

I について.
最小2乗誤差で最適化するとこれが成り立つ.

今データ $\{ (x_i, y_i) \}$ をモデル $\hat{y_i} = a + b x_i$ で表している.
そして最小二乗法をしているということは
$$L = \sum_i (y_i - a - b x_i)^2$$
という値を最小化している.
そのときはもちろん $L$ の勾配がゼロであるということ.
$a$ で微分すると良くて
$$\partial_a L = - \sum_i (y_i - a - b x_i) = 0$$
すなわち,
$$\sum_i y_i = \sum_i (a+bx_i) = \sum_i \hat{y_i}$$
を得る.
両辺を $N$ で割れば, 平均が等しいことも分かる.

II について.
平均を期待値と読み替えておけば, 期待値の線形性から分かる.

$\hat{y} = 14.4 + 0.4 x$ であって, 期待値 $Ey=31.3$ であるという.
$$Ex = (Ey - 14.4) / 0.4 = 42.25$$

III について.
それはそう.

#### (3)

I について.
単回帰と重回帰の違いは説明変数がただ一つか, 2つ以上か.
2つの変数の係数を等しいとすることは, その変数の和を取った一つの変数に置き換えるということ.
今の場合それはちょうど単回帰になる.

II について.
決定係数 $R^2$ ($\in [0, 1]$) はモデルのデータへの当てはまり度合いを言う.
大きいほどよく当てはまっている.
この問題では `R-squared` として出力されている.

さてこの値はモデルを複雑にすればするほど高くなる.
そこで公平さのために自由度で調整をする.
これが **自由度調整済み決定係数**.
この問題ではおそらく `R-squared Adjusted` というのがそれだろう.
見てみると単回帰の方が大きい.
大きいほうが良いので, 単回帰を選択するべき.

III について.
それはそう.
&lt;/code&gt;&lt;/pre&gt;
    </description>
    <pubDate>Tue, 13 Oct 2020 00:00:00 +0900</pubDate>
    <guid isPermaLink="true">https://cympfh.cc/taglibro/2020/10/13</guid>
  </item>
  <item>
    <title>Sun Oct 11 2020</title>
    <link>https://cympfh.cc/taglibro/2020/10/11</link>
    <description>
      &lt;pre&gt;&lt;code&gt;
## 文鳥日記

### 年齢について.

厳密に生まれた日を把握できていないので, 今が生後何日なのかが分からず,
物の指南書と照らし合わせられないのが辛い.
それでは困るので, 勝手に仕入れた時点を生後2週間ということにして, 誕生日を 2020/09/15 だということにしている.
何しろ生まれたてが一番成長が早いのでド素人に見積もることは難しいが, 世の中の生後二週間の文鳥の写真と照らし合わせて,
大体こんなんだったなということにした.

### 餌のやる回数について.

ペットショップからは2~3時間おきにとだけ言われ, 回数で指示されたりはしなかった.
ヒナが餌を欲しがるのも見て, 結局大体一日に4回あげていた.
欲しがれば寝る直前にもあげて, 一日5回になることもあった.
さて昨日ほどから一回に食べる量が減った.
指南書によれば生後1ヶ月くらいからは一日3回, 2回と餌をやる回数を減らしてくらしい.
明日からは一日3回を目安にしようと思う.

### 温度について.

昨日までは30度ぴったりくらいを目指していたが,
羽が生え揃ったら28度程度がいいらしい.
羽はもう, 10/6 か 10/7 には大体生え揃っていた.
頭の毛がキレイに揃ったのが 10/7 か 10/8 くらい.
その頃には温度を落としても良かったかもしれない.
今日一日は 29 度台になるように調整した.
様子を見てここからさらに1度下げるつもり.

### 飛ぶ練習について.

10/9 くらいから, 生え揃った羽をバタバタさせることが多く見られた.
バタバタさせたところでまだまだ飛べない.
今朝から, 脚でジャンプしながらバタバタさせることを覚えた.
虫を入れるようなプラスチックケースで飼ってるのだが,
ついさっき, 蓋を空けた状態でいると, ジャンプとバタバタとで, 底からフチまで登って来れるのを見た.
来週には飛べるようになるかもしれない.


### 体重の推移

朝一番にケージの掃除のタイミングで体重を量っている.

![](https://i.imgur.com/7kgpFKG.png)
&lt;/code&gt;&lt;/pre&gt;
    </description>
    <pubDate>Sun, 11 Oct 2020 00:00:00 +0900</pubDate>
    <guid isPermaLink="true">https://cympfh.cc/taglibro/2020/10/11</guid>
  </item>
  <item>
    <title>Sat Oct 03 2020</title>
    <link>https://cympfh.cc/taglibro/2020/10/03</link>
    <description>
      &lt;pre&gt;&lt;code&gt;
## 文鳥環境

### 温度の自動調整

家に元々Kasaのスマートコンセントが転がってた.
スマホからオンオフが出来るコンセントとして使えて, 安全装置くらいに使ってた. いや, あんまし使ってなかった.
ボタンがあって手動でもオンオフが出来るので, スイッチが無くて電源につなぐと即座に動いてしまうような電子機器に擬似的にスイッチを付け加えるようなことにも時々使ってた.
そういう意味でこれは普通に便利.
ところでこれはIFTTTにも対応している.

[前回の記事にも書いたように](01) SwitchBot の温湿度計を買った.
温度の監視に普通に使っているのと, 一応エアコンと連携している.
エアコンを操作するのもSwitchBotのリモコンだったけど, IFTTT経由をすればさっきのスマートコンセントと連携させれるのに気づいたので, これをやった.

![](https://pbs.twimg.com/media/EjYU56BU0AExm5m?format=jpg&amp;name=4096x4096)

前回も述べたように基本的には28度から30度の間にあるようにしたい.
それから, あんまり温度が上下しまくるのも良くないだろうから本当は出来るだけ一定にしたい.
また全てタイムラグがある.
寒くなったからヒーターを付けたとしても即座に温まるわけじゃない.
一応今は,

- 30.8度を超えたらヒーターを消す
- 28.5度を下回ったらヒーターをつける

ということで運用してる.
実は特段調整しなくても今まである程度一定の温度をキープしてたので,
その範囲が大体収まる程度の範囲を指定してみた.
使いながら適宜, 更に調整してこうと思う.

### 餌の時間の管理

餌を上げるべき頻度というのも分からない.
基本的には一日４回を３時間おきということにしてるが, あんまり昨日は一昨日と比較して体重が0.1gしか増えてないのが怖くて５回あげた.
ともかく, 昨日は何時に何回やったかということを管理しておきたい.
紙に書くのでもいいけど, やっぱりこれもログに残してある.

[s.cympfh.cc/bun/esa](http://s.cympfh.cc/bun/esa)

ログを送信する操作は初めはCLIでやってたけど, こんなのすぐに忘れるので,
iPadの「ショートカット」というのを使って, Siri経由でコマンドを叩けるようにした.
餌の準備をしてるときに発動させて記録することにした.

![](https://pbs.twimg.com/media/EjZViNQVcAEChxF?format=png&amp;name=900x900)

こんなグラフを出力する.
グラフにする必要も本当はない気もするけど.

### 追記: IFTTTが信用できない（かもしれない）

IFTTT単体が悪いのか,
温度計がIFTTTと連携する部分が悪いのか,
上手く機能してないのか,
私の想像以上にタイムラグがあるのか何なのか分からない.
まずこの「何度以上あるときこれを実行する」というトリガーは, ステートレスに今の状態を見るのではなくて,
状態変化を見て, 何度以上を超えた瞬間に一度だけ実行されるみたい.
それが便利なときもあるかもしれないが, もしその瞬間にIFTTTのサーバが死んだら終わりだな.

今経験したのは, 確かに設定した温度を超えたときにヒーターをオフにするというトリガーは働いたのだが,
そのまま温度が下がり, 設定した温度を下回ってもヒーターが再びオンにならないでそのまま下がり続けていた.

今はもうずっと家にいて様子を見てるので何ということもないけど,
仮にこれが冬場であって, 半日以上家を空けて,
温度管理をIFTTT任せにしてたとしたら, 凍え死んでいたことになる.
それよりはIFTTT連携を切ってヒーターつけっぱなしのほうがいい.
鳥は適宜自分でヒーターに近づいたり遠ざかったりして温度調整はしてくれるので,
上手くヒーターを設置してケージやかごの中で温度のムラを作っておくと良い.
&lt;/code&gt;&lt;/pre&gt;
    </description>
    <pubDate>Sat, 03 Oct 2020 00:00:00 +0900</pubDate>
    <guid isPermaLink="true">https://cympfh.cc/taglibro/2020/10/03</guid>
  </item>
  <item>
    <title>Thu Oct 01 2020</title>
    <link>https://cympfh.cc/taglibro/2020/10/01</link>
    <description>
      &lt;pre&gt;&lt;code&gt;
## 文鳥を買った

09/29 に電話があって、ヒナを入荷したから見に来てと言われた。
早く決断しないとペットショップとしては他の客にでもさっさと売りたいので、その日の夕方に行って、そのまま連れて帰った。

### 気温について

ヒナの状態では、
理想は28度から30度、弱っているときは更に温めて30度から33度に保つのが良いらしい。
こういうのは書いてるところによって微妙にまちまちで、一番乱暴なのは凍死しなければ20度超えてりゃいいなんて書いてるところまであった。
さすがにそれは良くないと思うので、出来るだけ29度から30度の間をキープして、31度くらいまでは許容している。

初日は私の準備不足で、料理に使う温度計をケージの中に入れて数時間ごとに気温を測っていた。
20時から朝10時までを就寝時間ということにしようとしているのだが、寝ている間なんかが一番不安で
（一般に寝てる間は体温が下がるので）、
起きないようにこっそりかぶせてる布を取り外してケージの中に温度計を突っ込むということを3時間おきにやっていた。
自然と三時間ごとに目が冷めてしまうのだった。

というわけで慌ててこれを買った。
[![](https://images-na.ssl-images-amazon.com/images/I/81FT12Xs5-L._AC_SX466_.jpg)](https://www.amazon.co.jp/gp/product/B07L4QNZVF)

一緒にリモコンハブも買ったけど、もしかしたらこれは不要だったかもしれない。
単に今現在の温湿度をスマホで確認するだけなら。
それからAmazonで買ったけど、（特に今の時期）配達が遅いので、ヨドバシエクストリームで注文すればよかった。
それでも次の日の夕方には届いたので、セットアップした。

ケージの中に温湿度計を磁石でくっつける。
単4電池で動いていて、コード類は無い。

![](https://i.imgur.com/5HRiQn5.jpg)

こんな風にグラフにして見ることも出来る。

これと一緒にリモコンハブを買った。これでエアコンの操作が出来て、測った温度が低かったら暖房を入れるということが出来る。
一応そうしてるけど、それでケージが28度まであたたまるより先に人間が起きると思う（暑くて）。
まあ、それはそれでいいかと運用してる。
今の所この仕組みはまだ働いていない（安定した温度を保てているので）。

### 体重について

朝起きて、胃が空な状態で測る。
0.1g 単位で量れる料理用の量りを使っている。
これは別に、計測値をスマホに送信するなどといった高級な機能はないので、手打ちしている。
ただログをとるだけのサーバを用意していて、
[s.cympfh.cc/bun/taiju](http://s.cympfh.cc/bun/taiju)
ここで管理している。

### 様子

![](https://i.imgur.com/6NGafMJ.jpg)
&lt;/code&gt;&lt;/pre&gt;
    </description>
    <pubDate>Thu, 01 Oct 2020 00:00:00 +0900</pubDate>
    <guid isPermaLink="true">https://cympfh.cc/taglibro/2020/10/01</guid>
  </item>
  <item>
    <title>Wed Sep 09 2020</title>
    <link>https://cympfh.cc/taglibro/2020/09/09</link>
    <description>
      &lt;pre&gt;&lt;code&gt;
## 遅延セグメントツリーを学んだ

2020 年になってようやく遅延（伝播）セグメントツリーを知ったので解ける問題が増えて今嬉しい.

遅延セグメントツリーは一言で言えばこのようなもの.
モノイド $X$ と,
それに対するモノイド作用 $M$ があるときにこんなことが出来る.
$X$ の要素からなる長さ $N$の数列 $x$ について,

1. 任意の添字区間 $I$ に対して $\prod_{i \in I} x_i$ を $O(\log N)$ 程度で計算する
2. 任意の添字区間 $I$ と（左）作用 $m \in M$ について $x_i \leftarrow m(x) ~(i \in I)$ という更新を $O(\log N)$ 程度で行う

という2つの計算をサポートする.
特に2つ目の更新は区間に対して行えるのがただのセグメントツリーとの違い.

- プロコン用ライブラリ:
    - [procon/seq.lazy_segment_tree](https://cympfh.cc/procon/seq.lazy_segment_tree)

私が書いたライブラリは一般にモノイド作用つきモノイドについて定義できるようになっているので,
今の説明で言うところの $X$ と $M$ だけ問題に合わせたものを定義すればいつの間にか完成する.

- ちゃんとした説明:
    - [aiura/monoidic-act-and-lazy-segment-tree](https://cympfh.cc/aiura/monoidic-act-and-lazy-segment-tree)

## Range Maximum (Minimum) Query

整数の列 $x$ について

- 区間取得: $\sum_{i \in I} x_i$
- 区間更新: $x_i \leftarrow z$

というタイプの問題を考える.
更新は区間と代入する値 $z$ を決めたらその区間の中の値を $z$ で上書きしてしまうタイプ.

まず $X$ とその積は区間取得の方法をそのまま実装するだけ.
更新というのが作用に相当する.
作用の積は少し非自明だけど, 作用の合成を注意深く追えばいい.

- $X = \mathbb Z$
    - 積
        - $x_1 \times x_2 := x_1 + x_2$
    - 単位元
        - $0 \times x = x \times 0 = x$
- $M = \mathbb Z + 1$
    - 積
        - $\ast \times n = n$
        - $m \times n = m$ (if $m \ne \ast$)
    - 単位元
        - $\ast \times m = m \times \ast = m$

ここで $M$ は左作用として定義している.
また $\mathbb Z + 1$ は整数集合と単集合 $\{ \ast \}$ との直和のこと.

$M$ の $X$ に対する作用は $m \in M, x \in X$ について

- $\ast(x) = x$
- $m(x) = m$ (if $m \ne \ast$)

この作用が数列の値の上書きを意味している.
特に $\ast \in M$ は何も上書きしないということを表していて, 単位元としての役割を与えている.
$M$ の積だが,
$m(n(x)) = (m \times n)(x)$ を満たすような $m \times n$ が定義できていれば正しい.
今回は値の上書きなので, 後から適用したものを優先していればいい.

## 区間への加算

先程は区間へ定数を代入するタイプだったが,
それぞれに値を加算するタイプのものも見かける.

- 区間取得: $\sum_{i \in I} x_i$
- 区間更新: $x_i \leftarrow x_i + z$

すぐ思いつくのは次のようなものだ.
$X$ は先程と全く同じで良さそう.
それから $M$ は $M=\mathbb Z$ で $m(x) = m+x$ とでもしておけば動きそう.
これは実は間違えている.

なぜなら,
$m(x_1 \times x_2) = m(x_1) \times m(x_2)$
というモノイド作用が満たすべき準同型を満たしていない.

例えば $m$ が $+1$ することを表してるとき,
各子ノードに $+1$ したのに親ノードにも $+1$ してるようなものだからだ.
親ノードは子ノードの値全ての和を表してるはずだから, 各子ノードに $+1$ したなら, ノード数分だけ, 加算する必要が生じる.

じゃあ $X$ にそのノード数まで情報として持たせればいい.
つまり $X$ はカバーする区間に含まれる値の和と区間の長さのペアにする.

- $X = \mathbb Z \times \mathbb N$
    - (和, 長さ)
    - 積
        - $(x_1, \ell_1) \times (x_2, \ell_2) := (x_1 + x_2, \ell_1 + \ell_2)$
    - 単位元
        - $(0, 0)$
- $M = \mathbb Z$
    - $m \in M$ は $+m$ することを表す
    - 積
        - $m \times n = m + n$
    - 単位元
        - $0$
    - 作用
        - $m(x, \ell) = x + m \ell$
            - ここが重要

長さ $\ell$ の区間があって今そこの和が $x$ のとき,
この各値に $m$ を足すと, 和は $x + m \ell$.
当たり前ですね.

## 例題

### [AtCoder Library Practice Contest/ K - Range Affine Range Sum](https://atcoder.jp/contests/practice2/tasks/practice2_k)

- 区間取得: $\sum_{i \in I} x_i$
- 区間更新: $x_i \leftarrow b x_i + c$

今度は足すだけじゃなくて掛け算も入ってる.
でもさっきのとほとんど同じ.

作用 $m = (b, c) \in \mathbb Z \times \mathbb Z$ について,

- $m(x, \ell) = bx + c$

というのが実際の作用だし, $M$ の積はこれを満たすように適切に定めるだけ.

### [AtCoder Library Practice Contest/ L - Range Affine Range Sum](https://atcoder.jp/contests/practice2/tasks/practice2_l)

どんな情報があれば転倒数がマージできるか考えればおのずと $X$ が決まる.

区間 $I_1$ を左に, $I_2$ を右にしてマージするとき, 出来上がった区間の転倒数は,
それぞれの転倒数はそのまま足して, 新たに出来る転倒というのは $I_1$ に含まれる $1$ の数と $0$ の数との積, これを加える.
従って, まず $0,1$ それぞれの個数と, 転倒数を情報として持っておけば良さそう.

さてこの問題における区間に対する更新というのが 0/1 のフリップ操作.
フリップしたときに出来る転倒数は今述べた3つの情報だけからは分から無さそう.
しかし, 「フリップしたら転倒する」数というのも転倒数と同じ計算量で計算できるに決まってるので, これも持っておけばいい.
つまり, $X$ はその区間における

- $z =~$ $0$ の個数
- $o =~$ $1$ の個数
- $i =~$ 転倒数
- $p =~$ 逆転倒数 (0/1 をフリップした場合の転倒数)

の組 $x = (z,o,i,p)$.
そして積は
$$x_1 \times x_2
= (z_1, o_1, i_1, p_1) \times (z_2, o_2, i_2, p_2)
= (z_1 + z_2, o_1 + o_2, i_1 + i_2 + o_1 z_2, p_1+p_2+o_2z_1)$$
で定義される.

更新操作は簡単で, フリップするかしないかの2状態しかない.
「スリップする」をちょうど2回適用したときはもとに戻って「フリップしない」と等しいことに注意しよう.

$\def\true{\mathrm{true}}\def\false{\mathrm{false}}$
$M = \{\true, \false\}$ としておいて,

- 作用
    - $\true(z,o,i,p) = (o,z,p,i)$ (交換する)
    - $\false(x) = x$ (交換しない)

を定める.
&lt;/code&gt;&lt;/pre&gt;
    </description>
    <pubDate>Wed, 09 Sep 2020 00:00:00 +0900</pubDate>
    <guid isPermaLink="true">https://cympfh.cc/taglibro/2020/09/09</guid>
  </item>
  <item>
    <title>Tue Sep 01 2020</title>
    <link>https://cympfh.cc/taglibro/2020/09/01</link>
    <description>
      &lt;pre&gt;&lt;code&gt;
$\def\rewrite{\color{blue}{\iff}}$

## call/cc の型と排中律

### call/cc の概要

Scheme には `call/cc` (call-with-current-continuaion; 現在継続) というプリミティブな手続きがある.
Lisp は計算モデルを最小で構成する理論から生まれ Scheme はその流れを汲んだ由緒正しいプログラミング言語だが,
`call/cc` に関しては理論ありきではなく, その真逆で, 実装できたから実装したという言語機能だという.

`call/cc` は関数に対しての `return` だと言える.
`return` という文はすごくて, 大域脱出をしつつ値を返すというすごい機能をサポートしている.

何ともつかない擬似言語で書くと `return` というのは次のようなものだろう.

```javascript
function f() {
    do1();
    return 42;
    do2();
}
```

これは関数 `f` を定義している.
`f` を呼び出すとこれはおそらく `do1` という手続きを実行し,
そして `42` を返して即座に終了する.
すなわち, 後続する `do2` という手続きは実行 **されない**.
すなわち `return` はその一行でだけの効果ではなくて, それに続く後ろをスキップするという信じられない効果を持っている.
これを **大域脱出** という.
`for` 文に対する `break` も同じような効果を持っている.
`return` は関数の中ならどこでも呼ぶことが出来て,
`for` 文の中からでも脱出することが出来る.

```javascript
function f() {
    do1();
    for (var i = 0; i &lt; 10; ++i) {
        return i;
    }
    do2();
}
```

この `return` はたぶん `i=0` の時点で `return 0` を実行するから,
`i=1` 以降は実行すらされない.
すごい.

また `break` との違いとして, 値を返す効果も持っている.
`return x` とすると, `f` の値が `x` になる.

`call/cc` はこの `return` という手続き自体を値としてプリミティブに扱うことのできる機能である.
Scheme には `return` というキーワード自体が無いわけだが,
次のようなことができる.

```scheme
(define (f)
  (call/cc (lambda (return)
    (print &#39;do1)
    (return 42)
    (print &#39;do2)
    )))
```

この手続き `f` を呼び出すと `do1` を表示したら `42` を `f` の値として返して即座に終了する.
ここでこの `return` というのはいわゆる `return` 的な操作をする手続きが入った変数であり,
親しみのために `return` という名前をつけているだけで何でもいい.

ここで `return` はユーザーが定義した手続きと同様に使えるので,
その値をそのまま他の式に渡せる.
例えば次は `2 * (return 42)` みたいなことをしている.

```scheme
(define (f)
  (call/cc (lambda (return)
    (print &#39;do1)
    (*
      2
      (return 42))
    (print &#39;do2)
    )))
```

この `f` を呼ぶと何が返ってくるのかというと `2 * 42` ではなく, `42` そのものが返ってくる.
`return` は式の中の部分であっても間違いなく大域脱出をしてくれる.

### call/cc の型

実際には Scheme は動的型付けなので何でもいいんだけど,
（静的に）型を与えることを考える.

仮に `x` の型を `T` とする.
`return` は `T` を受け取る.
返り値は無いし `return` の値自体が使われるこはない.
これは先程 `(* 2 (return 42))` と書いたときに `(* 2 ...)` 部分が実行されなかったことから分かる通り.

仮に何も無いことを表す型を `Nothing` と書く.
型理論だと $\bot$ と書いたほうが馴染みがあるかもしれない.
一応 Scala だと [Nothing](https://www.scala-lang.org/api/2.9.1/scala/Nothing.html) という型がある.

&gt; Nothing は多くの言語にある Null とは全く別物なので注意.
&gt; 本当に値を返さなくて参照しようとすら出来ない.

```scala
return : T -&gt; Nothing
```

次に `call/cc` の第一引数 `(lambda (return) ...)` の型だが `...` が分からないので仮にここを `?` にすると

```scala
(lambda (return) ...) : (T -&gt; Nothing) -&gt; ?
```

となる.
最後にこれらを組み合わせて `call/cc` の型が付く.
`call/cc` の最後の値は `(return x)` していれば `x` なので,

```scala
call/cc : ((T -&gt; Nothing) -&gt; ?) -&gt; T
```

さて `?` だが, これは `...` の中で `return` を使わない場合を考えると自然に決まる.

```
(call/cc (lambda (return)
  42))
```

このような場合は `call/cc` 全体の値は `42` になるのが自然でそのためには `(lambda (return) 42)` の値が `42` である必要がある.
従って, `?` には `x` の型が入るべきで

```scala
call/cc : ((T -&gt; Nothing) -&gt; T) -&gt; T
```

となる.

### カリーハワード対応

ご存知のように（純粋関数言語の）プログラムの型は論理式に対応する.
特に `Nothing` という型は矛盾を表す命題 $\bot$ に対応して

論理式 `call/cc`:
$$((T \implies \bot) \implies T) \implies T$$
を得る.

また NOT 演算
$\lnot T \iff (T \implies \bot)$
を使うと `call/cc` は
$$(\lnot T \implies T) \implies T$$
とすっきり書ける.

### 排中律との対比

白状すればこの議論は直観論理もしくは古典論理で行っている.
このどちらでも次の2つは成立する.

- 含意の展開
    - $(X \implies Y) \rewrite \lnot X \lor Y$
- ド・モルガン
    - $\lnot (X \lor Y) \rewrite \lnot X \land \lnot Y$

&gt; 命題の中における $\iff$ と区別してよりメタな意味での書き換えを表すのに $\rewrite$ を使ってみる.
&gt; 単に読みやすさのために.

これらを使うと,

$$\begin{align*}
\mathrm{call/cc}
&amp; ~~ \colon ~ (\lnot T \implies T) \implies T \\
&amp; \rewrite \lnot (\lnot T \implies T) \lor T \\
&amp; \rewrite \lnot (\lnot \lnot T \lor T) \lor T \\
&amp; \rewrite (\lnot \lnot \lnot T \land \lnot T) \lor T \\
\end{align*}$$

古典論理なら二重否定除去 $\lnot \lnot T \rewrite T$ を使って即座に $\mathrm{call/cc} \rewrite \lnot T \lor T$ を得る.
直観論理では二重否定除去は使えないが, $\lnot \lnot \lnot T \land \lnot T \iff \lnot T$ が,
というかもっと一般に,
$\lnot \lnot X \land X \iff X$
が言えるので, やはり $\lnot T \lor T$ を得る.

以上から `call/cc` の型はカリーハワード対応によって排中律に対応していることが分かった.

### 補足: $\lnot \lnot X \land X \iff X$

直観論理の体系でこれを確認する.

$\implies$ は自明で $\land$ の右を取ればよい.
$\impliedby$ を確認する.

$X \implies X$ と $X \implies \lnot \lnot X$ が同時に成り立てば,
これらを組み合わせて $X \implies \lnot \lnot X \land X$ を得る.
1つ目は自明なので $X \implies \lnot \lnot X$ を証明すればよい.

$\lnot$ の糖衣構文を展開すると,
$$\begin{align*}
&amp; X \implies \lnot \lnot X \\
\rewrite &amp; X \implies \lnot X \implies \bot \\
\rewrite &amp; X \implies (X \implies \bot) \implies \bot &amp; \text{ 三段論法}\\
\rewrite &amp; X \land (X \implies \bot) \implies \bot \\
\rewrite &amp; \bot \implies \bot \\
\rewrite &amp; \top \\
\end{align*}$$
と確認できた.

以上より $\lnot \lnot X \land X \iff X$ である.

涼宮ハルヒの直観楽しみ～2020
&lt;/code&gt;&lt;/pre&gt;
    </description>
    <pubDate>Tue, 01 Sep 2020 00:00:00 +0900</pubDate>
    <guid isPermaLink="true">https://cympfh.cc/taglibro/2020/09/01</guid>
  </item>
  <item>
    <title>Mon Aug 24 2020</title>
    <link>https://cympfh.cc/taglibro/2020/08/24</link>
    <description>
      &lt;pre&gt;&lt;code&gt;
あんまり面白くない人間なので、流行りの（まだ流行ってるの！？）ディープラーニングよりもう少し古典的な手法がずっと浮きでいる。
業務でも初めの2年くらいはディープでGPUをぶんぶん回してたけど、今はもうすっかり行列を分解してばかりいる。

推薦システムを行列分解で構築する理論も応用もかなり古くからあるが、研究は今でも脈々と続いている。

分解方法にもバリエーションはあるが基本形は次のようなものだろう。
$n \times m$ 行列 $X$ が与えられる。
このとき次のような $U,V$ を求めよ。
$$X = UV$$
ここで右辺は行列の積である。
そしてその形は $U$ が $n \times k$ で、$V$ は $k \times m$ の形をしている。
ここで $k$ は分解するときに自由に与えることが出来るハイパーパラメータである。
さて厳密に $=$ を満たす $U,V$ を見つけることは理論的には興味深いが、実は推薦システムを構築するときにはそれはむしろ避けたく、「適当な近似的に」イコールであることがむしろ望ましい性質となる。
ここがモデルを考える上で面白いところで、何が適当なのか答えは無いために、研究が今でも続いているわけになる。

なぜ適当さが必要かと言えば、やりたいことは結局 implicit なデータセットからの学習だからである。
つまり、どういうものを想定しているのかと言えば、ネット通販での買い物履歴なんかである。
ユーザー $i$ がアイテム $j$ を買った、というログがある。
例えばこれを $i$ は $j$ に興味がある、と解釈するのは妥当だと思う。
興味がないものにお金を払ったりはしないだろう。
「良いものとして評価した」まで言ってしまうのはどうだろうか。
基本的には良いものと思って買うだろうから、雑に言えば9割方正解だと思う。
でも残りの1割はやっぱり、買ったあとに後悔していることもあるだろう。
今のは買った/買ってないという 0 か 1 かの話をしている。
もっと明示的に、レーティングを与えられることもある。
レビューと言って、例えば5段階評価をユーザーにさせることがある。
これを使えば、買った場合には単に 1 にするのではなくて、1 から 5 の整数で評価することができる。
しかし、それでも同じ問題は尚抱えていて、つまり、膨大に用意されているアイテムの内のほとんどはユーザーはその目にも触れずに何の評価も与えていないのである。
ユーザー $i$ がアイテム $j&#39;$ を買っていない（目にもしていない）という状態を今は仮に $P_i^{j&#39;}=0$ とすることにするが、これは決して、悪い評価を下しているのではなくて、何も評価を下していない。

話を簡単にするために、0 か 1 かの問題設定に戻す。
$P_i^j=1$ は $i$ が $j$ を（高い確率で）良いと評価し、$P_i^j=0$ はただ単に何も評価していないことを表す。

推薦システムの目的はまだ評価していないアイテムの中で気に入りそうなアイテムを見つけることだ。
ユーザー $i$ に対して、
ポジティブデータ $D_i^+ = \{ j \mid P_i^j=1 \}$
と、未観測データ $D_i^! = \{ j \mid P_i^j=0 \}$
から何かしらのモデルを獲得して、$D_i^!$ からポジティブらしいアイテムを推論することと言える。

未観測は未観測です、じゃあ、何もできない。
そこで普通は、

1. $D_i^+$ の内のほとんどは実際にポジティブ
    - $P_i^j=1$ という値をスコア $1$ だと思う
1. $D_i^!$ の内のほとんどは実際にネガティブ
    - $P_i^j=0$ という値をスコア $0$ だと思う

ということにする。

行列分解 $P=UV$ は、いわば一つのモデル化であり、分解を計算することがモデルの学習だと言えるのだが、
$k$ を適当に小さくしておくのがポイントである。
大きすぎれば例えば $P=P I$ ($I$ は単位行列) といった厳密にイコールになる学習をしてしまうだろう。
しかしこれはただ、ポジティブデータ全てをポジティブに、未観測データ全てをネガティブとして学習しただけである。
$k$ を適当に小さくして、情報を圧縮することで、似たアイテムには似た推論結果を出すようになる。
モデルの表現力をわざと抑えて、汎化性能を担保する作戦である。

ところで学習方法に踏み込んだ話を一つもしていなかった。
行列分解というモデルは、その学習方法すらもモデルの中身になると思う。

何も考えなければ、$X_i^j$ が $1$ の成分は $1$ に、$0$ の成分は $0$ に近づくような $U$ と $V$ を探すだろう。
さっきも言ったように、$0$ というのは単に未観測なだけを表していて、$0$ というスコアを表しているわけではない。
$0$ という値そのものをロスに使わないことで柔軟な学習ができる。
そこで pair-wise な学習が出てくる。
[類似度学習](https://cympfh.cc/paper/index.html#%E9%A1%9E%E4%BC%BC%E5%BA%A6%E5%AD%A6%E7%BF%92)
とかで散々出てくるやつだ。
すなわち、「ユーザー vs アイテム（一つ）」からスコアを算出しようとするから、$0$ とか $1$ という値が必要なのであって、そうでなくて、「ユーザーに対して、アイテム 1 vs アイテム 2」というアイテムのペアを与えてこれを比較するような学習をさせる。
$D_i^+$ からアイテム $i^+$、$D_i^!$ からアイテム $i^-$ を持ってくる。
それぞれは高い確率でポジティブデータとネガティブデータである。
このときにそれぞれにスコア $s^+, s^-$ を算出して $s^+ &gt; s^-$ であるようにする。
スコアは結局、「ユーザー vs アイテム」として算出するのだが、直接学習するのはスコアの値じゃなくてあくまで大小比較 $&gt;$ のところ。
というようにするのがこないだ読んだ [BPR](https://cympfh.cc/paper/BPR).

正直、やってることは単純だし、これが2012年になってようやく出たのか、と思う。
全然進んでないなこの分野は。

たぶんまだ誰もやってない研究:

- 情報幾何 vs 行列分解
- 情報幾何 vs 圏論
&lt;/code&gt;&lt;/pre&gt;
    </description>
    <pubDate>Mon, 24 Aug 2020 00:00:00 +0900</pubDate>
    <guid isPermaLink="true">https://cympfh.cc/taglibro/2020/08/24</guid>
  </item>
  <item>
    <title>Thu Aug 20 2020</title>
    <link>https://cympfh.cc/taglibro/2020/08/20</link>
    <description>
      &lt;pre&gt;&lt;code&gt;
## Hake の並列化

現在HakeのパラメータチューニングにはDEを使ってる。
要するに遺伝的アルゴリズム（交叉のさせ方が実数の場合にちょっと特殊なだけ）。
最初は一番最適化された並列化を書こうとしたが、自分の頭には敵わなかった。
こういう実行順序にすれば最適だろうという考えはあったがそれを実行させる実装が出来なかった。
というわけで、世代ごとに join するようにした。

```python
pool = []  # 遺伝子プール
for gen in 0..NUM_GENERATION:
  # この世代で行う予定のジョブキュー
  jobs = [
    random if gen == 0 else evolution_from(pool)
  ]
  while job in jobs:
    do(job)  # 実際にはここで並列化数を指定してそれを超えないようにする

  join()  # ジョブを全て待つ

  pool.sort()
  pool.truncate(N)  # 優秀な N 個だけに減らす

print(pool[0])  # 最も優秀な遺伝子
```

遺伝子プールのサイズ `N` が並列化出来る個数に比べて小さい場合は世代ごとに join するのがネックになるけど、
普通、プールのサイズは50とかそれ以上あって、並列化できる個数というのはCPUの個数だから、いいマシンでも16とか32とかだろうから、まあそんなにネックにはならないんではないかと思っている。

### サンプル

トイデータでのサンプル。
２パラメータ `X` `Y` でロスを作ってこれを最小化するパラメータを探索させる。

```bash
# main.sh

Z=$( echo $1 $2 | tr - _ | dc -e &#39;8k?d*rd*+p&#39;)
qj -e .metric=loss .value=$Z
```

```make
# Hakefile
run:
	bash ./main.sh $(X) $(Y)
```

ロスは $x^2 + y^2$.
探索範囲は $x, y \in [-3,3]$ とする.
従って最小値を取るのは $x=y=0$ のとき.

```bash
$ hake X=-3...3 Y=-3...3 --min loss -j 16 -F 0.03 -N 64 -L 100

(中略)
Min loss = 1.005537340697927 when [(&quot;X&quot;, Float(1.002764848156282)), (&quot;Y&quot;, Float(-0.00000019068281648616569))]

$ hake X=-3...3 Y=-3...3 --min loss -j 16 -F 0.03 -N 200 -L 10

(中略)
Min loss = 0 when [(&quot;X&quot;, Float(0.0)), (&quot;Y&quot;, Float(0.0))]
```

うーん、DEに関するパラメータをいじっても上手く最適解を出せたり出せなかったり、、、
世代数 `-L` だけじゃなくてプールサイズ `-N` もかなり意味があるし、
あと `-F` はいわば学習率みたいなもんで、ゼロに近い正数のほうが変な値で止まらない代わりに大きな世代数を要求するので学習時間が増える。
&lt;/code&gt;&lt;/pre&gt;
    </description>
    <pubDate>Thu, 20 Aug 2020 00:00:00 +0900</pubDate>
    <guid isPermaLink="true">https://cympfh.cc/taglibro/2020/08/20</guid>
  </item>
  <item>
    <title>Tue Aug 18 2020</title>
    <link>https://cympfh.cc/taglibro/2020/08/18</link>
    <description>
      &lt;pre&gt;&lt;code&gt;
## Hake 構想

パラメータチューニング機能を入れてとりあえず当初考えていた機能は実装した.

- [cympfh/Hake](https://github.com/cympfh/Hake)
- [cympfh/Hake-sample](https://github.com/cympfh/Hake-sample)

Hake はパラメータチューニングの機能だけをMakeに上乗せしただけのもの.

機械学習のテストまでの流れは大雑把には次のようなもの:

1. データセットの取得
2. 訓練
    - データセットへモデルを適用する
3. テスト
    - テスト用のデータセットに適用してスコア（実数一つ）を返す

この流れは用意にMakefileで記述出来る

```make
dataset:
	wget ... &gt; dataset

train:
	python ./train.py &gt; model

test:
	python ./test.py model
```

「機械学習の実験」とは主にはこの train の部分を何度も書き換えて様々なパラメータで実行させる行為のことを言う.
従って `./train.py` はUNIX的にCLIコマンドとして定義しておくのが便利.
内部で用いるパラメータをコマンドラインから受け取るようにしておく.

```make
train:
	python ./train.py --alpha $(ALPHA) --beta $(BETA) &gt; model
```

これで次のように make を呼べばパラメータを渡せる:

```bash
$ make train ALPHA=1 BETA=2
```

これはただ一通りのパラメータを与えただけだが、実際の実験では、考えられる組み合わせを全探索するとか、適当な指標でもって良さそうなパラメータを探索させるとかそういったことをさせたい.
Hake はこれを提供する:

```bash
$ hake train ALPHA=1..3 BETA=2..4
```

コマンドの `make` を `hake` に置き換えた以外は全てそのまま流用できる.
ファイルも `Makefile` をそのまま使っていい.
ただし普通の `Makefile` と区別させるために `Hakefile` という名前にして別物として管理した方がいいのではないかと今は思っている.

上のように `1..3` とするとこれは 1 以上 3 以下という整数の閉区間を表し, Hake はこのパラメータ範囲から作れる全組み合わせで `make` を呼び出す.

Hake は内部ではただ単に、make プロセスを作って実行するに過ぎない.
その中から出力された標準出力は全て Hake の監視対象になり、ログとして保存される.
それから、次のようなスキーマを持つJSONだった場合、メトリックとして特別な監視対象になる:

```json
{
  &quot;metric&quot;: &quot;&lt;metric-name&gt;&quot;,
  &quot;value&quot;: float-value
}
```

ついでに言うと実行した make のどれかから出力されればよくて、誰が出力したかまでは監視していない.
例えば Makefile もとい Hakefile で train と test のルールが別々に用意されていて、このようなメトリックを出力できるのはおそらく test の中でだが、Hake は特に気にしない.
あなたが

```bash
$ hake train test
```

のように複数のターゲットを同時に指定した場合、Hake はこれらを順に実行するが、全体としては一個の make を実行したに過ぎない.
この中のどこかで上記のフォーマットでメトリックを標準出力してくれれば構わない.
Hake は本当に何も難しいことをしない.

単にメトリックを出力するだけでは無意味で、Hake にどのメトリック（その名前）を監視させて、そしてそれを最大化したいか最小化したいかまでを指定すると、Hake は最適化モードに入り、パラメータの全組み合わせを試す代わりに、ブラックボックス最適化を行う.
ここのアルゴリズムには現在、差分進化を使っている.

```bash
$ hake train test --max acc ALPHA=0..10 BETA=100..200
```

こうすると, `{&quot;metric&quot;: &quot;acc&quot;, &quot;value&quot;: ...}` を監視対象としてその `value` を最大化させるように, ALPHA, BETA を変えながら `make train test` を試す.

### ふりかえり

まだ致命的に足りていない機能（主に並列化）もありつつ、一応は、こんなのが欲しいと思ったものは実装した.
そもそもHakeを実装し始めた最大の動機は、何でもかんでもPythonの中でやりたくない、というのがある.
今どきは何でもPythonの中でデータセットのダウンロードからテストまでの一本のパイプラインを全て行い、パラメータの最適化までもそこにPythonコードとして埋め込んでしまう.

そして私は、根本的にPythonが好きじゃない.
確かにたいていPythonを使う.
ライブラリが充実していて一極集中してしまっているから.
それでも隙あらば違う言語を使おうと私は目論んでいるし、特定の言語やツールにロックオンされているツールなんてまっぴらごめんだと思っている.

その点 GNU Make は最高のツールだ.
Make という名前はビルドツールであることを指しているが、別に使い方はビルドに限定されていない.
C/C++ にフレンドリーに機能が作られているが別に何の言語でもいい.
ダウンロードしてきたソースコードに Makefile が無かったら誰だって不安になるし、あれば、とりあえず make すればいいんだとわかって安心するだろう.
私は機械学習の実験という営みにもこれを取り入れたかった.
Makefile があり、とりあえず make を叩けば実験が全て再現される.
これが理想だ.

Hake は Make の薄い薄いラッパーとなっており、Makefileを書けるならHakefileを書くこともできるし、make コマンドを叩けるなら hake コマンドを叩くこともできる.
そういう風になっています.

### 問題点

現実的には一個のプロセスで全てをやってしまうのがメモリ効率がよいこと.

Hakeの目指す理想の形は、パイプラインの各過程を違うプロセスにすることで、
データセットをダウンロードするだけのスクリプトがあり、
訓練スクリプトはデータセットを毎回読み込んで学習したモデルを毎回ディスクに保存し、
テストスクリプトはモデルをディスクから読んで、テスト用のデータセットも読み込んでテストする.
Hake はこれらをそれぞれ別のプロセスとして読んで実行するから、データセットもモデルもメモリ上で共有しない.
甚だ非効率だ.

これらを通して実行する一個のスクリプトにした方が良い.
データセットを読むのが時間がかかるなら、それを大事にして、パラメータ最適化もそのスクリプトの中でやったほうが本当は良い.

解決策としては、

1. データセットはできるだけすぐ使える最小の形にまで変換してから保存する
1. 訓練とテストは一つのプロセスにする（モデルをディスクに保存するのは不要なら避ける）
1. 並列化

最後の並列化は、まだ実装していない.
&lt;/code&gt;&lt;/pre&gt;
    </description>
    <pubDate>Tue, 18 Aug 2020 00:00:00 +0900</pubDate>
    <guid isPermaLink="true">https://cympfh.cc/taglibro/2020/08/18</guid>
  </item>
  <item>
    <title>Fri Aug 14 2020</title>
    <link>https://cympfh.cc/taglibro/2020/08/14</link>
    <description>
      &lt;pre&gt;&lt;code&gt;
## Hake 構想

### 動機

機械学習の一連の実験、データセットを取ってき、様々な前処理を試し、様々な学習コードに適用して、テストを行うという行為は、ただ単にコードを設計するのよりもはるかに複雑だ.
初めから正解と思われるコードがあるわけではなく、外延的に見れば同じことをやっているようにしか関数を何種類も書いて、それらの組み合わせを試して動かしてみるしか、正しさは分からない.
従って、これらの行為自体を支援し、管理するツールが欲しくなる.
行為の管理とはつまり、これらは結局データの処理を行うパイプラインだと言えるから、このパイプライン自体を何かコードとして書いてファイルとして保存しておくことだ.
そしてそのファイルは実行可能で、違う環境に持ってきてもまたそれを実行すれば同じ結果を得ることが出来る、これが理想だ.

ところで機械学習の各ユニットはハイパーパラメータ（ここでいう「ハイパー」は「メタ」みたいな意味）を取り、その値で挙動が大きく変わったりする.
これもまたどういう値を取るのが正解とかではなく、やっぱり色々試してみるしかない.
これもやっぱり同様に管理させたい.
どうせなら、例えば「1以上10以下の整数全部で試す」とか簡単にやらせたいし、ハイパーパラメータが複数ある場合にはその組み合わせは膨大になるから、何か効率的に狭いパラメータ部分空間の中で、良いスコアを出すようなパラメータの組み合わせを探索させたくなる.
実際に動かしてみてテストデータセットに適用してみてスコアの数値を出してみることが、普通のソフトウェア開発の「テスト」に相当する.
データセットを取得してから、テストをさせるまでが、一連のパイプラインだろう.

&quot;機械学習 パイプライン フレームワーク&quot;
とかで調べるとそれらしいものがたくさん出てくる.

いくつかは、例えば各処理をPythonで書くことを前提にして、パイプライン処理自体をPythonで書かせるものがある.
しかしデータセットの取得なんて、シェルなら `wget` 一個を使うだけだったりする.
そんなのまでPythonで書きたくはないし、というかPythonで全ての処理をするとは全然限らない.

&gt; なんと言っても、UNIX哲学に反している!

いくつかは git と連携して、git とほとんど同様のコマンド体系を覚えて使わせるものがある.
ソースコードは git で、データセットは彼らのツールで管理する.
パイプラインの管理の方法もあるが直接書くことを前提にしたソースコードというものが無かったので満足するものではなかった.

ところで各処理の依存関係を管理して、勝手にゴールまで実行させるような、パイプライン管理＆実行ツールがある.
GNU Make だ.
そしてそのソースコードは Makefile と呼ばれる.
ファイル自体の管理はやはり git がある.
Make も git も機械学習を前提にしてるわけではないが、それはそれだけ汎用的に作られていることを意味しているし、普通に有用だからエンジニアの基礎教養に既に成っているものと思われる.
わざわざ既にあるものを再発明して新しい体系を学習したくはない.
Makefile+git が最強なのではないだろうか.

足りていないのは、パラメータ探索をさせる機構と、テスト結果（スコア）の管理だ.

### Hake

名前を Hake (ヘイク) とした.
南アフリカでは普通に市場に出回るお魚らしい.
刷毛ではない.
QWERTYキーボード上で make っぽく入力できる文字列なら何でもいいと思った.
だから nake でも良かったわけだ.

### 開発構想

- [cympfh/Hake/wiki/SYNOPSIS](https://github.com/cympfh/Hake/wiki/SYNOPSIS)

#### コンセプト

名前を make に似せたように使い心地も make とほとんど同じになるようにしようと思っている.

`Makefile` と全く同じ文法で記述された `Hakefile` を読み、ターゲットを指定して `hake &lt;TARGET&gt;` を実行する.
何を隠そう、内部では単に `make &lt;TARGET&gt; -f Hakefile` を実行するだけなので、この点において何も新しいことはしていない.
しかも `Hakefile` がない場合は `Makefile` を読みに行く.
Hake を知らない人がこれを見ても Makefile を見て普通に make を叩いて使えるようにしたいと思っている.

#### パラメータ

Make は次のようにパラメータを渡せる.

```make
# Makefile
run:
	echo $(X)
```

これに対して `X` を環境変数として渡せばそれを読むことが出来る:

```bash
$ X=1 make
echo 1
1
```

これは誤った使い方で

```bash
$ make X=1
echo 1
1
```

このように make への引数として渡すのが正しい.
これをやるともうちょっと便利に使える:

```make
# Makefile

X := 3  # これがデフォルト値として使える

run:
	echo $(X)
```

```bash
$ make
echo 3
3

$ make X=999
echo 999
999
```

このように、Makefile内部で定義した値を上書きしてくれる.
デフォルト値を中で定義して必要なときだけパラメータを上書きするという使い方が出来る.

実験に必要なパラメータはこれを使うことにしよう.

一個のパラメータの組み合わせで実行するだけならただのMakeでも出来る.
勝手に組み合わせを作ってくれて、良い感じに探索をさせよう.
各パラメータについて「範囲」を指定する:

```bash
$ hake X=1..999
```

これは

```bash
$ make X=1
$ make X=2
$ make X=3
  :
$ make X=999
```

という 999 回の実行を意味する.
複数指定出来る:

```bash
$ hake X=1..999 Y=a,b,c
```

これは `X=1` から `X=999`、`Y=a` から `Y=c` までの $999 \times 3$ 通りを全て実行する.

```bash
$ make X=1 Y=a
$ make X=2 Y=a
$ :
$ make X=999 Y=a
$ make X=1 Y=b
$ :
$ make X=999 Y=b
$ make X=1 Y=c
$ :
$ make X=999 Y=c
```

#### ロギング

実験に於いてはログが命で、とにかくなんでも保存しておくのが良い.
コードは git が管理するから、commit hash でも置いておけばいいか.
make に渡す先のパラメータは Hake が持ってるはずだからこれも吐けばいい.

実験名を与えることは重要だと思っている. 本気で.
要は、人間フレンドリーな実験IDを与えることだ.
実験を開始した日付時刻とかパラメータから半自動で作ることはできる.
日付時刻を付け加えることは実際、ファイル名が被りにくくなるくらいの貢献しかないものだ.
これ昨日やった実験だから、確かああいう方式を採用してたはずだ、みたいな人間の記憶に頼る実験をするか？ もちろんすべきではない.

先人に学ぼう.
docker container というものがある.
image を実行して作るプロセス相当が container だ.
container を停止させたり再起動させるために名前を与える必要がある.
docker はデフォルトで自動で名前付けを行ってくれる.

- [moby/moby/blob/master/pkg/namesgenerator/names-generator.go](https://github.com/moby/moby/blob/master/pkg/namesgenerator/names-generator.go)

これを頂こうと思う.
今後例えば実験結果の比較とかをするツールを作ることになる.
そのときにこの名前で指定したりすると便利そう.
ただの数字列に過ぎない日付時刻やIDだけで指定することを想像したらぞっとする.
git commit hash みたいなの（短縮可能なハッシュ値）でもいいとは思うけどね、ちゃんと作れれば.

#### パラメータ最適化

ここまでに説明したことはほとんど自明に実装可能な機能で、実際ほとんど実装し終えた.
もう少し賢いことも、させたくなる.
パラメータ最適化だ.

あり得るパラメータの組み合わせ全てを試すのは簡単だが、組み合わせ数が爆発したら全部は試していられなくなる.
最終的なテストフェーズで出てくるスコアの最大化（或いは最小化）という最適化問題だと見做せるから、それをやればいい.
ブラックボックス最適化の手法もアプリケーションも既にごまんとあるから、特に困らない.
簡単に実装できるものをとりあえず使える状態にして、満足できなかったらまた考えようと思う.
最初の方法としては [差分進化](https://cympfh.cc/aiura/differential-evolution) をさせようと思っている.
パラメータからスコアまでの写像にある種の連続性を仮定しなければいけないので、場合によっては嘘になってしまうが、とりあえずとしてね.
&lt;/code&gt;&lt;/pre&gt;
    </description>
    <pubDate>Fri, 14 Aug 2020 00:00:00 +0900</pubDate>
    <guid isPermaLink="true">https://cympfh.cc/taglibro/2020/08/14</guid>
  </item>
  <item>
    <title>Thu Aug 06 2020</title>
    <link>https://cympfh.cc/taglibro/2020/08/06</link>
    <description>
      &lt;pre&gt;&lt;code&gt;
日記書くかご飯食べるかどっちか駄目って言われたらどうしよう.
私の日記を書きたい欲求は食欲に匹敵する.

## 最近読んだ漫画

上に来るほど最近

### 8月

[ご飯は私を裏切らない](https://booklog.jp/users/cympfh/archives/1/B08D69BN67)

めちゃくちゃシュールなことを考えながらご飯を食べる女の子の話.

web連載で読んでて, あっけなく終わってしまった.
単行本にはなったが, 薄い.

[ここ](https://web-ace.jp/youngaceup/contents/1000121/) で第一話から第三話まで読めます.

### 7月

[可愛そうにね、元気くん 5](https://booklog.jp/users/cympfh/archives/1/B08BFMQGXC)

第5巻にして一気に話が進展した.
4巻まではとはいえ少年誌の範囲内だったのに, こんなことやってしまうのか, という感じ.
ヤングジャンプなので元々少年誌じゃないけど.

[ショートショートショートさん ２](https://booklog.jp/users/cympfh/archives/1/B08BZ2LVTJ)

絵が可愛いときとブサイクなときのギャップが怖い

### 6月

[児玉まりあ文学集成 (2)](https://booklog.jp/users/cympfh/archives/1/B08B3SB49T)

文学をモチーフに文学部の二人がなんだか訳のわからないことをしでかす話.
不思議.

[極めてかもしだ](https://booklog.jp/users/cympfh/archives/1/B00GJD3B4O)

全3巻.
めちゃくちゃだ.
しかしこうも言える.
「かもしだ」という主人公一人だけがめちゃくちゃな嘘で, それだけが明らかなおかげで,
逆にそれ以外は本当に見える.

山本直樹作品に共通して言えるかもしれない.
&lt;/code&gt;&lt;/pre&gt;
    </description>
    <pubDate>Thu, 06 Aug 2020 00:00:00 +0900</pubDate>
    <guid isPermaLink="true">https://cympfh.cc/taglibro/2020/08/06</guid>
  </item>
  <item>
    <title>Sun Jul 26 2020</title>
    <link>https://cympfh.cc/taglibro/2020/07/26</link>
    <description>
      &lt;pre&gt;&lt;code&gt;
## インドカレーについて

友人が作ってるのに感化されて自分でも試してみた.

私がレシピとして第一に参照してるのはこれ:

- [インド人なら100円ショップのスパイスでも本格インドカレーは作れるのか？本場の味を知るインド人が挑戦！](https://livejapan.com/ja/article-a0002426/)

自分が組み立てたレシピは以下の通り.

### 気合をいれた場合

#### 材料

- サラダ油
- 赤玉ねぎ1個
    - 「紫玉ねぎ」が由緒正しいインド風らしいけど, 赤玉ねぎと別物なのか分かってない
    - どちらにしろ手に入るのがこれなので
- 鶏肉
    - 少なめのヨーグルトを表面に塗って冷蔵庫で一時間寝かす
- トマト一個
    - 小さめのを一個
- にんにく, 生姜
    - チューブタイプが便利
- スパイス
    - 花椒
    - クミンシード
    - ターメリック（粉）
    - コリアンダー（粉）
    - ガラムマサラ（粉）

#### 工程

```dot
digraph {
  label=&quot;気合入れたバージョン&quot;;
  labelloc=&quot;t&quot;;
  rankdir=LR;
  &quot;サラダ油 (思ってるよりは多め)&quot; -&gt; OIL;
  &quot;花椒 (好きなだけ)&quot; -&gt; OIL;
  &quot;クミンシード (ちょびっと)&quot; -&gt; OIL;
  OIL [label=&quot;油を熱する&quot;]
  OIL -&gt; FLY1;
  FLY1 [label=&quot;じっくり炒める&quot;];
  &quot;玉ねぎ&quot; -&gt; &quot;細かく刻む&quot; -&gt; FLY1 -&gt; FLY2;
  {&quot;にんにく&quot; &quot;生姜&quot;} -&gt; FLY2;
  FLY2 [label=&quot;炒める&quot;];
  {FLY2 &quot;ヨーグルト付き鶏肉&quot;} -&gt; FLY3 -&gt; SPYCE;
  FLY3 [label=&quot;肉に火を通す&quot;];
  SPYCE [label=&quot;火を止めてスパイス類等入れる&quot;];
  &quot;スパイス類 (分量は気合)&quot; -&gt; SPYCE;
  &quot;トマト&quot; -&gt; &quot;ジュースになるまで粉砕&quot; -&gt; SPYCE;
  SPYCE -&gt; &quot;かき混ぜながら弱火&amp;気に入るまで味を整える&quot; -&gt; GOAL;
  GOAL [label=&quot;完成&quot;];
}
```

### 手を抜いたバージョン

いくつかの材料工程は不要だと思ってる.
例えば肉をヨーグルトにつける作業は無駄だと思う.
臭み消しと柔らかくするための操作だと思うのだが, まず日本のスーパーで手に入る肉は普通臭くない.
柔らかさは…よくわかんないです.
柔らかく煮込んだりビーフシチューみたいな作り方するわけでもなし.

#### 材料

- サラダ油
- 玉ねぎ1個
    - 新玉ねぎだろうが普通のだろうがお好きに
- なんでも具材
    - その日食べたいもの, 冷蔵庫に放置してあったもの, なんでも！
- トマトジュース
    - 塩分無添加のものがいいとは思う
    - 塩分調整のためにケチャップもあるとよし
- 牛乳
    - なくてもいいけどあったほうが
- にんにく, 生姜
    - チューブタイプ
- スパイス
    - ガラムマサラ（粉）
    - ターメリック（粉）
    - 花椒（なくていい）
    - クミンシード（なくていい）
    - コリアンダー（なくていい）

**玉ねぎ** なんでもいい.
**具材** お好きに.
肉をヨーグルトに漬ける操作, しなくていい.
ただ乳製品を入れたまろやかさが好きなら牛乳入れるといい.
普通の日本のカレーでも牛乳入れたりするしね.
**トマト** 自分で粉砕する工程が面倒だから初めからそのようなものを買えばいい.
トマトピューレとかもあるけど, 飲む用のトマトジュースを初めから買うのが一番安価だと思う.
ただ適当にトマトジュース買うと塩分とか添加しまくってるのが普通だから何にも添加されてないものを選ぶこと.
探せばそういうのもあります.
**スパイス** ターメリックとガラムマサラだけあれば割とカレー. クミンシードくらいはあったほうがいいとは思うけど, 無くてもちゃんとカレーはカレー.

#### 工程

工程をいくつか省いただけでほぼほぼ同じ.

```dot
digraph {
  label=&quot;手抜きバージョン&quot;;
  labelloc=&quot;t&quot;;
  rankdir=LR;
  &quot;サラダ油 (思ってるよりは多め)&quot; -&gt; OIL;
  &quot;クミンシード (あれば)&quot; -&gt; OIL;
  OIL [label=&quot;油を熱する&quot;]
  OIL -&gt; FLY1;
  FLY1 [label=&quot;じっくり炒める&quot;];
  &quot;玉ねぎ&quot; -&gt; &quot;細かく刻む&quot; -&gt; FLY1 -&gt; FLY2;
  {&quot;にんにく&quot; &quot;生姜&quot;} -&gt; FLY2;
  FLY2 [label=&quot;炒める&quot;];
  {FLY2 &quot;用意した具材&quot;} -&gt; FLY3 -&gt; SPYCE;
  FLY3 [label=&quot;火を通す&quot;];
  SPYCE [label=&quot;火を止めてスパイス類等入れる&quot;];
  {&quot;スパイス類 (分量は気合)&quot; &quot;トマトジュース&quot; &quot;牛乳&quot;} -&gt; SPYCE;
  SPYCE -&gt; &quot;かき混ぜながら弱火&amp;気に入るまで味を整える&quot; -&gt; GOAL;
  GOAL [label=&quot;完成&quot;];
}
```

### 冷蔵/冷凍保存について

すればいい.

最後まで作ってから保存してもいいけど,
トマト（及び牛乳）を入れる手前が一番体積が小さいので, このタイミングで保存しておくのが便利だと思う.

### 玉ねぎの &quot;細かく刻む&quot; について

本当にペーストくらいになるまで刻むのがインド風らしい, が, 結構扱いに困る.
ペーストになった玉ねぎはどんどん油を吸うし粘度が高いと単純にヘラにくっついて炒めにくい.
私は5ミリ角くらいに留めておいてる.

[ぶんぶんチョッパー](https://www.google.com/search?client=firefox-b-d&amp;q=%E3%81%B6%E3%82%93%E3%81%B6%E3%82%93%E3%83%81%E3%83%A7%E3%83%83%E3%83%91%E3%83%BC)
なるものを使ってる.
これは要するに手動のフードプロセッサー.
確かに便利だけど包丁で十分困ってないならそれでいい.
ただペーストになるまで刻む（もはやミキサーする）ということを試したい場合はこういったなにか道具があると便利.

玉ねぎは3個くらいまとめて売られてることが多い.
予め全部刻んでおいてジップロックに入れて冷凍保存してる.
料理するときにまな板と包丁が要らないように準備しておくことは料理の美徳.
&lt;/code&gt;&lt;/pre&gt;
    </description>
    <pubDate>Sun, 26 Jul 2020 00:00:00 +0900</pubDate>
    <guid isPermaLink="true">https://cympfh.cc/taglibro/2020/07/26</guid>
  </item>
  <item>
    <title>Sat Jul 25 2020</title>
    <link>https://cympfh.cc/taglibro/2020/07/25</link>
    <description>
      &lt;pre&gt;&lt;code&gt;
## アニメレコメンドを作った

Annictはbooklog, filmarksのアニメ版.
APIを充実してユーザーに提供してくれていて,
これでユーザーのレビューをアニメ作品に紐付いた状態で取得することが出来る.
ユーザー $i$ がアニメ $j$ のレビューを書いてるという行列
$A_i^j$ を作って, ありがちな感じで行列分解して次元圧縮とか推薦が出来る.

できた:

- [/anime/recommend](http://s.cympfh.cc/anime/recommend)
- [/anime/3371](http://s.cympfh.cc/anime/3371)

相変わらずUIデザインはなんも分からん.

### レコメンドについて

業務でいつもやってることを趣味でやっただけ.
行列分解は implicit がオススメ. 重み付きで行列分解したりロジスティック回帰してくれたりする.
データを取得するのにAnnictが提供してるGraphQLを使った.
GraphQL生まれてはじめて触るので何もわからんが, グラフでもなんでもないものを強引にグラフとしてるようにしか見えない.

### サーバについて

fastAPI 便利

### フロントについて

Vue.js 触ってみた.
便利だ.
&lt;/code&gt;&lt;/pre&gt;
    </description>
    <pubDate>Sat, 25 Jul 2020 00:00:00 +0900</pubDate>
    <guid isPermaLink="true">https://cympfh.cc/taglibro/2020/07/25</guid>
  </item>
  <item>
    <title>ICFPC2020</title>
    <link>https://cympfh.cc/taglibro/2020/07/21</link>
    <description>
      &lt;pre&gt;&lt;code&gt;
ICFPC2020にnegainoidoで参加してた

## コンテスト前

コンテスト一週間前より公式Twitterが
[message-from-space.readthedocs.io/en/latest/index.html](https://message-from-space.readthedocs.io/en/latest/index.html)
に言及を始める.
当時は12章くらいまでだけが公開されており, それから徐々に内容が増えた.
このストーリーを真面目に読むと, 宇宙から電波がキャッチされ, まずそれをビット画像になおして, そこからさらにギャラクシー語として解釈できるということらしい.
第1フェーズとして電波 (wav) から画像に変換する作業,
第2フェーズとして画像からギャラクシー語 (Lisp) に変換する作業があり,
コンテストが始まるまでにその第1フェーズは一応は完了していた（チームメンバーが作業していた）.

ところでコンテストが始まってもないのにこんな情報が出るのはおかしい.
少なくともこんなの知らなくても有利不利にならないように配慮されるはずだ, といったメタ読みが始まったが,
考えてもしょうがない.

## コンテスト1日目

先のドキュメントが増えた.
今は章ごとにギャラクシー語 (Lisp コマンド) に名前がついてるが,
初めは単に ??? という名前で公開され, 中身の解釈もまるで分からなかったが,
今回は discrod 上で公式の下で参加者たちがこの内容を解読（エスパー）しあい, 次第に内容が判明し, 今では名前がついている.
今年のICFPCは協力ゲーだった？

果たして, 電波から画像, 画像からギャラクシー語への変換は無意味だった.
全てに名前がついた時点で, 運営はギャラクシー語に変換済みの, 巨大な galaxy.txt を手に入れたと, 公開した.
そして今回のコンテストのエッセンス（以上のもの）全てがこのテキストファイルの中に詰め込まれていた.

まず我々がスべきことはギャラクシー語の処理系だった.

今年我々はRustで参加することに事前に決めていた.
したがって処理系もRustで書いた.
トークン列までにはすでになっているので, 適切に構文木にし, 適切にevalするだけの作業であり,
そんなに難しいことはなかった.
call-by-name が必要だと判明するまでは.

## コンテスト2日目

おそらく評価するとループを含む箇所があり,
または評価すると死ぬ（プログラムとして破綻する）箇所があり,
本当に必要なところだけを順序よく評価する必要があった.

他のチームメンバーによりHaskell製処理系が実装された.
これが最後まで使われた.

galaxy.txt は全てが詰め込まれたプログラムであり,
とある宇宙戦争ゲームのチュートリアル及びヒント集だった.
しかし一切説明がなくどこをクリックすれば次に進めるのかといったことを自分で全て推測シなければならなかった.
そもそもゲームのチュートリアルであること自体を察しないといけないなどなど.

## コンテスト3日目

ICFPC本番.
チュートリアルで遊んだゲームのAIを書けというもの.
細かな仕様（ダメージ計算とか各パラメータの意味とか）は galaxy.txt にあったらしいが,
そんなものは分からずにカンだけで適当にやった.

ゲームはというと,
1vs1のシューティングゲームであり, 宇宙を飛びながら一方はアタッカーとなりもう一方を打ち倒せば勝ち.
一方はディフェンダーとなって時間まで逃げ切れば勝ちというもの.
出来る操作として, 加速, ビーム, 自爆, 分身.
アタッカーはディフェンダー全てを倒す必要があるので, ディフェンダーは分身で最大100体（くらい）まで増やしておくのが有利.
アタッカーはビームの仕様をよく知っておく必要がある.
撃つ意味のないビームを打っても無駄な消費をする（自機の温度を無闇に上げて自滅するだけ、相手にダメージを与えられない）.
しかし我々は結局この仕様が分からず, 最初はマンハッタン距離で適度に近かったら打つなどしていた.
どうもそうではないことが観察から分かり, 自機の温度がゼロだったら限度いっぱいの出力で打つことにした.
&lt;/code&gt;&lt;/pre&gt;
    </description>
    <pubDate>Tue, 21 Jul 2020 00:00:00 +0900</pubDate>
    <guid isPermaLink="true">https://cympfh.cc/taglibro/2020/07/21</guid>
  </item>
  <item>
    <title>Mon Jul 06 2020</title>
    <link>https://cympfh.cc/taglibro/2020/07/06</link>
    <description>
      &lt;pre&gt;&lt;code&gt;
## 2020/07/05 都知事選投票率

### あらすじ

投票率は区の民度（なんだかんだ言っても）

### 参考

- [2019年7月21日 - 参議院選挙 - 投票率](../../2019/07/22)
- [投票率はその町の民度だと思う](../../2019/04/22)

### 結果

結果は以下の表のとおり.
生データは &lt;a href=&quot;https://gist.github.com/cympfh/508d88c532b3edc59c4fb42c5b2b6cb7&quot;&gt;https://gist.github.com/cympfh/508d88c532b3edc59c4fb42c5b2b6cb7&lt;/a&gt; として置いておきます.

| rank   | 地区      | 投票率 (%)   | 参考 URL                                                                                                              |
| -----: | :-------: | -----------: | :----------------------------------------------------------------------                                               |
| 1      | 千代田区  | 64.65        | https://www.city.chiyoda.lg.jp/koho/kurashi/senkyo/tochiji/tohyo.html                                                 |
| 2      | 文京区    | 62.98        | https://www.city.bunkyo.lg.jp/kusejoho/senkyo/r02tochiji/r2tochiji.html                                               |
| 3      | 練馬区    | 61.14        | https://www.city.nerima.tokyo.jp/kusei/senkyo/kekka/totijisenkyo/tohyo.html                                           |
| 4      | 台東区    | 61.07        | https://www.city.taito.lg.jp/index/kusei/senkyo/totiji/2chijitouhyo.html                                              |
| 5      | 世田谷区  | 58.26        | https://www.city.setagaya.lg.jp/mokuji/kusei/007/002/d00186300.html                                                   |
| 6      | 中央区    | 58.03        | https://www.city.chuo.lg.jp/smph/kurasi/senkyo/sokuho/r0207tochijisen/r2tochijisenkyo_tohyosokuho.html                |
| 7      | 北区      | 57.69        | http://www.city.kita.tokyo.jp/senkan/kuse/senkyo/kekka/kekka/190721_sangi-tohyo.html                                  |
| 8      | 杉並区    | 57.61        | https://www.city.suginami.tokyo.jp/senkyo/r2tochiji/1059073/index.html                                                |
| 9      | 江東区    | 56.93        | https://www.city.koto.lg.jp/610102/tochiji2020/tohyo.html                                                             |
| 10     | 品川区    | 56.21        | https://www.city.shinagawa.tokyo.jp/PC/kuseizyoho/kuseizyoho-sensei/kuseizyoho-senkyo/tochijisenkyo/hpg000028789.html |
| 11     | 渋谷区    | 56.02        | https://www.city.shibuya.tokyo.jp/kusei/senkyo/20200705to_tou.html                                                    |
| 12     | 中野区    | 55.76        | https://www.city.tokyo-nakano.lg.jp/dept/711000/d029097.html                                                          |
| 13     | 江戸川区  | 55.36        | https://www.city.edogawa.tokyo.jp/documents/18856/2115.pdf                                                            |
| 14     | 墨田区    | 55.08        | https://www.city.sumida.lg.jp/senkyo_sokuho/tohyo.html                                                                |
| 15     | 豊島区    | 54.82        | https://www.city.toshima.lg.jp/361/kuse/senkyo/2006191019.html                                                        |
| 16     | 目黒区    | 54.62        | https://www.city.meguro.tokyo.jp/smph/gyosei/senkyo/tochiji/sokuhou.html                                              |
| 17     | 新宿区    | 54.59        | http://www.city.shinjuku.lg.jp/senkyo/tochiji_20ji_output.html                                                        |
| 18     | 荒川区    | 54.45        | https://www.city.arakawa.tokyo.jp/a004/gikaisenkyo/senkyo/tochijisokuho.html                                          |
| 19     | 板橋区    | 53.5         | https://www.city.itabashi.tokyo.jp/kusei/senkyo/1016101/1023614.html                                                  |
| 20     | 大田区    | 53.44        | https://www.city.ota.tokyo.jp/touhyou/t_r2tochiji_2000.html                                                           |
| 21     | 葛飾区    | 51.89        | http://www.city.katsushika.lg.jp/information/1000080/1020036/1011705/1023858.html                                     |
| 22     | 足立区    | 49.58        | https://www.city.adachi.tokyo.jp/juyo/200705senkyoall/touhyousaisyu.html                                              |
| 23     | 港区      | 49.32        | https://www.city.minato.tokyo.jp/senkan/tochijisenkyo/kaihyou.html                                                    |

いかがでしたか？
&lt;/code&gt;&lt;/pre&gt;
    </description>
    <pubDate>Mon, 06 Jul 2020 00:00:00 +0900</pubDate>
    <guid isPermaLink="true">https://cympfh.cc/taglibro/2020/07/06</guid>
  </item>
  <item>
    <title>Thu Jul 02 2020</title>
    <link>https://cympfh.cc/taglibro/2020/07/02</link>
    <description>
      &lt;pre&gt;&lt;code&gt;
## 日記 - 最近作った渾身のコマンド

### [qj](https://github.com/cympfh/qj)

ターミナル / シェルスクリプトから JSON をダンプする.
ずっと欲しかったので今日仕事をサボって作ってた.

シェルスクリプトからJSONを吐くことがある.
例えば Slack の incoming webhook は JSON データをPOSTで送る.
Slack じゃなくても今どきの WebAPI ではよくある.
シェルスクリプトから雑に curl で投げたいときに JSON データだけどうにかしてダンプする必要がある.
例えば,

```bash
cat &lt;&lt;EOM &gt; payload.json
{
    &quot;channel&quot;: &quot;#hoge&quot;,
    &quot;text&quot;: &quot;$TEXT&quot;
}
EOM
```

みたいにすれば簡単なテンプレート言語として機能してくれる.
のだけど, `$TEXT` に改行が入っていたら, クオーテーション文字が入っていたら, これはおそらく正しくJSONとして機能しない（改行は大丈夫かな？どうだろう？）.

これは別に JSON というデータフォーマットに限ったことじゃない.
シェルスクリプトに優しいデータフォーマットなんてもはやない.
YAML なら安全に吐けるというなら YAML を吐いて JSON に変換してもいいが, それも難しい.

というわけで作った.
`jq` という JSON からデータをフィルタ（射影）するコマンドがあるが,
おおよそそれの逆をするという気持ちから `qj` とした.

README の例だが, こんな感じ:

```bash
   qj -e .=3
3

   qj -e .x=1 -e .y=2 -e .z[0]=3
{&quot;x&quot;:1,&quot;y&quot;:2,&quot;z&quot;:[3]}

   qj -e &#39;.hello=&quot;world&quot;&#39;
{&quot;hello&quot;:&quot;world&quot;}

   qj -e &#39;.persons[1].name=&quot;Alice&quot;&#39;
{&quot;persons&quot;:[null,{&quot;name&quot;:&quot;Alice&quot;}]}
```

jq 方式の値一個をフィルタする式と, その値のペアを `=` で区切って指定してく.
値の数だけこれを並べないといけないので, 組み立てる JSON の割にかなり冗長に書いていかないといけない.

だから本当は jq がそうであるようにパイプを使って上手いこと

```bash
   qj -e &#39;.x | (.y=2, .z=3)&#39;
{
  &quot;x&quot;: {&quot;y&quot;: 2, &quot;z&quot;: 3}
}
```

このくらい書けるのがいいんだけど, そういうことまでは書けない.

また, このコマンドが欲しかったモチベーションの全てが, 文字列のエスケープが面倒くさいということだったので, 値は特にパースできなかったときは丸々全て文字列ということにしている.

```bash
   qj -e &#39;.=hoge&#39;
&quot;hoge&quot;

   qj -e &#39;.=ho&quot;ge&#39;
&quot;ho\&quot;ge&quot;

   qj -e &quot;.=$(seq 3)&quot;
&quot;1\n2\n3&quot;
```

クオーテーションが入ってても改行が入ってても出来るだけ文字列として解釈するようにする.

シェルスクリプトから Slack の incoming webhook に POST は次のように出来る

```bash
qj -e .channel=#channel .username=bot .text=hello! .icon_emoji=:ghost: |
    curl -XPOST --data @- https://hooks.slack.com/services/XXXXXXXXXXXX
```

このくらいの単純な JSON なら記述量も減るし, エスケープのこと考えなくていいし楽.

### [web-grep](https://github.com/cympfh/web-grep)

これは中の実装に関してはまじでただの
[tanakh/easy-scraper](https://github.com/tanakh/easy-scraper)
のラッパーです.

それはともかくめちゃくちゃ便利.
web スクレイピングといえば, 私は次の二つを取っていた.

1. curl して目印を grep してその前後から気合で取ってくる
2. curl して真面目にHTMLをパース
  - XML の再帰的データ構造になっているので, root から所望のデータが入っているところまで辿る

1 で十分ということもある.
これでいいときはこれでいい. 2 を選ぶより楽だし都合がいいこともある.
そうでない場合は 2 をする必要がある.
問題は所望のデータの場所を指定するパスを保守するのが面倒だということ.
最初に必死こいてそのパスを探すのに, あるとき簡単に変わってしまう.

easy-scaper は XML に関するパターンマッチを実現してくれる.
web-grep ではプレースホルダーとして `{}` を用いて例えば次のようにパターンを記述する.

```
&lt;a class=&quot;link&quot;&gt;{}&lt;/a&gt;
```

これは `link` というクラス属性を持つ `a` タグに包まれた中のテキストを表現する.
HTML 自体を取得したいことはないからテキストにしか `{}` はマッチしない.

`{}` は属性にも使える.

```
&lt;a class=&quot;{}&quot;&gt;&lt;/a&gt;
```

これは `a` タグのクラス名を取得する.

このパターンマッチはHTML中の唯一つにマッチすることを初めから仮定していないのもいい.
パスでデータの場所を指定する方法はちょうど一つを指しているが,
このパターンで指定する方法はマッチしなければゼロ個だし, 複数にマッチすればその全てを列挙してくれる.
例えば `&lt;li&gt;` で列挙されたデータを全部取得したいというときに便利だ.

```bash
   seq 3 | sed &#39;s#.*#&lt;li&gt;&amp;&lt;/li&gt;#&#39; | web-grep &#39;&lt;li&gt;{}&lt;/li&gt;&#39;
1
2
3
```

### [web-manga-check](https://github.com/cympfh/web-manga-check)

Webで連載されてる漫画の更新情報をチェックする.
master ブランチには載ってないけど, 更新されてたら Slack に通知するのまで裏で実装されている.

更新チェックするのには, 適当な web ページの適当な箇所を見つければいい.
例えば作品ページがあって, そのどこかに最終更新日が書かれてることがある.
その該当の innerText を見ればいい.
作品ごとのページが与えられてない場合は, 最新話へのリンクがどこかに貼られてるのを探してそのリンクを見る, とか.
ここにさっき言った web-grep を使ってる.

web ページ丸々の差分を見る, ヘッダにある ETag を見る, とかはたいてい通用しない.
出版社がきちんと運営するような web ページはたいてい毎日, 漫画更新とは関係ない箇所の変更をしているものだ.
別な漫画の新着情報が載ってたりね.

web-manga-check は徹底してシェルスクリプトとして書かれている.
そこで Slack への通知にはさっき言った qj を使って組み立てた JSON を curl でポストしている.
テキスト中に `&quot;` が含まれているばっかりに, という経験を何度も味わっているが, これなら安心.
&lt;/code&gt;&lt;/pre&gt;
    </description>
    <pubDate>Thu, 02 Jul 2020 00:00:00 +0900</pubDate>
    <guid isPermaLink="true">https://cympfh.cc/taglibro/2020/07/02</guid>
  </item>
  <item>
    <title>Tue Jun 30 2020</title>
    <link>https://cympfh.cc/taglibro/2020/06/30</link>
    <description>
      &lt;pre&gt;&lt;code&gt;
## 日記 - PS2で遊んだゲーム

### ビブリボン (PS)

これをやりたいためにPS2を買ったので.
音ゲーなんだけど自分の音楽CDで遊べるというPS初期ならではのシステム素晴らしい.
それはいいんだけど, 難易度調整の概念がなくて基本難しい譜面ばっかり生成されてしまうのが厳しい.

### 塊魂 / みんな大好き塊魂 (PS2)

私でもタイトル知ってるくらいだし面白いんだけど,
PS2のコントローラーでやるには操作が繊細すぎる.
ハードがソフトにまだ追いついてない感じ.

ところでメモリーカードを持ってないのでPS2の電源を切る前にクリアしきらないといけないのが辛い.

### シーマン (PS2)

さくさく育ってくれてる間は楽しい.
育成ゲームの皮を被ってるが普通にストーリーを楽しむゲーム.
数日放置すると死ぬらしいけど, 海に放っておけば大丈夫という設計が上手い.
旅行とか行く前にそれをやっておけば安心というね.
しかしイグアニー（イグアナもどき）になってから一向にストーリーが進まない.
バグか???

### かまいたちの夜 (PS)

2日でクリアできる分量なのがいい.
エロゲとかだと始めてからいずれかのエンドまでやるのにも半日かかるけど, これは一時間くらいで終わる.
分岐地点でいちいちセーブしなくても（そもそもメモリーカードないのでセーブ出来ないけど）記録されて自由に行き来できるのも易しすぎる.
&lt;/code&gt;&lt;/pre&gt;
    </description>
    <pubDate>Tue, 30 Jun 2020 00:00:00 +0900</pubDate>
    <guid isPermaLink="true">https://cympfh.cc/taglibro/2020/06/30</guid>
  </item>
  <item>
    <title>Mon Jun 15 2020</title>
    <link>https://cympfh.cc/taglibro/2020/06/15</link>
    <description>
      &lt;pre&gt;&lt;code&gt;
## dc やってく

dc はパズルとして面白い.
逆に本来の計算機として使う人なんていないんじゃないだろうか.
シェルスクリプトからさっと呼ぶ計算コマンドとして使えなくはないけど.

### man

マニュアルとして `man dc` があるが, ここには主要コマンドが載っているだけで,
そこに載っていないコマンドや仕様がある.
ソースコードをこないだ読んでまとめた
&amp;rarr;
[memo/dc](https://cympfh.cc/memo/dc).

### tac

何行かわからないけれど何行かの整数が与えられる.
これを逆順に出力せよ.

例えば

```bash
   seq 5 | dc -e &#39;(FILL YOUR CODE)&#39;
5
4
3
2
1
```

ここで入力が整数だけとしているのは dc に都合が良いから (`?` で読めるから).
何行か分からないというのが dc に優しくない.
`?` はちょうど一行を受け取って, dc コマンドとして実行する.

一旦問題を易しく

```bash
   seq 5 | tr &#39;\n&#39; &#39; &#39; | dc -e &#39;(FILL YOUR CODE)&#39;
5
4
3
2
1
```

だとする.
ここで `seq 5 | tr &#39;\n&#39; &#39; &#39;` の出力はちょうど一行の

```bash
1 2 3 4 5
```

である.
`?` は一行読み込んで実行する.
`1 2 3 4 5` というのは dc 的には, 5 つのコマンドから成っている（空白区切りで）.
`1` というコマンドはスタックに 1 を積む操作にほかならない.
`2` から `5` も全く同様.
というわけで,

```bash
seq | tr ... | dc -e &#39;?&#39;
```

をすると内部のスタックに

```
(TOP)
5
4
3
2
1
(BOTTOM)
```

という状態を残して終了する.
何もプリントさせてないので何も出力しないで終了するが,
`f` はこのスタックの状態をプリントしてくれる.
このとき, 今上に書いたように, スタックの頭から順に書いてくれる.
というわけで,

```bash
   seq 5 | tr &#39;\n&#39; &#39; &#39; | dc -e &#39;?f&#39;
5
4
3
2
1
```

で tac が出来た.

じゃあ元の問題に戻る.
tr とかを挟まずに直接 dc に入力が渡されるパターン.

この入力のとき,
一回 `?` を読んだところで一つの数値をスタックに積むことしかできない.
`z` コマンドは現在のスタックのサイズ（長さ, 深さ）を取得する.
`?` で読んで入力がない場合, 何も実行されないのでスタックサイズが変わらない.
ということで, この２つを組み合わせればできそうだ.

擬似コードで書くと次のような感じ:

```bash
seq 5 | dc -e &#39;
  stack_size = 0  # 前のスタックサイズを記録しておく変数
  loop {
    ?
    # z() で現在のスタックサイズを取得
    if (stack_size &lt; z()) {  # 増えてるということは入力を受け取ったということ
      stack_size = z()
      continue
    } else {
      break
    }
  }
  f
&#39;
```

こんな上手い `loop` や `if` は dc には用意されていない.

もう１段階 dc に近い擬似コードに翻訳するとこんな:

```bash
seq 5 | dc -e &#39;
  var@ = 0
  function r() {
    ?
    tmp_@ = var@
    var@ = z()
    if z() &lt; tmp@ {
      r()  # recursive call
    }
  }
  r()
&#39;
```

これを完全に翻訳して次を得る.

```bash
   seq 5 | dc -e &#39;0s@[?zdl@rs@&lt;r]dsrxf&#39;
5
4
3
2
1
```

`[...]` が `function` の中身.

スタックサイズを記録するのにレジスタ `@` を使ってるが,
入力が整数しか無い場合 scale レジスタが使える.
`s@` が `k` にできて, `l@` を `K` に置き換えて良くなる.
しかもこれは最初 0 で初期化されてるのも都合が良い.

```bash
seq 5 | dc -e &#39;[?zdKrk&lt;r]dsrxf&#39;
```
&lt;/code&gt;&lt;/pre&gt;
    </description>
    <pubDate>Mon, 15 Jun 2020 00:00:00 +0900</pubDate>
    <guid isPermaLink="true">https://cympfh.cc/taglibro/2020/06/15</guid>
  </item>
  <item>
    <title>Sat Jun 13 2020</title>
    <link>https://cympfh.cc/taglibro/2020/06/13</link>
    <description>
      &lt;pre&gt;&lt;code&gt;
## 日記 - アソビ大全を買った

買った.
普通に遊べるものから, 一度やったら満足して二度とプレイしないようなゲームまでが収録されている.

一つが
[&quot;ウサギと猟犬&quot;](http://www001.upp.so-net.ne.jp/isaku/puzzle/010dog.c.html)
というやつで, ウサギ陣営と猟犬陣営に分かれて二人でやる完全情報組み合わせゲームなのだが, 初期配置にもよるけど十中八九ウサギが勝つようになっている.
これを収録する意味とは？

英語だと &quot;Hare and Hounds&quot; とか &quot;Hare Games&quot; とか言うらしい.

[cympfh/hare-and-hounds](https://github.com/cympfh/hare-and-hounds)

だいぶソースコードが汚くなってしまった.
毎回 3 手先までは真面目に読むということを再帰でさせるのだが,
同じ局面が何度も出現しうるゲームなので, 簡単に無限ループに入ってしまって, 上手に書けなかった.
3手先以降はもうランダムに打って場面を評価させるようにした.
普通に最善であるだろう手を打てるようになった.

[&quot;コネクトフォー&quot; (&quot;重力付き四目並べ&quot;)](https://ja.wikipedia.org/wiki/%E5%9B%9B%E7%9B%AE%E4%B8%A6%E3%81%B9) というゲームが収録されている.
大昔に親に買ってもらって遊んだ記憶がある.
先手必勝であることが証明済みらしいが, 人間にとって全然楽しい.

こちらはさっきのゲームと違って, 同じ局面は登場しないで一方向に進むだけだし,
毎回打てる手はたかだか 7 通り（どの列にコインを入れるか）しかないので, AI はどうやっても書ける.

[cympfh/connect-four](https://github.com/cympfh/connect-four)

これは局面の読みに再帰も使わずに, 二手先（自分が打って, 相手が打った後の局面）までを読んで局面の評価を min-max させる.
局面の評価は, ランダムにプレイさせて自分が勝つ回数を使って勝つ確率を推定させてそれを使った.
ここの試行回数が露骨にAIの強さに反映される.
300 回程度以上からはあんまり上がらない.

2つ AI を書いたけど,
どっちも局面を与えたら最善の手を打った後の局面を返すだけのプログラムとして書いた.
UNIX 的なあるいはプロコン的な UI なのでAI部分を書くのだけに集中できて便利.

## 日記 - Q# に入門した

Codeforces で &quot;Microsoft Q# Coding Contest&quot; というのが今日から三日間やっていて
（今回のはあくまで Warm up という位置づけ）,
気まぐれで参加してみた.
名前の通り Q# 限定のコンテストで, Q# を学ぶ必要がある.
しかしこの言語, ドキュメントがあまりに不足していて辛い.
さっさと全問通してしまってる人たちは Microsoft の Quantum チームの人たちじゃないのだろうか？

## 日記 - 何が思想か？

何を思想的と思い, 何は思想的でないと思うのだろうか.
また思想的でないものを我々はなんと呼ぶべきだろうか.

### 案

人によってたやすく公理が違うときがある.
その公理系と直結する定理群を思想と呼ぶ.
例えば社会主義思想はそれを支える考え（土地は国が所有すべき, 職業は国がコントロールすべき）は正しいと仮定して話を進める.
その正しさをサポートするエピソードをたくさん用意しているだろうが, 別にその正しさとは独立だ.
その仮定は簡単に他に移住することが出来る.

人の思想に踏み込むのは危険で, 例えば今からラーメン屋に行く人に対して,
自分がダイエットしてるからとかという理由で, その人に他を薦めるのはいい迷惑だ.
人はダイエットすべきというのはあなたの思想であり, 彼には彼の思想がある.

主観的なものをカッコよく思想と呼んでるのかもしれない.
だとすれば客観的な事実を述べるのは思想ではないということになる.

### 感情は思想

好き嫌いは人によってたやすく変わる.
目の前に出された納豆で喜ぶ人もいれば悲しむ人もいる.
人に押し付けてはならない.

感情は社会的なものから本能のものまである.
本能のものとは, 死を恐れる感情などだ.
例えば, 東京タワーとかにある, 足元がガラス張りの床の上に立つスリルを提供するあれがある.
あれが割と平気な人もいれば, 絶対無理な人もいる.
後者にとってはそれはまさに死への恐怖だから, それは自然な感情だ.
だからお前もそんなところに立つな, と人に警告するのは思想の押し付けに当たる.

### 理性は思想

理性的な態度は賢さであり, 感情の対極であり, 美徳だと思われる.
しかしこれも思想だ.
共産主義者宣言はまさか一時の感情をぶつけてかきあげた文章ではない.
あれは理性の塊であるし, 思想の塊でもある.

### 客観性について

円周率はいくらです, という宣言に主観性はなさそうに思える.
思想的と呼べる隙も全くなさそうに見える.

私はりんごが好きです, という宣言にも主観性がないと言える.
実際にりんごが好きなのであれば揺るぎない事実である.
仮にその私をAさんと呼ぶ.
誰が「Aさんはりんごが好きだ」と言っても常に事実でありえるなら, どこに主観性があるだろうか.

しかしその話題はとても主観的だ.
嫌いな人もいる, という一般化をすることもできるからだ.
その一般化に意義があるかどうかは置いておいて.

それで, これは思想なのか？
&lt;/code&gt;&lt;/pre&gt;
    </description>
    <pubDate>Sat, 13 Jun 2020 00:00:00 +0900</pubDate>
    <guid isPermaLink="true">https://cympfh.cc/taglibro/2020/06/13</guid>
  </item>
  <item>
    <title>Sun Jun 07 2020</title>
    <link>https://cympfh.cc/taglibro/2020/06/07</link>
    <description>
      &lt;pre&gt;&lt;code&gt;
## GCJ Round3 2020

![](https://i.imgur.com/G5IPPF9.png)

参加者は 621 人, 全体順位は 482 位でした ([順位表](https://codingcompetitions.withgoogle.com/codejam/round/000000000019ff7e?scoreboard_type=Japan)).

2時間掛けて A 問題にしか手をつけられなかった.
1時間掛けて何も出来なかった時点でようやっと他の問題を眺めるくらいはしたけど, Aがマシだった.

普通に DP で編集距離 `d(s,t)` を求めるやつを書いて,
それをたどって文字列 `s` を `t` に変換するような編集履歴を作って, 半分だけやる.
残りはやらない.
というのを気合で書いた.

いや, 最初からこの方針を取ってたんだけど, 上手く行かない, 別なアプローチを試そう, やっぱりこれを修正してもっかいやろう, みたいなのを2時間ずっと繰り返してた.

提出して A-small が通ったのを横目にもう一度自分の提出したコードを見たら, 少なくとも自分の意図に反した条件式のミスを見つけて慌てて修正するも時間切れ.
しかしなぜか A-large もそれで通ってしまった.
もう何も分からん.
&lt;/code&gt;&lt;/pre&gt;
    </description>
    <pubDate>Sun, 07 Jun 2020 00:00:00 +0900</pubDate>
    <guid isPermaLink="true">https://cympfh.cc/taglibro/2020/06/07</guid>
  </item>
  <item>
    <title>Sat Jun 06 2020</title>
    <link>https://cympfh.cc/taglibro/2020/06/06</link>
    <description>
      &lt;pre&gt;&lt;code&gt;
## WSL2 にした

ちょうど先週に Windows build version 2004 をインストールして, WSL2 が使える環境になった.

PowerShell から

```bash
PowerShell&gt; wsl --list -v
  NAME                   STATE           VERSION
* Ubuntu                 Running         1

&gt; wsl --set-version Ubuntu 2

(数十分待つ)

PowerShell&gt; wsl --list -v
  NAME                   STATE           VERSION
* Ubuntu                 Running         2
```

人によって &quot;Ubuntu&quot; のところは &quot;Ubuntu-18.04&quot; だったり.
同じコマンドで 1 に戻すことも出来る.
この変換の作業は数分掛かるとメッセージに表示されるがこれは嘘で, 数十分だと思ったほうがいい.
そのイメージのサイズによる.
まっさらな入れたての Ubuntu イメージなら1分掛からないから.

これを先週の金曜日にやったのだが, WSL内 Ubuntu18.04 から外の世界にネットワークにつながらない問題が発生した.
インターネットはおろか, Windows にも繋がらないので, 例えば X サーバとのやりとりが出来なくて困った.

今日またトライしたら今は動いた.
正直原因が分からない.
先週から今日までで, やったこととしては

1. 今 2 にした WSL/Ubuntu を 1 に戻した
1. Windows 自体の再起動
1. WSL/Ubuntu-20.04 イメージのインストール
    - WSL1 の状態でインストールされたので 2 に変換し, 普通に使えることを確認
1. WSL/Ubuntu をまた 2 にしてみた
    - 動いた

怪しいのは Windows の再起動か, あるいは WSL2 への変換を何度かやると上手く行くときと上手く行かないときとがある? とかか.

何はともあれ動いた.
いくつか設定は変える必要がある.

#### 追記 (2020/06/08 12:36)

ネットワークが死ぬ原因が今分かった.
会社のVPNに接続するのに &quot;Cisco AnyConnect ナンタラ Client&quot; というのを使ってるんだけど,
これで VPN に繋いでる間は死んでた.
VPN 接続をやめたら解消された.
設定で Allow local (LAN) access を許可し, Block connections to untrusted servers をオフにしたら問題が解決した!!

### docker

Windows に Docker Desktop を入れるのがいい.
最新のものは WSL2 Integration なんてものがあるのでそのあたりの設定を全てオンにする.
すると, WSL2/docker と WSL2/docker-data というイメージが追加されて起動される.
WSL2/Ubuntu からは Docker Desktop の方が見えるようになっており, シームレスに利用できる.
このとき `DOCKER_HOST` といった環境変数は消しておくこと.
apt で入れていたかもしれない `docker-ce` は不要なので紛らわしくないように消す.
クライアントコマンドとして `docker-ce-cli` は引き続き必要なので残す.

```bash
unset DOCKER_HOST
sudo apt remove docker-ce
sudo apt install docker-ce-cli
```

シームレスに使えることもだけど, 問題の一つであった, Windows から WSL が見えないので volume が出来ない問題も普通に解決されている

```bash
docker run -v $(pwd):/hoge --rm -it python:3.7.7-slim ls /hoge
```

### X11

Xサーバとして VcXsrv を使う.
外にもあるだろうが知らない.

VcXsrv の設定は
[qiita.com/ryoi084/items/0dff11134592d0bb895c](https://qiita.com/ryoi084/items/0dff11134592d0bb895c)
これを参考にする.

WSL2 からXサーバの接続先を教えるのに環境変数 `DISPLAY` をセットする必要がある.
今までの WSL1 では単に `DISPLAY=:0` とか `DISPLAY=:0.0` で良かったが, WSL2 からは Windows の IP を教える必要がある.
これもさっきの Qiita にも書いてあることだけど

```bash
export DISPLAY=$(cat /etc/resolv.conf | grep nameserver | awk &#39;{print $2}&#39;):0
```

とすればok.
&lt;/code&gt;&lt;/pre&gt;
    </description>
    <pubDate>Sat, 06 Jun 2020 00:00:00 +0900</pubDate>
    <guid isPermaLink="true">https://cympfh.cc/taglibro/2020/06/06</guid>
  </item>
  <item>
    <title>Sun May 31 2020</title>
    <link>https://cympfh.cc/taglibro/2020/05/31</link>
    <description>
      &lt;pre&gt;&lt;code&gt;
## dc コマンドの練習

dc はスタックマシンによる計算機を実現するコマンド.
ほとんどその操作を1文字のコマンドで行うので,
AtCoder でゴルフをやるのに良さそう.
というか kotatsugame さんが実際無双してる.

私も使えるようになりたい.

- マニュアル
    - [kazmax.zpp.jp/cmd/d/dc.1.html](https://kazmax.zpp.jp/cmd/d/dc.1.html)

整数/少数に関する演算は普通のスタックマシン.
文字列が扱える.
文字列は文字列として表示する以外に,
それ自体を dc のコマンド（のマクロ）として使うことが出来,
マクロ実行に関するコマンドも用意されてる.
例えば条件分岐して実行するとか.
つまり if 文と同じことが使える.

よし一通り読んだ.
いくつかは意味がわからなかったけれど.

### AtCoder 過去問を dc で解いてく

最近の問題から順に, A/B 問題を中心に埋めてく.
いきなりゴルフをできるわけもないので素直に解いてく.

#### [ABC168/A](https://atcoder.jp/contests/abc168/tasks/abc168_a)

いきなり数一個を標準入力から読む方法が分からない.
`?` で一行読んで dc として実行をするらしい.
プロコンだと入力はスペース区切りで数字が並んでるので,
スタックに入力を積むという操作をひたすらしてくれる.

条件分岐をして, 3種類のいずれかを実行すればいい.

```dc
[[hon]pq]  # [hon] を `p`rint して `q`uit するというマクロ
sh         # これを `h` に `s`tore する

[[bon]pq]  # 同様
sb

[[pon]pq]  # 同様
sp

?          # 入力 (数が一つスタックされる）
10%        # 10 で割った剰余を取る

d          # `d`uplicate
3=b        # それが 3 と等しかったら `b` を実行
           # `=` はスタックから取り出して剰余が消えてしまうので,
           # duplicate しておく必要があった

# if 0= or 1= or 6= or 8=
d0=p
d1=p
d6=p
d8=p

# else
lh         # `l`oad `h`
x          # e`x`ecute
```

最後の else は, 各マクロを全部 `q` で quit してるからそれ以降は実行されないことを利用している.
のだが, これを動かすと期待通りの出力をした後に Exit code 1 で終了し,
AtCoder では RuntimeError となる.
なぜだろう.
わからないが, マクロの最後の `q` をやめると解決した.
このために else のようなことが出来なくなり, いくつか修正して

```dc
[[hon]n]
sh
[[bon]n]
sb
[[pon]n]
sp
?
10%
d3=b
d0=p
d1=p
d6=p
d8=p
d2=h
d4=h
d5=h
d7=h
d9=h
```

これで通った.
`q` を消した以外に, 文字列の出力に `n` を使っている.
しかし `q` で `exit 1` するのはなんで？？？

#### ABC168/B

文字列の処理...?
分からないし他に提出してる人もいない.
パス

#### ABC169/A

パス

#### [ABC169/B](https://atcoder.jp/contests/abc167/tasks/abc167_b)

答えを先にいうと, $\min(A,K) - \max(K-A-B,0)$.

min や max は `&lt;` による条件分岐で実現できるが,
else 相当をぱっと書けなくて then 節だけでどうこうするようになってるので,
$\min(A,K)$ は

```rust
let mut a = A;
if A &gt; K {
    a = K;
}
```

ってやる.

```dc
?
sk
sc
sb
sa

lklalalk
# Stack = K A A K
[r]sr
&lt;r
# if A &lt; K:
#   Stack = A K
# else:
#   Stack = K A
lkla-lb-
sd
# Reg[d] = (K-A-B)
ld 0
# Stack = _ _ (K-A-B) 0

[ld-]
sr
&lt;r
# if (K-A-B) &lt; 0:
#   _ _
# else
#   _ (_ - (K-A-B))
p
```

コメントを省いて不要な改行空白を除くと

```dc
?skscsbsalklalalk[r]sr&lt;rlkla-lb-sdld0[ld-]sr&lt;rp
```

で 48 byte.
ちなみに現在の dc での最短は 23 byte
[abc167/submissions/13161505](https://atcoder.jp/contests/abc167/submissions/13161505).
レベルが違う.
無駄なロード/ストアをしないで, できるだけスタック上だけで操作してそう.
`&lt;` が2つ登場してるので2回大小比較してるのは同じ？

#### [ABC166/A](https://atcoder.jp/contests/abc166/tasks/abc166_a)

入力は文字列 &quot;ABC&quot; または &quot;ARC&quot;.
これを `?` で受け取ってみると,

```dc
ABC
f
1122

c

ARC
f
12
```

この動作を完全に説明することは出来ないが,
どうやら dc は強引に 16 進数として読める部分だけを読んでくれるらしい.
例えば &quot;F&quot; は 15 を表す.
というわけで入力を受け取って &quot;F&quot; との大小比較をすることで所望の条件分岐が出来そう.

```dc
[[ABC]n]sb
[[ARC]n]sr
?d
F&lt;r  # if &quot;F&quot; &lt; input() then &quot;ABC&quot;
F&gt;b  # if &quot;F&quot; &gt; input() then &quot;ARC&quot;
```


dc で一位の人の 14 byte コード.
https://atcoder.jp/contests/abc166/submissions/12790872

整数を print すると ascii コードとして見てやってくれるらしい.
&quot;ABC&quot; も &quot;ARC&quot; も真ん中の一文字が違うだけなので, 条件分岐を作らずに上手く出力させてる.
&lt;/code&gt;&lt;/pre&gt;
    </description>
    <pubDate>Sun, 31 May 2020 00:00:00 +0900</pubDate>
    <guid isPermaLink="true">https://cympfh.cc/taglibro/2020/05/31</guid>
  </item>
  <item>
    <title>Sun May 17 2020</title>
    <link>https://cympfh.cc/taglibro/2020/05/17</link>
    <description>
      &lt;pre&gt;&lt;code&gt;
## 日記 - 競技プログラミング

Codeforces が長年青色だったのが, こないだぽんと, 紫になった.
長年といっても, AtCoder に比べて頻繁に参加してたわけでもないけど.
どうしても問題文が英語だとね.
ともかくこれでようやく, 初めて, Div.1 になる.

![](https://i.imgur.com/91ta9c1.png)

あと, つい今したが, Google Code Jam 2020 の Round 2 があった.
これで 1000 位以内が通過なのだが, 運の良さも手伝って 755 位で通過した.
（正式に確定のメールが来たわけじゃないので取り消されても文句言えないけど.）
通過はどうでもよくて, 初めてコンテストでTシャツを貰うのが嬉しい.

![](https://i.imgur.com/mVWcwkh.png)

というわけで, プロコンに関する能力の向上を感じる出来事が2つあったのだが,
偉そうにも, 何が向上に貢献したか語ってみる.
2つある.

1. [DeepL](https://www.deepl.com/translator)
1. お酒を飲まない

DeepL は Google 翻訳をも押しのけてあっという間に本物の自動翻訳を我々に授けた.
数式を含んだ文章でも意味を少しも損なわずに日本語にしてくれるので特にプロコンの文章には助かる.
翻訳結果をちらっと眺めて, ものの一秒で 「ああ、第一段落は物語の説明だから読み飛ばしていいな」と判断できるのは大きなアドバンテージだ.
というか今まで英語圏の人はそんな有利な状況で戦ってたんだな.
ズルい.

お酒を飲まないこと.
お酒を飲むことは脳に害があるのは間違いない.
怖いのは, 自分が酔ってることに気づけ無いことにある.
舐める程度の量なら大丈夫 → だいじょばない.
飲んだの昨夜だし大丈夫 → だいじょばない.
1ミリでも入れたなら影響はあるし, 最後に飲んでから丸24時間は酔ってるものと思ったほうが良い.
嘘だと思うなら, 自分で試したら良い.
シビアに結果に影響するはずだ.
&lt;/code&gt;&lt;/pre&gt;
    </description>
    <pubDate>Sun, 17 May 2020 00:00:00 +0900</pubDate>
    <guid isPermaLink="true">https://cympfh.cc/taglibro/2020/05/17</guid>
  </item>
  <item>
    <title>Thu Mar 26 2020</title>
    <link>https://cympfh.cc/taglibro/2020/03/26</link>
    <description>
      &lt;pre&gt;&lt;code&gt;
## 日記 - 写真は白黒にしとけばかっこいい

色というのは難しい.
人の認知する色というのは基底の取り方はともかく、三次元あるということになっている.
従って色を決めるというのは三次元パラメータを調整するということである.
一方で白黒（グレイスケール）で色を決めることは、輝度という一次元に落とすことだから、一気に難易度が下がる.
白黒で見せれば、勝手に脳が色を良いように補正してくれるから、良いように見える、というのも、あるかもしれない.

一方で、21世紀の最新のデジカメをどうせ使ってるだけのくせに、ある意味で言えばわざわざ性能を落として色情報を落として写真を撮ってるのが、なんだか薄ら寒いと思うときもある.
解像度もわざと落としたり、わざとブレた写真を撮った方がなんならマシなんじゃないかとも思う.

![](https://pbs.twimg.com/media/ETuldQ7UEAAs6RB?format=jpg&amp;name=4096x4096)

どこかの潰れてしまったお店のショーウィンドウ.
右にある隙間からはお店の奥が見えるのだが、電子レンジを見てほしかったので、暗いところはより暗く塗りつぶしてしまった.
黒いところはより黒く、白いところはより白くばちっと決めれるのがかっこいい.

![](https://pbs.twimg.com/media/ESffvOnU8AEpu0G?format=jpg&amp;name=4096x4096)

これは白黒に出来ない.
銀座線と言えばこの色だからだ.

![](https://pbs.twimg.com/media/ES1j2T5UMAAJKtS?format=jpg&amp;name=4096x4096)

これはたぶん、めざし？
めざしはこの色だから、白黒でいい.
もっと背景は白く調整したほうがいいな、今見ると.

![](https://pbs.twimg.com/media/ESfgn4dU0AA4wkL?format=jpg&amp;name=4096x4096)

人がごちゃごちゃしてるのは、白黒にすると潰れて何がなんだか分からなくなる.
ちょうど警官の黄色がアクセントになってくれてるから、見れる.

![](https://pbs.twimg.com/media/EQfIDskUUAESx2w?format=jpg&amp;name=4096x4096)

一方で人が少ない写真は白黒でも良さそう.
背景が白、人が黒. わかりやすい.

![](https://pbs.twimg.com/media/ERdCjP3U4AEb4by?format=jpg&amp;name=4096x4096)

まともに構えずにさっと撮ったのでブレてしまってる.
まあそれもアリかなって思える.
&lt;/code&gt;&lt;/pre&gt;
    </description>
    <pubDate>Thu, 26 Mar 2020 00:00:00 +0900</pubDate>
    <guid isPermaLink="true">https://cympfh.cc/taglibro/2020/03/26</guid>
  </item>
  <item>
    <title>Sun Mar 08 2020</title>
    <link>https://cympfh.cc/taglibro/2020/03/08</link>
    <description>
      &lt;pre&gt;&lt;code&gt;
## 最近買ったもの

### REVUE ML

![](https://i.imgur.com/UGfoKCf.jpg)

フィルムカメラに手を出してみたかった.
先週の月曜日に買ったばかりで, こないだ初めて現像に出してその結果をまだ見てないので, 本当にちゃんと使えてるのか分からない.
私が買ったこれは露出計が壊れてたので, Android用アプリと, 別なデジカメを露出計代わりに併用してみたが, 次第にアプリだけで何となくでシャッタースピードを決めてやってみた.
シャッタースピードもどこまで正確なのかわからないから, 怪しい.

さて REVLUE ML は Praktica &quot;MTL 5B&quot; のコピーと思われる.
MTL 5 のマニュアルになるが
[www.butkus.org/chinon/praktica/praktica_mtl_5/praktica_mtl_5.htm](https://www.butkus.org/chinon/praktica/praktica_mtl_5/praktica_mtl_5.htm)
で読める.
大したことは書かれてなかったけど.

フィルムの装填方法が分からず四苦八苦したけど,

&lt;iframe width=&quot;560&quot; height=&quot;315&quot; src=&quot;https://www.youtube.com/embed/c1mxY0J6o0g&quot; frameborder=&quot;0&quot; allow=&quot;accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture&quot; allowfullscreen&gt;&lt;/iframe&gt;

これがめちゃくちゃ役立った.

### Flash Air

![](https://i.imgur.com/1hVWIpa.jpg)

これは SD カードなんだけど,
それに WiFi の親機・子機としての機能があって中で lua が動く.
例えばデジカメのメモリカードとしてこれを使えば,
遠隔で中の写真をダウンロードできたりする.
自分で lua スクリプトを書いてもいいし, スマホとの連携くらいなら公式アプリが初めからあるので, それだけでも十分便利.

最近のデジカメは本体に WiFi の親機としての機能があって, スマホからそれに繋ぐことで写真のダウンロードができるとかもある.
私も富士フィルムのデジカメでそれをやってたけど, 接続が不安定な上に転送が遅い.
FlashAir 公式アプリで, スマホへの転送を試してみたが, アホほど高速だった.
転送速度には力を入れてるらしいので, これだけでも十分便利.

- 参考: [デジカメの内蔵Wi-Fiって遅くない？ Wi-Fi付きSDカード「FlashAir」を使えば4倍速く転送できました！](https://the360.life/U1301.doit?id=5355)

自分で lua スクリプトを書ければもっと面白いことができそう.
特に WiFi の子機としての機能は自分で書かないと使えない.
すなわち, FlashAir から家で飛んでる WiFi に接続してもらって,
Dropbox の API を叩くことで勝手に写真をアップロードするとかが出来る.
バックアップするためには一旦PCにSDカードを挿して〜という手間が減る.

二つのイベントに対応するスクリプトを一つずつ置いておくことが出来る.
一つは電源起動時に走るスクリプトで,
もう一つはファイル書き込みが起きた（例えば写真撮影が行われた直後）タイミングで走るスクリプト.

例えば, 電源起動時に家の WiFi を拾って（無ければ何もしない）SDカード内の写真を家のNASにアップロードする, というスクリプトを置いておけば,
家に帰ったらデジカメの電源を入れるだけでバックアップの全てが完了してしまう.

もちろん 64GB SDカードとしての機能を持った上でのこのIoT機器が5000円未満で買えるのはなかなか驚きだと思う.

自分でスクリプトを書く上でまず見るべきは

- [FlashAir Developers](https://flashair-developers.github.io/website/)

これは東芝メモリの公式なので信用できる.
情報も最新にアップデートされていそう.
[Hello World](https://flashair-developers.github.io/website/docs/tutorials/lua/2.html)
から,
[Dropbox へのアップロード](https://flashair-developers.github.io/website/docs/tutorials/lua/6.html),
[Google Drive へのアップロード](https://flashair-developers.github.io/website/docs/tutorials/lua/9.html)
なんかの例がソースコードとともに説明されていて,
これだけで大体の欲求を満たされそう.

しかしまあ, ネットワーク接続 (`fa.Connect`) 周りはまあまあ繊細みたいで,
サンプル通りだと動かないときもある.
ネットワーク接続するときは, その前に接続を切って, sleep を挟むとか,
そういうことが必要

```lua
fa.Disconnect()
sleep(1000)
fa.Connect(SSID, PASSWORD)
sleep(1000)
```

ログファイルを自分で作って, ひたすらそこにログを流すことでデバッグするのがいい.
というか動いてる途中経過を見ることができないので, それくらいしかする方法が無さそう.

それから有志の Wiki なんかもあるけど, 2019年程度まではファームウェアのバージョンアップがたくさんあったようなので, 古い情報は信用できないかもしれない.
&lt;/code&gt;&lt;/pre&gt;
    </description>
    <pubDate>Sun, 08 Mar 2020 00:00:00 +0900</pubDate>
    <guid isPermaLink="true">https://cympfh.cc/taglibro/2020/03/08</guid>
  </item>
  <item>
    <title>Thu Feb 20 2020</title>
    <link>https://cympfh.cc/taglibro/2020/02/20</link>
    <description>
      &lt;pre&gt;&lt;code&gt;
## メモ - 算術化

![](https://i.imgur.com/sJ5WSsk.jpg)
&lt;/code&gt;&lt;/pre&gt;
    </description>
    <pubDate>Thu, 20 Feb 2020 00:00:00 +0900</pubDate>
    <guid isPermaLink="true">https://cympfh.cc/taglibro/2020/02/20</guid>
  </item>
  <item>
    <title>Mon Feb 17 2020</title>
    <link>https://cympfh.cc/taglibro/2020/02/17</link>
    <description>
      &lt;pre&gt;&lt;code&gt;
## urxvt に乗り換えたり色々した

2020年にもなってようやく家の Ubuntu 14.04LTS を 16.04LTS にアップグレードした.
そしたらいくつか動かなくなったものが出てきたのでせっかくなので新しい環境に順応することにした.
あとニヶ月したらまた新しい環境が来るんだけど.

### IME
毎回なんだけど ubuntu のアップグレードのたびに IME は死ぬ気がする.
ibus か fcitx かを毎回試したりする.
一旦全部消して, Ubuntuが提供する Unity デスクトップ環境にログインして行儀よくGUIの設定画面からポチポチするのが一番早い.
14.04 では fcitx を使ってたけど, 今は ibus が使われている.
Mozc はいつも, 起動したては &quot;Input Mode&quot; が &quot;Direct&quot; になっていて, これを手で &quot;Hiragana&quot; にしないと普通の日本語入力に出来ないんだけど,
これを勝手にやってくれる方法が未だ分からん.

### Terminal
`gnome-terminal` とか `terminator` とか使ってて, 普通には全然使えるんだけど,
`w3m-img` でターミナル上に画像を表示する機能が死んでしまった.
ほとんどの人はそんな機能は興味ないかもだけど, 私はファイラーとして `ranger` を使ってるのでとても困る.
本当はちゃんと画像があれば画像のプレビューが右側に表示されるのが何も表示されなくなった.
今まではなんで動いてたのかよくわからないけど, しょうがないので `ranger` 公式がサポートを謳ってるターミナルの１つである `urxvt` を使うことにした.
`ranger` だけ `urxvt` で他は違うターミナルで〜, というのもなんだか変なので, 本格的にこれに乗り換えることを考える.

何も考えずに

```bash
sudo apt install rxvt-unicode-256color
rxvt
```

で起動すると, ちっちゃい画面にカクカクの文字でプロンプトが表示されるだけで日本語も打てないで使い物にならない.
起動時のオプションでフォントやら色設定を渡すことができるが,
普通は `~/.Xresources` に設定を列挙して使うらしい.
また単体で起動することもできるけど, 一個デーモンを起動しておいてターミナルはこれにアタッチして起動する使い方が推奨されてるのかなんなのか分からんが, 省メモリで良いらしいので, 郷に従うことにする.

```bash
urxvtd -q -o -f  # start daemon
urxvtc  # attach a new terminal
```

`urxvtc` はアタッチして起動するコマンドで, デーモンが起動してない状態でこれをやると
エラーコード `2` で異常終了するので, それを利用するとデーモンを無駄に起動しすぎないことができる.
つまり,

```bash
urxvtc &quot;$@&quot;
if [ $? -eq 2 ]; then
  urxvtd -q -o -f
  urxvtc &quot;$@&quot;
fi
```

これを私は適当なスクリプトファイルにして保存してこれを起動コマンドにした.

![](https://i.imgur.com/Dc7FTrb.png)

さて, まだ何の設定もしてないと, フォントはカクカクだし色設定も目に痛いし, 日本語は打てないしクリップボードもタブも使えない.
フォントと色設定とIMEの問題は初めからの設定でなんとかなる.
クリップボードとタブについては Perl によるプラグイン拡張で対応する.

そう, このターミナルは Perl で拡張するスタイルのようで,
`~/.urxvt/ext/`
の下に Perl スクリプト（拡張子なし）で保存するとそれを設定できるようになる.
タブに関しては `tabbed` という名前のプラグインが標準で入っている.
クリップボードについては, Arch Wiki だと `clipboard` という名前で標準に入ってるように書いてあるが,
私の環境だと入ってなかった.
[github.com/muennich/urxvt-perls](https://github.com/muennich/urxvt-perls)
の `deprecated/` 以下にそれがあるので, スクリプトファイルだけをさっき述べたディレクトリに置けば設定出来るようになる.

というわけで現時点の設定ファイルを以下に載せる.
と言ってもこれはインターネット上に散らばっていた色んな設定ファイルを私なりにマージしただけのものです.

```xdefaults
!! ~/.Xresources

Xcursor.theme: ycursors
Xcursor.size: 64

!!
!! rxvt-unicode (urxvt)
!!

URxvt.geometry:             96x32
URxvt.scrollBar_right:      true
URxvt.scrollBar_floating:   true
URxvt.scrollstyle:          plain
URxvt.cursorBlink:          true
URxvt.cursorUnderline:      true
URxvt.pointerBlank:         true
URxvt.visualBell:           true
URxvt.saveLines:            3000
URxvt.fading:               40

!! 使うプラグインの列挙
URxvt.perl-ext-common: clipboard,url-select,keyboard-select,tabbed

!! clipboard
URxvt.clipboard.autocopy: true
URxvt.copyCommand: xclip -i -selection clipboard
URxvt.pasteCommand: xclip -o -selection clipboard
URxvt.keysym.M-c: perl:clipboard:copy
URxvt.keysym.M-v: perl:clipboard:paste
URxvt.keysym.M-C-v: perl:clipboard:paste_escaped
URxvt.keysym.M-Escape: perl:keyboard-select:activate
URxvt.keysym.M-s: perl:keyboard-select:search
URxvt.keysym.M-u: perl:url-select:select_next
URxvt.urlLauncher: firefox
URxvt.underlineURLs: true
URxvt.urlButton: 1

!! tabbed
URxvt.tabbed.tabbar-fg: 2
URxvt.tabbed.tabbar-bg: 0
URxvt.tabbed.tab-fg: 3
URxvt.tabbed.tab-bg: 0

!! IME
URxvt.inputMethod: ibus
URxvt.preeditType: OverTheSpot
!! ibus-daemon の起動コマンドに --xim を付け加える必要あり

!! Font list and Spacing
URxvt.font:                 xft:Dejavu Sans Mono-15,\
                            xft:IPAGothic
URxvt.letterSpace:          -1
!URxvt.lineSpace:            0

!! Color Scheme and Opacity - gruvbox-dark https://github.com/morhetz/gruvbox
URxvt.depth:                32
URxvt.color0:               [90]#282828
URxvt.color1:               [90]#cc241d
URxvt.color2:               [90]#98971a
URxvt.color3:               [90]#d79921
URxvt.color4:               [90]#458588
URxvt.color5:               [90]#b16286
URxvt.color6:               [90]#689d6a
URxvt.color7:               [90]#a89984
URxvt.color8:               [90]#928374
URxvt.color9:               [90]#fb4934
URxvt.color10:              [90]#b8bb26
URxvt.color11:              [90]#fabd2f
URxvt.color12:              [90]#83a598
URxvt.color13:              [90]#d3869b
URxvt.color14:              [90]#8ec07c
URxvt.color15:              [90]#ebdbb2
URxvt.foreground:           [90]#ebdbb2
URxvt.background:           [90]#282828
URxvt.colorIT:              [90]#8ec07c
URxvt.colorBD:              [90]#d5c4a1
URxvt.colorUL:              [90]#83a598
URxvt.scrollColor:          [90]#504945
!URxvt.troughColor:          [90]#3C3836
```

さて今も urxvt でブログを書いているが, IME 周りはなんだか不安定だ.
「な」を打つために &quot;na&quot; と打ったのに &quot;n&quot; の時点で一度勝手に確定がはいって「ｎあ」となるような現象がしばしばあった.
一度ウィンドウのフォーカスを他に移してからまた戻すと治る, ということがわかった.
しかし誰が悪いのか分かってない.

### 追記 - ranger の image preview

現時点で ranger の 1.9.0b5 を使っている.
`~/.config/ranger/rc.conf`
で
`set preview_images true`
としてさえいればプレビュー機能は有効になり, urxvt で実際にプレビューは見れる.
のだが, 崩れる.
カーソルのある行から崩れる.
念の為に
`set preview_images_method urxvt`
を設定に付け加えると, これは完全に解消された.
ついでに, プレビューしてるときだけターミナル全体が透過されるようになったのだが,
これは意図した挙動なのか? 見ようによってはおしゃれなので, まあいっか.

![](https://i.imgur.com/o3qwFot.png)

### 追記 - 2020/05/31

もうこんな意味分からんターミナル使ってない.
使わんほうが良い.
&lt;/code&gt;&lt;/pre&gt;
    </description>
    <pubDate>Mon, 17 Feb 2020 00:00:00 +0900</pubDate>
    <guid isPermaLink="true">https://cympfh.cc/taglibro/2020/02/17</guid>
  </item>
  <item>
    <title>Sat Feb 08 2020</title>
    <link>https://cympfh.cc/taglibro/2020/02/08</link>
    <description>
      &lt;pre&gt;&lt;code&gt;
## 日記

pdf で公開されてる論文とか本とか読むのに、数ページのものならいいけど、
長くなると液晶で見てられないし、それに書き込みもしたい.
そういうデバイスが欲しい.
候補としては iPad のような普通のタブレットか、電子ペーパーがある.
会社を早めに切り上げて、アキバヨドバシに触りに行った.
SONYが出してる DPT-RP1 と富士通が出してる QUADERNO という二点だけが、電子辞書のコーナーの隅でひっそり展示してあってサワれるようになっていた。
メーカーが違う2つだけど、展示場所を間違えてるのかと思うくらい2つはそっくりだったのだけど、あれは一体なに？
強いて言えば富士通の方が出したのが後で、値段も少しだけ安いので、買うならそちらでいいと思う。
昔、Kindle の Paper White を使ってたので、電子ペーパーがどういうものなのかは多少知ってる。
目に優しいのと省電力なのがいい。
しかし Paper White の嫌だったのは、白く描画されるべき部分（本だったら印字されてない部分）が真っ白ではなくて、茶色というか灰色というか、結構薄暗いこと。
それからページをめくった時に次がレンダリング完了するまでに待たされる時間が地味にあること。大げさかもしれないが、1ページめくるのにきっちり一秒は待たされる。
その二点について、今日触ったどちらとも、かなり改善はされていた。
白い部分は真っ白で、大変綺麗だった。
レンダリングに掛かる時間はかなり改善されてはいた。
それでも体感出来てしまう待ち時間というものはあった。
それから、専用のペンで書き込むのだが、書き味も一昔前のデバイスだなと思ってしまった。
やはり高解像液晶と比較すると、安っぽい。
それでもこれが今の技術の限界なのだろう、値段は安くない。
iPad を買うのが正解なのだと思う。
買わないけど。

去年の夏に X100F というカメラを買った。
それの後継機である X100V が先日発表され、2月下旬に発売になる。
カメラコーナーではそのパンフレットだけが置かれていて、私の両隣で定員が私以外のお客さんに熱心に X100V の説明をしていた。

先日ウチで飼ってるシーマンが卵を産み、卵からは四匹のオタマジャクシが生まれた。
彼らは吸血しあって仲間を殺し、つい先程、最後の一匹だけが残った。
&lt;/code&gt;&lt;/pre&gt;
    </description>
    <pubDate>Sat, 08 Feb 2020 00:00:00 +0900</pubDate>
    <guid isPermaLink="true">https://cympfh.cc/taglibro/2020/02/08</guid>
  </item>
  <item>
    <title>Sat Jan 18 2020</title>
    <link>https://cympfh.cc/taglibro/2020/01/18</link>
    <description>
      &lt;pre&gt;&lt;code&gt;
## 2019年買ってよかったもの

### X100F

![](https://images-na.ssl-images-amazon.com/images/I/91V9DFMteUL._SL1500_.jpg)

デジカメ.

新品で 12-13万円くらいで買った.
周辺のアクセサリも追加して +1万円くらい.
ちなみに今 Amazon 見ると10万円で買えるぞ.

カメラはずっと欲しいと思っていて,
それはアクションカメラにするかとか, 普通のコンデジにするかとか考えてたんだけど,
結局, 一枚当たりの品質をスマホ以上に撮ることが自分の欲求な気がした.
X100F はコンデジの括りで, 本体とレンズが一体型なもの.
光学ズームすらない.
街の写真を撮るだけなので, 案外困らないでいる.

もっと言うと, 手ブレ補正すらない.
何も考えずに綺麗な写真を撮るのには全くこれっぽちも向かない.
そういった目的のカメラとしてはスマホがあるじゃないかと割り切っている.

ちなみに
[cympfh.cc/photos](http://cympfh.cc/photos/)
は（だいたい）全部これで撮った写真を載せてる.
自分で撮った写真が世界で一番好き.

X100F を選んだ理由は色々あるけど, カメラの性能の九割は見た目だと思う.
見た目が悪かったら中身がどんなに良くても, 外で取り出して構える気にはならんからね.
ちなみにアニメ版のヤマノススメでほのかちゃんがX100（X100F の世代前）を使ってたとかいうのも気に入ってる
[参照](https://anicame.com/post-7364/).
ちなみに後継の X100V が今年の2月に出るという話もあったりします
[fujirumors.com](https://www.fujirumors.com/tag/fujifilm-x100v/).

![](https://i.imgur.com/XrIzyQE.jpg)

### PS2

アキバの駿河屋で中古で15k円くらいだった.
型番が古いのは壊れやすいとかあるのをその場でググりながら70000番台（薄型のやつ）を選んだ.

どうしても「ビブリボン」がやりたくなって Amazon でビブリボンの中古をポチった.
その次の日に本体を買うことにした.
ビブリボンは PS1 のゲームなので, 本体の選択肢として PS1, One, 2, 3 があった.
PS1 と PS2 は中古で大体同じくらいの価格帯で, それなら遊べるゲームが多い PS2 にした.

店頭で買って, 本当に動くのか怖いので動作確認のつもりで一番安くて一応遊べそうなゲームとして「みんな大好き塊魂」を買った.
塊魂自体もなかなか良くて, 初代の「塊魂」も買って遊んだ.
ちなみに2020年になってから「シーマン」をプレイし始めた.
朝起きてと, 会社から帰って, ギルマンとおしゃべりするのが日課になった.

### HHKB Hybrid Type-S

2019年末に発表されたモデル.
元々HHKBを好んで使ったいたので買うか迷う理由もなかった.

ラップトップのキーボードの上に載せて使うようなスタイルだと, 無線なのは必須だと思う.
デスクトップで使うならどうでもいいんじゃないですかね.

### 育てる水草

![](https://images-na.ssl-images-amazon.com/images/I/61EG0c7byOL._SL1000_.jpg)

ペットを買いたい気分になったけど, 一人暮らしでペットは難しい.
というわけで水草を買った.

実は中学生高校生くらいのときに苔を育ててたことがある.
基本的に瓶詰めにして放っておけばいいのが植物のいいところだ.
ちなみに苔は大学生になって東京に持ってきたタイミングでカビてしまって捨てた.

この水草は4月に買って育て始めたのだけれど, 発芽を始めるのには5月くらいまで待たないといけなかった.
4月の東京はまだまだ寒かった.
今はすっかり元気に育ち, 伸び放題に荒れ, まったく手を掛けずに冬を越した.

眺めたい時に眺めていられる.
もっとも最近はシーマンを眺めている時間の方が長いかもしれない.

## 2019年買ってどうってなかったもの

### [山善] 電気ケトル

![](https://images-na.ssl-images-amazon.com/images/I/71dth3WRDEL._SL1500_.jpg)

基本的にお湯が欲しかったらヤカンを火に掛けて沸かしてたけど,
電気なら早いっぽいし, 火をつかないほうが放ってても安全だし.

気まぐれでこの温度調整まで出来るのを買ったけど,
そんな機能は使わないことが分かった.
あとこのお湯が出る口がクネッてなってるの, 無意味でおしゃれなのが笑える.
ヤカンで十分だわ.

### 砥石

![](https://images-na.ssl-images-amazon.com/images/I/51WY5tNfWDL._SL1000_.jpg)

別に包丁って, 多少切れ味悪くても, 切れさえすればいいよね.
切断面の滑らかさが料理の味に影響してるかなんて分からない.

退屈とか何も考えたくない時, 包丁を研ぐ.

たぶん半永久的に使えるから, キッチンに置いておいて悪くはないけどね.

## 2019年読んで良かった本

### 筒井康隆

- 夜を走る
- 笑うな
- にぎやかな未来

もちろん名前は知っていた.
「富豪刑事」とか「日本以外全部沈没」とかは読んだことがあって,
一定の面白さは分かってたけども, 量産型の作家なので当たりハズレも大きい.
何かで結構なハズレを引いてから読むのをやめてたけど, ちゃんと選べばいい.

### 山本直樹

- テレビばかり見てると馬鹿になる
- ビリーバーズ
- Fragments
- ありがとう

山本直樹を初めて読んだのは2019年の3月.
吉祥寺の古本屋で間違えて「テレビばかり〜」を手に入れて読んだ.
エロ漫画と言えばそうかもしれないが, どうもおかしいぞと思い試しに長編を読んだ.
なるほど天才だった.

### あびゅうきょ

- 晴れた日に絶望が見える
- 絶望期の終り
- 百億の絶望と千億の絶望

Kindle unlimited にこの作者の漫画が一通りあるのでまとめて読むことをオススメする.
作者はドがつくロリコンで, 性格は無惨に歪みひんぐりがえしている.
そんな漫画.
&lt;/code&gt;&lt;/pre&gt;
    </description>
    <pubDate>Sat, 18 Jan 2020 00:00:00 +0900</pubDate>
    <guid isPermaLink="true">https://cympfh.cc/taglibro/2020/01/18</guid>
  </item>
  <item>
    <title>Fri Jan 17 2020</title>
    <link>https://cympfh.cc/taglibro/2020/01/17</link>
    <description>
      &lt;pre&gt;&lt;code&gt;
## awk のプロコン用ライブラリを作りたい

構造体もないし, まともな変数スコープもない.
例えば関数の中で for を回す時に変数 `i` なんて宣言すれば, 他のブロックの中の `i` が壊れる.
ライブラリ化する上ではそういうところに気を使わないといけない.

awk はよくあるスクリプト言語のように数値に int も float も区別がない.
かと言って Ruby のように気が利いてるわけでもない.
たぶん内部的には全部 float64 なんだと思う.
精度が壊れてない間はあたかも int かのように見せてくれるが桁が大きくなるとすぐ壊れる.
たぶんよくある javascript の実装に近い.

それだと困るので int64 を実装したい.

int32 くらいの精度は素の数値でも担保出来てると思う.
つまり $\pm 2^{31}$ くらいはそのまま持てる.

```bash
$ awk &#39;BEGIN { print 2147483647 }&#39;
2147483647

$ awk &#39;BEGIN { print 2147483648 }&#39;
2.14748e+09
```

確かにそのようだ.

で例えば整数 $x$ を適当な定数 $E$ の下で
$x = x_0 + x_1 E$
と分解して $x$ の代わりに $x_0, x_1$ を持つことにする.
$x_0, x_1$ が $\pm 2^{31}$ に入ってればいいんだけど,
掛け算をするときは一時的に掛け算しないといけないので（それはそう）,
$2^{31}$ ギリギリどうしの掛け算しちゃうと $2^{31}$ を超えてしまう.
だからそのルートをとって $\pm 2^{15}$ の範囲に抑えておかないといけない.
キリ良くしておいて $\pm 10^4$.
それに合わせて $E=10^4$.
結構小さいなあ.
これで真面目に64bit整数にしようとしたら数を5つにして
$\sum_{i=0}^4 x_i E^i$
にすることになる.
掛け算とか10進数表示にするのとか, 多いと大変さが線形以上に増すのでやりたくくない.

言うて, 書いてみたら案外書けるものだった.

&lt;script src=&quot;https://gist.github.com/cympfh/242ee06b348c2e5017c83784c4f66f5d.js&quot;&gt;&lt;/script&gt;

$\pm 10^{12}$ 同士の和積が出来る.
手元のランダムテストしたけど大丈夫っぽそうかな.

## 関数のローカル変数がない問題

```awk
function f(x) {
    x = 1
    y = 2
}
{
    x = 0
    y = 0
    f(x)
    print x, y  # 0, 2
}
```

関数 `f` で `x` は引数で, それ以外に `y` という変数を参照している.
残念ながら変数には引数であるか, さもなくばグローバル変数でしかない.
だからローカル変数のつもりで `y` を使うと誤って破壊してしまう危険性がある.

[www.gnu.org/software/gawk/manual/html_node/Variable-Scope.html](https://www.gnu.org/software/gawk/manual/html_node/Variable-Scope.html)

引数はちゃんと引数であることを利用して,
関数の中で使うローカル変数を引数として列挙してしまうテクがあった.
呼び出す場合は空にしておいて問題ないらしい.

```awk
function f(x, y) {
    x = 1
    y = 2
}
{
    x = 0
    y = 0
    f(x)
    print x, y  # 0, 0
}
```

自分ルールだけど,
`function f(x, _, y)`
と書くことにする.
`_` 以降は不要なただのローカル変数の列挙であることを意味するということにする.
&lt;/code&gt;&lt;/pre&gt;
    </description>
    <pubDate>Fri, 17 Jan 2020 00:00:00 +0900</pubDate>
    <guid isPermaLink="true">https://cympfh.cc/taglibro/2020/01/17</guid>
  </item>
  <item>
    <title>Wed Jan 15 2020</title>
    <link>https://cympfh.cc/taglibro/2020/01/15</link>
    <description>
      &lt;pre&gt;&lt;code&gt;
## 画像分類について

画像データの 1 pixel は普通有限 bit で表現される.
簡単にグレイスケール画像で 1 pixel が 8bit とすれば, 各ピクセルとは整数 $[0, 256)$ の値のこと.
しかしながら画像処理に置いても人間の認知を考えても整数とは思っておらず, 実数 $[0, 256)$ の上の代表値としてその整数を取ったものと見做すのが普通だ.
だから, 画像 $x$ が与えられたときには, それは, まあ大体 $(x-1, x+1)$ という値の範囲から一つ代表値を選んで表示したものと思うだろう.

次に実数の上の滑らかな確率分布のことを思い出す.
例えば区間 $[0,1]$ の上の一様分布を考えてみる.
つまり $0$ 以上 $1$ 以下の実数がどれも等しい確率で選ばれるような確率変数 $X$.
この値がぴったり $X = 0.5$ を取る確率はゼロである.
無限に値を取り得る値がピッタリ 0.5 であるようなことは確かにゼロに思える.
つまり任意の実数 $a \in [0,1]$ について $P(X=a)=0$ である.
実数の上の分布の場合については $P(a \leq X \leq b)$ を考えることしか出来ない.
例えば今の一様分布の場合, $0 \leq a \leq b \leq 1$ について, $P(a \leq X \leq b) = b - a$ である.
さらにこれを微分することで確率分布という概念が出来る.
確率分布 $\mu$ とは $\int_a^b \mu(x) dx = P(a \leq X \leq b)$ であるような関数のこと.
今の一様分布なら $\mu(x) = 1$ がそれになる.

画像とは実数（以上の濃度）の空間の上の部分空間で, その上に何かの確率分布を考えてみる.
例えば猫画像であることの確率を考える.
画像データを表す確率変数 $X$ と, 猫画像であることを表す確率変数 $C$ を考える.
$X$ の値域はユークリッド空間の部分空間.
$C$ の値域は $\{0,1\}$ で $C=1$ が猫であることを意味する.
画像空間の上の分布なので,
$P(X|C=1)$
という条件付き確率を考えるとちゃんと確率分布になる.
それを $\mu_C$ と書くことにする.

$\mu_C$ が本当に存在するなら（そしてそれはきっとあると思う）,
さっき延べたように
$\forall x, P(X=x|C=1) = 0$
である.
条件付き確率の定義（或いはベイズの定理）から,
$P(X=x,C=1)=0$.
では, $P(C=1|X=x) = P(X=x,C=1) / P(X=x)$ は?
右辺は素直に計算するとゼロ割るゼロとなって値を定めない.
厳密には極限で計算しないといけない.

で, 思ったのは, 実際に画像 $x$ が与えられた場合, それは実は区間 $(x-1,x+1)$ から与えられているという話だ.
確率 $P(X=x)$ を考えるべきではなくて,
$\int_{x-1}^{x+1} dx ~ \mu_C(x)$
という積分値を考えないといけないのではないか?
それだったら,
$P(C=1 | x-1&lt;X&lt;x+1) = P(x-1 &lt; X &lt; x+1 ,C=1) / P(x-1 &lt; X &lt; X)$
を計算することになって,
右辺は実数割る実数になって計算が容易になる.

などと考えた.

実際には $(x-1,x+1)$ 上でそれらの確率はほぼ定数だから, 関係ないだろうけど.

普通のカテゴリ予測器であれば,
$P(C|X)$
という関数を, $X$ を入れたら $P(C|X)$ を返す機械として定めてモデル化するのに対して,
上の方法では
$P(x-1 &lt; X &lt; x+1 ,C=1)$
と
$P(x-1 &lt; X &lt; X)$
とのそれぞれを予測するモデルが必要になるので手間だ.
しかも学習するのは $P(X=x)$ という確率ではなくて, 確率分布.
確率分布は結局積分する形式でしか利用しないので,
入力 $a,b$ について $P(a &lt; X &lt; b)$ を計算する機械として定めれば同じことだ.
訓練データとして実数のペア $a,b$ について $(a,b)$ の範囲にある学習データとその尤度確率をラベルに学習すればいいのかも？
$C$ との同時確率バージョンなら,
訓練データ $D = \{(x_i, y_i)\}$ に対して $A = \{ i \mid a &lt; x_i &lt; b \land y_i = C \}$ を取ってきて,
$P(a &lt; X &lt; b, C) = |A| / |D|$
を学習するみたいな感じ.
$b=a+2$ に制限してもしなくてもいいかもしれない.

## 確率の学習について

本当はこんなことを考えてたわけじゃなくて,
ディープラーニングって確率を考えてたことをいつの間にかカテゴリ分類, 乃至は one-hot encoding をターゲットにすり替えていて,
それが気持ち悪いなあとずっと考えてた.
つまり, 本当は 0.8 みたいな中途半端な確率を取るはずなのに, 訓練データでは簡単に 0 か 1 か或いはせいぜいそれをスムージングした値くらいを学習データに入れてしまう.
それでいて最終層には softmax なんかを入れて, これは確率ですよって顔をしている.
確かに, 予測時にはちゃんと微妙な値を取ったりするので, なんだか確率らしきものを学習してる気分にならなくもない.
でも学習データにおける平均を出してるだけだとも思う.
だったら初めから平均を算出してそれを訓練信号にしたほうが, 学習もスムーズになったりしないだろうか?

考えている確率のほとんどは先に述べたような確率分布を持つ, と思う.
確率分布を学習させるのは本質な気がする.
&lt;/code&gt;&lt;/pre&gt;
    </description>
    <pubDate>Wed, 15 Jan 2020 00:00:00 +0900</pubDate>
    <guid isPermaLink="true">https://cympfh.cc/taglibro/2020/01/15</guid>
  </item>
  <item>
    <title>Mon Jan 06 2020</title>
    <link>https://cympfh.cc/taglibro/2020/01/06</link>
    <description>
      &lt;pre&gt;&lt;code&gt;
## 今思ったこと

基本的にこれはいわゆる日記なので、デフォルトとしてタイトルは日付が自動で入るようになっている。
困るのは、夜、寝る前に日記を書く場合に日を跨いでしまってる場合だ。
深夜の二時、寝る前であれば気分はまだ前日である。
でもこのシステムはJSTで動いているので、気分では明日の日付が入ってしまう。
いっそUTCでシステムが動いていればいいのかもしれない。

## 思い出したこと

OGP を導入する。

## 日記

気がついたら年を跨いでいた。
それだけで、はしゃぐ理由にはならないけれど、2020 という数字が見た目に綺麗なのは確かだと思う。

近所に一つ大きな神社があり、二駅向こうにも大きなお寺がある。
どちらに行こうかと考えながら人の流れに身を任せて歩いていたら神社に着いた。
参道の帰り道に、とある分かれ道に気がついた。
一方は家に向かう。一方は直前まで行こうかどうか悩んでいた寺の名前と、その下に矢印が書かれていた。
そんな看板と目が合ってしまったので、今年の初詣は二箇所ということにした。
&lt;/code&gt;&lt;/pre&gt;
    </description>
    <pubDate>Mon, 06 Jan 2020 00:00:00 +0900</pubDate>
    <guid isPermaLink="true">https://cympfh.cc/taglibro/2020/01/06</guid>
  </item>
  <item>
    <title>Sat Dec 14 2019</title>
    <link>https://cympfh.cc/taglibro/2019/12/14</link>
    <description>
      &lt;pre&gt;&lt;code&gt;
## 新しいHHKBが来た

HHKB の Hybrid 版がついこないだ発表されて, 早速 Amazon で購入した.
おそらく用意してる在庫はギリギリに絞っているらしく, すぐに Amazon からも在庫がなくなり, 私の注文も発送されるまで3日待たされた.
（もとより発送まで2-3日かかります, とは書いてあったので何も間違えてはいない.）

新しい HHKB は USB (Type-C) での接続と, Bluetooth での接続の両方が選択できる.
たしか 2016 年の春に HHKB BT が発売されたのを覚えているが, それは Bluetooth のみの接続であった.
しかも既に発売されている静音タイプ Type-S も採用されなかった.
今回は Hybrid では Type-S を採用したバージョンもある.

私は一番クラシカルな Pro2 モデル（USB Type-B で接続して静音でもない奴）と, Pro2 の Type-S のモデルと, それから HHKB BT の3つを持っている.
Type-S は静音なだけでなく, 打鍵感も段違いで腱鞘炎になりにくい, と思う.
今回の Hybrid では BT に Type-S が採用されている. 待ちわびたモデルというわけだった.

ところで,
前回の HHKB BT を Ubuntu に bluetooth 接続するのは大変困難を極め, ついに諦めてしまった.
もしかしたら当時の Ubuntu で Bluetooth 3（それ以上のちゃんとしたバージョンは分からない）に接続するのは駄目だったのかもしれない.

今改めて調べると

[UbuntuでHHKB BTを使うための設定 - 塩焼きブログ](https://sioyaki.com/entry/2019/04/03/105625)

この方は普通に接続できてるようなので, 今となっては事情が違うのかもしれない.

さて HHKB Hybrid は bluetooth 4.2 である.
全くさくっとはいかず, 何度かPC側のbluetoothをon/offしたり, キーボードの電源をon/offしたりしたが, 三度目くらいで接続できた.
bluetooth 接続には `blueman` を用いた.
HHKB の説明書にはもちろん Windows/MacOS の場合の説明しかないが, 「PC側で表示される数字をキーボード本体で入力してEnter」などと書いてあるが `blueman` の場合, そういったものは経験上, 表示されない.
ただ勝手に接続が成功するか, しないかである.

もうちょっと詳しく書くと,
&quot;Setup New Device&quot; のウィザードはまるで役に立たなくて,
&quot;Devices&quot; の画面でデバイスを選んで &quot;Pair&quot; を押す.
何の反応も無いように見えるが, ステータスバーの bluetooth のアイコンが変わってるかもしれない.
しばらく待つと成功したりしなかったりする.

あ, そういえば, 罠として, DIP スイッチは bluetooth 接続中に変更しても意味がないというのがある.
たぶん接続した瞬間の設定しか読まない.

### HHKB Hybrid が bluetooth 接続してる間はラップトップ本体のキーボードを無効化する

MacOS だと, Karabina というソフトでそんなことが出来る.
Ubuntu でもそういうことをしたい.

`xinput` で各デバイスの状態を見たり操作出来る.
また `bluetoothctl` コマンドで bluetooth 接続状態が確認できる.

`bluetoothctl info` でなんとなく今の接続状態が分かる.
キーボードっぽい名前がそこに出てきたら Bluetooth キーボードが接続されたということ.

`xinput list` で本体のキーボードっぽい名前を確認し,
`xinput set-prop $BUILDIN_KBD_NAME &quot;Device Enabled&quot; 0`
とすれば無効化できる.

&lt;script src=&quot;https://gist.github.com/cympfh/1dafa0e1347f2607c42ad900782c994d.js&quot;&gt;&lt;/script&gt;
&lt;/code&gt;&lt;/pre&gt;
    </description>
    <pubDate>Sat, 14 Dec 2019 00:00:00 +0900</pubDate>
    <guid isPermaLink="true">https://cympfh.cc/taglibro/2019/12/14</guid>
  </item>
  <item>
    <title>Wed Dec 11 2019</title>
    <link>https://cympfh.cc/taglibro/2019/12/11</link>
    <description>
      &lt;pre&gt;&lt;code&gt;
&gt; おはようございます.
&gt; これは [Shell Script Advent Calendar 2019](https://qiita.com/advent-calendar/2019/shellscript) の 11 日目です.

## Atcoder Selection for Sed Beginners

### まえおき

純粋なシェルスクリプトというのは無く（知らないけど）、
例えば `$X` という変数が `1` をチェックするようなコード

```sh
if [ $X -eq 1 ]; then
  hogehogehoge...
fi
```

にはコマンド `[` が使われていたりします.
試しに手元の bash で `which [` すると

```bash
$ which [
/usr/bin/[
```

と返ってきて、確かに外部コマンドであることが分かります.
（ちなみに zsh だと built-in でした.）

このようにシェルスクリプトというのは、基本的には外のコマンドを呼び出しながらデータを処理する言語です.
それでもシェルスクリプトとの親和性というのが考えられ、特に親和性が高いのが行志向で処理するようなコマンドでしょう.
その一つが sed です.

よく使われる sed の例がたぶんこんなん.
良い例ではないですが.

```bash
$ cat test.txt
function fuga(x) {
    return 42
}
print fuga(1)
print fuga(2)
print [fuga(&quot;3&quot;), fuga(&quot;4&quot;)]

$ cat test.txt | sed &#39;s/fuga/hoge/g&#39;
function hoge(x) {
    return 42
}
print hoge(1)
print hoge(2)
print hoge(&quot;3&quot;)
print [hoge(&quot;3&quot;), hoge(&quot;4&quot;)]
```

文字列の置換です.
`s/.../.../g` は１個目の `...` を２つ目の `...` に置換するという意味.
最後の `g` はこの置換を全て行うということで、これがない場合は各行の最初の１個にしか適用されない.

```bash
$ cat test.txt | sed &#39;s/fuga/hoge/&#39;
function hoge(x) {
    return 42
}
print hoge(1)
print hoge(2)
print [hoge(&quot;3&quot;), fuga(&quot;4&quot;)]
```

なんで各行なのかというと, そもそも sed はコード（コマンド引数として渡された文字列）を各行に適用するものだから.

データは行ごとに分割された要素の列.
sed はコードを列の各要素に適用して返す.

```bash
$ cat data
x1
x2
x3
:
xN

$ cat data | sed f
f(x1)
f(x2)
f(x3)
:
f(xN)
```

これが行志向と先に書いた意味です.
シェルスクリプトに登場するコマンドはこの形式なことが多くて、
`while read ...; do ...; done`
でも行ごとの処理が出来るし、
`awk` コマンドなんかもそうだし.

というわけで sed を使いこなせることはシェルスクリプトを使いこなすことなので、皆さん sed を勉強しましょう.

言語を学習するのに便利なサイトがあって、AtCoder っていうんですけど.
これの &quot;AtCoder Beginner Contest&quot; の A 問題と B 問題くらいなら sed で解けます.
A とか B とかは単に各コンテストの中の問題の番号ですが、若いほど簡単です.
もっと正確には、各問題には点数が割り振られてるのでそれを参考にしてください.

とはいえ、
sed は基本的に文字列を処理するものであって整数や小数の演算をするものではないので、そういう問題だったらA問題であっても捨てればいいです.

### 本題

というわけで、sed を学ぶにあたって問題をいくつか選定してみました.
簡単な順です.

問題へのリンクと、実装すべき内容だけを簡単に紹介します.
内容自体はどれも簡単で sed でなくて普段使い慣れてる言語であればどれでも書くことはすぐに分かるようなものだと思います.
（このくらいはネタバレにならないと信じてます）

最後に、私自身の解答と、簡単な解説を置いておきます.
自分で考えたい方は見ないように気をつけてください.

#### Atcoder Selection for Sed Beginners

- [ABC051: A - Haiku](https://atcoder.jp/contests/abc051/tasks/abc051_a)
    - カンマ区切りの文字列をスペース区切りに変換してください
- [ABC049: C - 白昼夢 / Daydream](https://atcoder.jp/contests/abc049/tasks/arc065_a)
    - 与えられる文字列が dream dreamer erase eraser の結合で構成できるか判定してください
- [ABC145: B - Echo](https://atcoder.jp/contests/abc145/tasks/abc145_b)
    - 与えられる文字列が、同じ文字列を２つ重ねた形になってるか判定してください
- [ABC141: A - Weather Prediction](https://atcoder.jp/contests/abc141/tasks/abc141_a)
    - 三通りの入力に対して適切な出力をしてください
- [ABC146: A - Can&#39;t Wait for Holiday](https://atcoder.jp/contests/abc146/tasks/abc146_a)
    - 入力が七通りに増えました
- [ABC050: A - Addition and Subtraction Easy](https://atcoder.jp/contests/abc050/tasks/abc050_a)
    - 足し算か引き算の数式が与えられるので答えを出力してください
- [ABC145:  A - Circle](https://atcoder.jp/contests/abc145/tasks/abc145_a)
    - 与えられた整数の２乗を答えてください
- [ABC138: A - Red or Not ](https://atcoder.jp/contests/abc138/tasks/abc138_a)
    - 数字の大小比較をしてください
    - 入力が二行に別れてます
- [ABC147: A - Blackjack](https://atcoder.jp/contests/abc147/tasks/abc147_a)
    - 足し算をして大小比較をしてください
- [ABC052: A - Two Rectangles](https://atcoder.jp/contests/abc052/tasks/abc052_a)
    - 算数をしてください

ループを使うような問題もないし、ちょっと偏りがありますね。。。
`b` コマンドと `y` コマンド、あとホールドスペースを使うくらいのものを補足したい。

#### 解答例 + 簡単な解説

- ABC051: A - Haiku
    - https://atcoder.jp/contests/abc051/submissions/8696228
    - これ以上なく普通に置換するだけ
    - 一番よくある sed の使い方
- ABC049: C - 白昼夢 / Daydream
    - https://atcoder.jp/contests/abc049/submissions/8696164
    - 四通りの文字列を空文字列に置換することで全体を空に出来れば YES を出力する
    - `dreameraser` という文字列を `dreamer + aser` としてしまって、まず `dreamer` を消すと `aser` だけが残って空にできなくなってしまうのが罠なんだけど、sed は最長マッチをしてくれるから（？）この罠に引っかからない
    - `c` コマンドは後ろに続く文字列に置き換えて出力して以降の処理をスキップする
        - `cYES` を実行すると `YES` を出力して即座にプログラムを終了する
- ABC145: B - Echo
    - https://atcoder.jp/contests/abc145/submissions/8889630
    - 与えられた文字列が `T + T` の形をしてるかチェックする
    - 前方参照という機能を使うとこれがチェックできる
        - `\(.*\)\1` がそれになる
    - 一行目は不要なので消したいが、これは `1d` で実現できる
        - 頭の `1` は一行目に次のコマンドを実行するという意味
        - `d` は与えられた行を削除 (delete) するという意味
- ABC141: A - Weather Prediction
    - https://atcoder.jp/contests/abc141/submissions/8889642
    - 入力が三通りしかないので、全部書けばいい
        - `/S/` は入力に `S` が含まれてれば発動するという意味
            - 今の入力の場合、それは `Sunny` のみ
        - このとき続く `cCloudy` が実行される
            - `Cloudy` が出力されて即座に終了する
- ABC146: A - Can&#39;t Wait for Holiday
    - https://atcoder.jp/contests/abc146/submissions/8701920
    - 入力が七通りに増えただけ
- ABC050: A - Addition and Subtraction Easy
    - https://atcoder.jp/contests/abc050/submissions/8696198
    - 与えられた文字列をそのまま `eval` すればいい
    - 簡単な数式はシェルスクリプトだと `echo $(( 1 + 3 ))` みたいに計算できる
    - `s/.../.../e` は置換した後に出来た文字列をシェルスクリプトとしてシェルに投げて出力に変換する
        - `echo 1 + 2 | sed &#39;s/.*/echo $((&amp;))/&#39;`
            - `echo $((1 + 2))`
        - `echo 1 + 2 | sed &#39;s/.*/echo $((&amp;))/e&#39;`
            - `3`
    - 便利ですね！
- ABC145: A - Circle
    - https://atcoder.jp/contests/abc145/submissions/8701927
    - じゃあこれもそのまんまですね
- ABC138: A - Red or Not
    - https://atcoder.jp/contests/abc138/submissions/8901474
    - 一行目の数字が 3200 より大きいかどうかチェックする必要がまずあり、
        - `echo $(( &amp; &lt; 3200 ))`
            - true なら 1, false なら 0 が出力される
    - 二行目が今すぐ欲しい.  `N` コマンドは次の行を読んで今読んでる行の後ろに付け足します（改行文字を間に挟む）
    - さっきの大小比較の結果が `1` なら問答無用で `cred`
    - 結果が `0` なら、今 sed が読んでるテキストは `0\ns` という形になってて `s` を出せばいいので頭の `0\n` だけ消せば ok
- ABC147: A - Blackjack
    - https://atcoder.jp/contests/abc147/submissions/8889548
    - 数字がスペース区切りで３つ与えられる
        - 和が欲しいので、スペースを `+` にして、また `echo $(( &amp; ))` で計算
        - さらに `$(( &amp; &gt;= 22 ))` で大小比較
- ABC052: A - Two Rectangles
    - https://atcoder.jp/contests/abc052/submissions/8696318
    - もはや初めからシェルスクリプト書いたほうがいいです

`s` コマンドの `e` フラグ (`s/.../.../e`) が強力で、これで結局 sed の中からもシェルスクリプトが書けます. もちろんシェルスクリプトから sed を呼ぶことももちろん出来ます. 互いが互いを呼べるので表現力が全く等しい、これは同一の言語だと言っても差し支えありませんね.
&lt;/code&gt;&lt;/pre&gt;
    </description>
    <pubDate>Wed, 11 Dec 2019 00:00:00 +0900</pubDate>
    <guid isPermaLink="true">https://cympfh.cc/taglibro/2019/12/11</guid>
  </item>
  <item>
    <title>Mon Dec 09 2019</title>
    <link>https://cympfh.cc/taglibro/2019/12/09</link>
    <description>
      &lt;pre&gt;&lt;code&gt;
&gt; 先日作成したアドベントカレンダーに登録されてる記事が自分の書いた１件というのは寂しいので水増しします.
&gt; これは [Shell Script Advent Calendar 2019](https://qiita.com/advent-calendar/2019/shellscript) の 9 日目の記事です.

## 今年書いて良かった .zshrc 2019

これは2018年に書いた
[今年書いて良かった .zshrc](../../2018/12/14.html)
の 2019 年版です.

zshrc もシェルスクリプトなのでね.

### 去年の記事について

本題に入る前に、去年書いた設定を今年どれだけ使ったか反省したいと思います.

2018年に書いた記事を見ると
`Ctrl-R` で `history` から `peco` するとかありますが、
fzf が提供する zsh スクリプトにまんまこれがあるのをついこないだ知りました.
今はそれを使ってます.

`Ctrl-G Ctrl-R` で履歴から `cd` するやつ.
これは普通に使ってます. `peco` 部分は `fzf` に変えてもいいと思ってますが、 お好みで.
私は普段 GNU screen の上で生きてるのですが、 これだと fzf の preview は表示がよく壊れるので preview は切っており、 peco とそんなに変わらないので peco のままにしてます.

### 今年新たに書いた設定

#### bindkey で screen の起動

ターミナルを新たに開いた時、 ほとんどの場合は screen を新たに起動するか、
既存のセッションへのアタッチをします. 私は.
毎回 `screen -x ...` とか入力するのだだるいので、 bindkey で呼べるようにしました.
(ターミナルを新たに開いたら強制的に screen を起動する画面に入るくらい積極的にする手も考えられますが、 今はそこまでしてないです)

```zsh
# https://github.com/cympfh/dots/blob/326eda0f388864eab751c06a47e8a0d61b8ab99f/sh/bindkey.zsh#L50

insert-screen-x() {
    BUFFER=screen-x
    CURSOR=$#BUFFER
    zle .accept-line
}
zle -N insert-screen-x
bindkey &quot;^K^X&quot; insert-screen-x

insert-screen-s() {
    BUFFER=screen-s
    CURSOR=$#BUFFER
    zle .accept-line
}
zle -N insert-screen-s
bindkey &quot;^K^S&quot; insert-screen-s
```

`BUFFER` に文字列を代入することで強引にコマンドを入力して、
`zle .accept-line`
でエンターを押すのをシミュレートしてます.
こんなややこしいことをせずに直接コマンドを関数から呼べばいいのでは？ とはじめは思ったのですが、 screen のようにターミナルを奪うコマンドを bindkey から呼ぶとなかなかややこしいようなので、上のような方式にしました.

ちなみに `screen-x` とか `screen-s` は `screen -x` とか `screen -S` をいい感じに呼ぶエイリアスです
( [screen.sh#L19](https://github.com/cympfh/dots/blob/326eda0f388864eab751c06a47e8a0d61b8ab99f/sh/screen.sh#L19) ).
１つ目は既存のセッション名を列挙して `peco` で選んでそれを起動します.
後者は今いるディレクトリ名からいい感じにセッション名を決めて新しく screen を起動します.

#### やけに時間の掛かったコマンドは終わり際に経過時間を報告する &amp; 効果音を鳴らす

ところで私のプロンプトは次のようになっています.
画像と見比べて意味はだいたい察してください.

![](https://i.imgur.com/pPJphpk.png)

```zsh
# https://github.com/cympfh/dots/blob/326eda0f388864eab751c06a47e8a0d61b8ab99f/sh/prompt.sh#L5
PROMPT=&quot;
\`prompt-time\` \`prompt-host\`\`prompt-pwd\`\`prompt-git-status\`
   &quot;
```

このようにプロンプトの頭に時刻を出すことにしています.
それはもちろんいつでも今の時刻を素早く知りたいから、ではなくて、あとからスクロールして見返したときに、このコマンドを打った時刻はいつだったかを知れると便利だからです.
ちなみに iTerm2 の上で tmux を使ってるみなさんは iTerm2 に &quot;show timestamp&quot; という設定項目があり、 これとだいたい同じことをもっと格好良くやってくれるので、それで十分です.

ところで他にも使いみちがあり、プロンプトとプロンプトの間の時刻の差を見ることで、コマンド実行に掛かった時間を計測することができます.
秒単位なので厳密な計測ではありませんが、そういえばさっきやった処理は思ったより時間が掛かったけどどのくらい掛かったんだろう、というのが後から思い返せるのは便利です.

```console
(PROMPT) (time1) command1
runnning

(PROMPT) (time2) command2
...
```

思い出したときに `(time2) - (time1)` を計算することで `command1` の実行時間が分かる.

これも罠があって、プロンプトの入力待ち状態で数分間コマンドを打たずにぼーっとしていると、時刻だけが更新しています.
つまりプロンプトに表示される時刻は正確にはその直後のコマンドを実行し始めた時刻であり、直前のコマンド実行が終わった時刻ではないことです.

前々から不便だと思っていたので、真面目に計測しておくことにしました.
すべてのコマンドの時間を計測しておきます.
コマンド実行が数分未満も掛からなかったような場合は、掛かった時間も知りたくないでしょうから、数分以上掛かった場合のみ、時間を報告することにします.

スクリプト全体を貼ると大変なので抜粋

```zsh
# https://github.com/cympfh/dots/blob/326eda0f388864eab751c06a47e8a0d61b8ab99f/sh/exec_time_report.sh

# コマンドを実行したら時刻を記録
preexec_lastcommand() {
    last_command=$1
    last_prompt_time=$(date &quot;+%s&quot;)
    time_report_waiting=1
}

# コマンドが終わった == 次のコマンドの precmd
precmd_timereport() {
    cur_prompt_time=$(date &quot;+%s&quot;)
    duration=&quot;$(( cur_prompt_time - last_prompt_time ))&quot;
    # duration をいい感じに報告
    time_report_waiting=0
}
```

`date &quot;+%s&quot;` で unixtime を出してるので単純に引き算すれば掛かった秒数が得られます.
&lt;/code&gt;&lt;/pre&gt;
    </description>
    <pubDate>Mon, 09 Dec 2019 00:00:00 +0900</pubDate>
    <guid isPermaLink="true">https://cympfh.cc/taglibro/2019/12/09</guid>
  </item>
  <item>
    <title>Sat Dec 07 2019</title>
    <link>https://cympfh.cc/taglibro/2019/12/07</link>
    <description>
      &lt;pre&gt;&lt;code&gt;
&gt; 参加するアドベントカレンダーが無かったので今作りました.
&gt; これは [Shell Script Advent Calendar 2019](https://qiita.com/advent-calendar/2019/shellscript) の 7 日目の記事です.

## 日記 - Python 以外でディープラーニングしたい

### まえおき

機械学習界隈で、ことディープラーニングとなると、Python を書かないとまともなプログラムが組めない。
これは大変、おかしな事態である。
ディープラーニング以外であれば必ずしも Python に限らなかったはずだ。
SVM を動かすのに必ずしも scikit learn である必要はなく、libsvm でも liblinear でもよかった。
それは単体のコマンドとして提供されているので、シェルが動く環境なら試すことが出来た。
シェルコマンドとして提供されていさえすれば、大抵の環境で触ることが出来る。


ところで、ディープラーニングとは順伝播のことを考える限り、基本的には一列に前から後ろにデータを流す処理に他ならない。
それはシェルスクリプトのパイプによく似ている。
とは言え、途中で枝分かれをしたり合流をしたくなる。
それはディープラーニングであっても、シェルコマンドであってもだ。
ましてやディープラーニングでは逆伝播などという、逆流をしたいというのだ。
シェルスクリプトではまんま逆流をしたいということはなかなか無いだろうが、しかしそのような機構が提供されていないわけではない。
名前付きパイプという機能がある。

### ここで名前付きパイプの説明を始める

```bash
( echo 1 ) | ( head -1 | awk &#39;{ print $1 * 2 }&#39; )
```

これはパイプを通じて左から右にただデータを流す例だ。
`1` というデータを流して、それを二倍して出力している。
パイプ `|` の右側からは左側から流れるデータのサイズがわからないので `head -1` によって、データが一行に限られることを明示している。

```bash
mkfifo tunnel
```

これは `tunnel` という名前のパイプを作る。
パイプとはまさに `|` のことだが、`tunnel` はあたかもそういう名前のファイルのように見える。

```bash
echo hello &gt; tunnel
```

これは

```bash
echo hello |
```

に相当する。`|` の右側には通常、入力 `hello` を受け取る役が必要なはずだ。
だからさっきの `echo hello &gt; tunnel` は受け取る役が現れるまでシェルをブロックする。
そこでまた別なターミナルを開いて、 `tunnel` を受け取ってみる。

```bash
cat tunnel
```

これはまさに

```bash
| cat
```

に相当する。パイプは無事、入力から出力へと通じ、パイプへの入力のブロックは解消され、出力側には `hello` の表示がなされる。

この **名前付きパイプ** は今、ターミナルさえも跨って入出力が行われた。
ということはだ。
通常のパイプ `|` の後ろから前へ跨ることすら、容易に実現するのではないか。
試してみよう。


```bash
( echo 1; cat tunnel &gt;&amp;2 ) | ( head -1 | awk &#39;{ print $1 * 2 }&#39; &gt; tunnel )
```

`2` と出力されたはずだ。
この出力はパイプ `|` の左にある `cat tunnel` より行われた。
信用できないならさらにこれを加工して、


```bash
( echo 1; cat tunnel | awk &#39;{print $1 * 3}&#39; &gt;&amp;2 ) | ( head -1 | awk &#39;{ print $1 * 2 }&#39; &gt; tunnel )
```

と、三倍してみる。すると `6` と出力された。
どうやら本当に左側の `cat tunnel` からの出力であるらしい。

注意点が2つある。
左側で `&gt;&amp;2` としてある。`&amp;2` は標準エラー出力のことである。
もしこれを省いてただの標準出力とすると `|` の右側にただ渡されるので、ユーザーには `6` の出力が見えない。
もう一点として、パイプ `|` の右側で初めに `head -1` してあるが、これが無いと困ったことになる（かもしれない）。
左側では `echo 1` が終わってもその後に `cat tunnel` しようとする。
パイプの右側はパイプの左側の `cat tunnel` による標準出力を期待して待つ結果、ブロックし、プログラムが終わらないかもしれない。
というかたぶん終わらない。

### 最近やってる話

長い前置きだったが。
要するにだ。
シェルスクリプトは普通にパイプを使えば一列に左から右へのデータのストリームが表現できるし、
そのつもりになれば、枝分かれだって合流だって、逆流だって何でも出来る。
じゃあ、シェルスクリプトでディープラーニングしてみようというのも自然な発想だ。

ディープラーニングにおけるノードとして次のようなものがある。

- 関数
    - 例えば、行列を左または右から掛ける操作
        - これは Linear とか Dense とか全結合層とか呼ばれる
    - パラメータを持ち、「学習」と呼ばれるフェーズではそのパラメータを更新する
- 活性化
    - 値をある範囲に収める操作
        - 非線形であることがほとんど
- 損失関数
    - 入力 `x` があって、期待する `y` があって `assert x == y` みたいなことをする
        - というかその差を出すみたいなことをする

ディープラーニングのフレームワークは例えばこれらを一列に並べる。
一列に限らないけど、大抵の場合は一列だ。
関数と活性化を交互に並べて、一番最後に損失関数を置く。

シェルスクリプトがどうのこうの言ってたので、話は大体見えてると思う。
このノード1個1個をコマンドとして定義して、パイプでつなごうという話だ。

### 実装

[cympfh/dlsh](https://github.com/cympfh/dlsh)

入力は全てテキストで、頭にサイズが明記されいてる。
プロコン形式と言ったほうが分かる人には分かるだろう。
それから今は各入力は行列に限っている。
行列の高さはインスタンスの個数で、幅が各インスタンスの次元。

```
3 5
-5.5869226 2.384049 -3.234392 0.4512289 -5.5657387
-1.0818138 -1.1542585 3.5078242 1.8856971 -1.1181798
1.7649012 3.585418 11.034574 3.6150548 1.7477741
```

これは3つのインスタンスで各行が各インスタンスの5次元データを表している。

```bash
   cat &lt;&lt; EOM &gt; x
3 5
-5.5869226 2.384049 -3.234392 0.4512289 -5.5657387
-1.0818138 -1.1542585 3.5078242 1.8856971 -1.1181798
1.7649012 3.585418 11.034574 3.6150548 1.7477741
EOM

   cat x | linear --dim 4 -w fc
3 4
-0.06950497 0.0535341 0.024406236 0.146945
0.026739486 0.044979442 -0.06527659 -0.006031174
0.11721376 -0.09086315 -0.104535446 -0.10547167
```

`linear` コマンドは先述した全結合層である。
入力が5次元で `--dim 4` なので、5 次元を 4 次元に、行列を掛け算することで変換している。
もっと厳密に言うとバイアスがあるので 6x4 行列を右から掛けることで 4 次元にしている。
まあ、だいたいそんな感じ。

`fc` というのがその行列を保存するファイル名。
ファイルが既に存在すればそれを読む（その場合は読めばサイズが分かるので `--dim` は不要）し、存在しない場合はランダムに初期化する（今は適当な正規分布からサンプリングして作ってる）。

```bash
   cat x | linear --dim 4 -w fc | sigmoid | linear --dim 1 -w fc2 | sigmoid
3 1
0.5011598
0.5012751
0.5012964
```

同じノリで。
`linear` で4次元にして、
[シグモイド](https://ja.wikipedia.org/wiki/%E3%82%B7%E3%82%B0%E3%83%A2%E3%82%A4%E3%83%89%E9%96%A2%E6%95%B0)
して、また `linear` で一次元にして、またシグモイドする。
二個目の `linaer` は1個目と違う行列を使うので違うファイル名 `fc2` を指定している。

### 学習

さっきのコマンドで次のような値を出力してほしいと願うことにする。

```bash
   cat &lt;&lt;EOM &gt; y
3 1
1
0
0.5
EOM
```

まず、 `3x1` というサイズは先程のコマンドの出力のサイズと一致している。
これは一致する必要がある。
そして各値は今適当に決めた。
たぶん適当な値でもどうせ大丈夫だから。

`mse` で誤差を計測することにしよう。
mse は mean square error の略称で、目的の値との差の自乗の平均を意味する。
今データは 4 インスタンスあるので、それらの平均なんだけど、今はちょっと平均はとってないや。

```bash
   cat x | linear --dim 4 -w fc | sigmoid | linear --dim 1 -w fc2 | sigmoid | mse -t y
3 1
0.2490536
0.2509501
0.0000009557709
```

例えばこの1個目の mse は `0.2490...` で大体 `1/4` くらい。
これは mse への入力、つまり最後の sigmoid の出力が
`0.5011598`
だったのに対して期待が `1` だった差の `0.5` の自乗がそのくらいだから。

そして学習とはこの誤差をゼロにすること。

誤差逆伝播を行う。
各コマンドはその直後の誤差を受け取って、それをゼロに近づけるようにパラメータを変更すればいい。
それより後ろの誤差を前へ受け渡すのに、先ほど説明した名前付きパイプを使う。

```bash
   mkfifo A B C D

   cat x | linear --dim 4 -w fc -i D | sigmoid -i C -o D | linear --dim 1 -w fc2 -i B -o C | sigmoid -i A -o B | mse -t y -o A
3 1
0.25347143
0.2464506
0.000013369168
```

一度の誤差伝播では学習は完了せず、何度か繰り返し行うことで収束する。
また更新をどのくらいの大きさ行うかのパラメータ `--lr` もある。
この値は大きければ大きいほど更新を積極的に行うので収束を早めるが、大きすぎると値が壊れる（誤差爆発）。


```bash
while :; do
    cat x |
        linear --dim 4 -w fc -i D --lr 0.2 |
        sigmoid -i C -o D |
        linear --dim 1 -w fc2 -i B -o C --lr 0.2 |
        sigmoid -i A -o B |
        mse -t y -o A
done
```

出力される値がゼロに近づいていて、十分小さくなったら止めて良い。
もし値が大きくなっていったら、 `lr` の値が大きいということだから小さくする必要がある。

収束を確認したら、改めて出力を確認する。

```bash
   cat x | linear -w fc | sigmoid | linear -w fc2| sigmoid
3 1
0.9915571
0.029510455
0.4975897

   cat y
3 1
1
0
0.5
```

確かに期待する値に近くなっている。

ところで、パイプ `|` の直前と直後で逆伝播するのは頻出だろう。
そのためんだけに `mkfifo` をし、 `-i` と `-o` と指定するのは面倒だ。
だから `bp` というコマンドを用意した。
これは `|` に代わって `+` というパイプを提供する。

```bash
cat x |
    bp linear --dim 4 -w fc --lr 0.2 + \
    sigmoid + \
    linear --dim 1 -w fc2 --lr 0.2 + \
    sigmoid + \
    mse -t y
```

と書ける。

### 感想

実用の域に達するためにはいくつか課題がある。

まずは速度面。
入出力が全てテキストベースなのはUNIX的だが、速度では不利かもしれない。
或いはテキストベースだとしてもストリーム的に処理するようにするだけでも違うだろう。

それから、なんと言っても逆伝播の記法。
最後に紹介した `bp` コマンドと `+` パイプはなかなか苦し紛れである。
パイプの直後から直前にデータを流す特別なパイプを発明した方が早く、そうなると結局専用のシェル自体を作ることになる。
なんだか本末転倒に思える。

しかしパイプをすっ飛ばし、コマンドを跨ぐような逆伝播をするような時に、名前付きパイプを利用出来るのは大変自然だし利点だと思う。
そもそも順伝播とはストリーム処理なのだから、シェルスクリプトで表現するのは自分にとってはあまりに自然で、何故誰もやらないのか分からない。
そんなに Python が好きなのか。

簡単な実験をするのにいちいち、プログラムを書きたくない、というのがある。
シェルスクリプトはスクリプトだからプログラムと言えばプログラムなのだが、あまりにも手に馴染んでいるので、プログラムを書いているという感覚がない。
シェルスクリプトで機械学習をするというのは、
マウスを動かしダブルクリックをする感覚でディープラーニングが出来る、と謳うソフトウェアと同じなのだと思う。
&lt;/code&gt;&lt;/pre&gt;
    </description>
    <pubDate>Sat, 07 Dec 2019 00:00:00 +0900</pubDate>
    <guid isPermaLink="true">https://cympfh.cc/taglibro/2019/12/07</guid>
  </item>
  <item>
    <title>Sun Dec 01 2019</title>
    <link>https://cympfh.cc/taglibro/2019/12/01</link>
    <description>
      &lt;pre&gt;&lt;code&gt;
## ガウス過程 (Gaussian Process)

### ガウス過程とは何か

ガウス過程でググると上の方に
[www.jstage.jst.go.jp/article/isciesci/62/10/62_390/_pdf](https://www.jstage.jst.go.jp/article/isciesci/62/10/62_390/_pdf)
という神記事が見つかる。

ガウス過程の説明は色々あるが、私は結局この記事が一番理解できた。
そして結論だけが欲しかったら式 (21)-(23) と読むと分かる。

しかしこれはいわば学習データが $N$ 個あるとすると $N \times N$ 行列の逆行列を求めたりする必要があり、計算量的に辛いので、上手くデータを取捨選択して $N$ を小さく抑えよう、みたいな話がそれより後ろに書いてある。

それは今回は飛ばす。

### 事前分布

```python
import math
import numpy
import numpy.random
from numpy.linalg import inv


# 今回は RBF カーネルを共分散に使う
def k(x1, x2, beta):
    return math.exp(-beta * (x1 - x2) ** 2)

def gp(x, beta=0.1):
    mu = numpy.zeros(x.shape)  # 平均
    K = numpy.array([[k(xi, xj, beta) for xj in x] for xi in x])  # 共分散
    y = numpy.random.multivariate_normal(mu, K)
    return y

x = numpy.array(list(range(-5, 6)), dtype=&#39;f&#39;)
y = gp(x)
plot(x, y)
```

そうするとこんなものが出力される.

&lt;img src=&quot;data:image/png;base64,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&quot; /&gt;

カーネルの中に出現した beta というパラメータが共分散の強さを表している.
数字が小さいほど共分散の影響が強く出るので, 近い $x$ には近い値が出て, 関数が滑らかに見える.
逆に大きいほど影響は小さくなり, バラバラの値に見える.

それを表したのが次図.
特に 0 のときは完全に定数関数になってしまう。

&lt;img src=&quot;data:image/png;base64,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&quot;&gt;

## 事後分布

では $N$ 個の点組 $\{(x_i, y_i)\}$ にフィッティングしたあとのガウス過程はどうなっているかが実際の興味の対象である.
これはさっきも言ったように資料の (21) を見ると計算式そのものが書いてある.

例えば観測データ（学習データ）として

```python
# [-5, 6)
x = numpy.array(list(range(-5, 6)), dtype=&#39;f&#39;)
n = len(x)
y = 0.1 * x * x - x
```

が与えられたときの未知データ

```python
# [6, 10)
x_unk = numpy.array(list(range(6, 10)), dtype=&#39;f&#39;)
m = len(x_unk)
```

への予測は次のように求まる.

```python
# 観測データ内の共分散
Knn = numpy.array([[k(x[i], x[j]) for j in range(n)] for i in range(n)])
# 未知データとの間の共分散
Kmn = numpy.array([[k(x_unk[i], x[j]) for j in range(n)] for i in range(m)])
# 未知データ内の共分散
Kmm = numpy.array([[k(x_unk[i], x_unk[j]) for j in range(m)] for i in range(m)])

# 事後分布
mu = Kmn @ inv(Knn) @ y
vr = Kmm - Kmn @ inv(Knn) @ Kmn.T

# 予測値
y_pred = numpy.random.multivariate_normal(mu, vr)
```

結果を見ると,

x   y_true              y_pred
--- ------------------- -------------------
6.0 -2.3999999999999995 -2.397594644692645
7.0 -2.0999999999999996 -2.0834348677261736
8.0 -1.5999999999999996 -1.5414215447748163
9.0 -0.9000000000000004 -0.7698706846246797

かなり賢い.
&lt;/code&gt;&lt;/pre&gt;
    </description>
    <pubDate>Sun, 01 Dec 2019 00:00:00 +0900</pubDate>
    <guid isPermaLink="true">https://cympfh.cc/taglibro/2019/12/01</guid>
  </item>
  <item>
    <title>Sat Nov 30 2019</title>
    <link>https://cympfh.cc/taglibro/2019/11/30</link>
    <description>
      &lt;pre&gt;&lt;code&gt;
## 日記

最近いつも眠たいので、自分の発言が夢の中での発言だったのか、それがあまりに他愛ないので誰かにした世間話だったのか、上手く思い出せない。

テーブルの斜め向かいの人が、アナログカメラがどういうと言っていて、デジタルカメラに対しての「アナログカメラ」のことだろうと推測し、
私が「フィルムカメラのことですか？」と言うと、思い出したように「あ、それそれ」と笑っていた。

夢の確率が7割、現実の確率が3割。

目覚まし時計の代わりに洗濯機を使うという話をした。
洗濯機が回る音だけでなく、干すという行為を半強制するのが目覚ましの役割を持たせるとかどういう話した。

こちらは現実の確率が8割強ある。
書いてて夢じゃなかった気がしてきた。

## 日記

最近の趣味は Awk と sed。
どちらもその気になれば結局シェルスクリプトを呼び出せるというのが強い。
シェルスクリプトが呼び出せれば例えばRubyインタプリタを呼ぶことで Ruby も書けるということだ。
言語というのは案外他の言語を内に含めることが出来るので、表現能力はみな等しい。

形式言語と比較して自然言語のパースの難しさや意味解釈の曖昧さを思うにつけて、自然言語は残念に思う。
例えば日本語の中に名詞レベルでならば英語を含めることが出来る。
「昨日、うちで飼ってる dog がさ〜」なんて言っても、とりあえず会話が出来る。
形容詞まで行くと違和感が大きい。
「うちで飼ってる dog があまりに cute でさ〜」なんて言うとふざけてると思う。
それでも通じるのは単語レベルだからだ。
文単位で、英語を混ぜるのはさすがに無理がある（英文を引用している場合は意味が異なるので今は考えてない）。
仮に混ぜても問題ないと思っているのなら、「日本語を理解できる」ことは「英語を理解できる」ことを含んでなければいけない。
そのようなことを要請するのは無茶だろう。

何が言いたいのかと言えば、簡単に他の言語を混ぜることの出来るプログラミング言語はなんと表現能力豊かなのだろう、という話である。
&lt;/code&gt;&lt;/pre&gt;
    </description>
    <pubDate>Sat, 30 Nov 2019 00:00:00 +0900</pubDate>
    <guid isPermaLink="true">https://cympfh.cc/taglibro/2019/11/30</guid>
  </item>
  <item>
    <title>Fri Nov 01 2019</title>
    <link>https://cympfh.cc/taglibro/2019/11/01</link>
    <description>
      &lt;pre&gt;&lt;code&gt;
## 考えてること

データにラベルがあるのなら話は楽だ。出力にも入力にも使えるから。
しかしながら、ラベルというのは目的に沿って人間が付与した単純な一つのクラスタに過ぎない。
それを超えた常識みたいなのを作ることが必要。

いつかの日記に、GANのmode callapse を防ぐのにラベルを使えばどうかなどと書いたが、
初めから入力にラベルを与えて conditional にすればいいだけだったことに今日気がついて、
やることを失くした。
それどころか、単にラベルの予測と Discriminator を兼ねさせるだけでも十分 mode collapse が抑えられることを自分も昔確認したのを思い出した。
[cympfh/GAN-semisup-MNIST-Keras](https://github.com/cympfh/GAN-semisup-MNIST-Keras)
この予測器及び判別器は最終層手前までは共通で、最後だけ、10クラス分類とするか、真偽の判定とするかに分岐している。
今思えば、11クラス分類（10クラス + 偽クラス）としても良いかもしれない。

論理を作る。ニューラルネットで。
AND とか OR とか全てのゲートを用意して構成するのは当然出来るに決まっている。
もちろん XOR を作ることが出来るので、原理的に作ることもできる。
そんなことを考えなくても、例えば `A IMPLIES B` を `NOT A OR B` などと定めることをしなくても、個々のゲートを訓練すれば、
常識的な方法で常識的なものが出来るだろう。
もしかしたら、僅かな確率で `A AND NOT A` が成り立ったり、三段論法が成り立たないことがあったり、人間的で面白く見えるものが出来上がるかもしれない。

でも所詮疑似科学だ。

個人的には最近はトポスに傾倒している。
細かいことを省けば、トポスというのは subobject classifier というものが備わっているもののことで、その機能があればイコールとか AND とかが作れる。
subobject classifier というのが何か。これまた不正確で雑な説明をすると、部分集合判定器である。
すなわち $A \subseteq B$ という部分集合があったときに

$$\begin{align*}
cl(b) = \begin{cases}
\mathrm{true} &amp; \text{ if } b \in A \\
\mathrm{false}
\end{cases}
\end{align*}$$

という関数 cl が作れる。
トポスというのは任意の部分集合についてこのような関数が構成出来ることを言う。

すると例えば、集合 $A$ の上のイコールは
$$\{ (a, b) \mid a,b \in A, a=b \} \subset A \times A$$
の subobject classifier だし、AND は
$$\{ (\mathrm{true}, \mathrm{true}) \} \subset \Omega \times \Omega$$
である。
ただしここで $\Omega = \{ \mathrm{true}, \mathrm{false} \}$。

これが大してすごそうに思えないのは、部分集合というのが単純だからだ。単純というのは、属しているか、属していないかの二値だから。
これは cl の値域が true, false の二値であることに対応している。
ていうか集合論だと関係とか関数というのは結局 $A \times A$ の部分集合で定義できるから、それはそうなんだよな。
上は「部分集合を定義すると、関係とか関数が定義できます」っていうのを丁寧に言っているだけ。

さてトポスは集合に上に成り立っているものではないので、一般に何にでも応用できる。
fuzzy logic とかみたいに曖昧なもの（それは例えば &quot;true である確率&quot; みたいに）をそのままのフレームワークで扱うことが出来る。
その場合の cl は上のように単純ではない。
$\Omega$ も二値ではなくなるし、イコールも AND ももっと興味深いものになるかもしれない。

で、これをニューラルネットで実装するには？ cl の部分を構成出来ればいい？
&lt;/code&gt;&lt;/pre&gt;
    </description>
    <pubDate>Fri, 01 Nov 2019 00:00:00 +0900</pubDate>
    <guid isPermaLink="true">https://cympfh.cc/taglibro/2019/11/01</guid>
  </item>
  <item>
    <title>Fri Oct 25 2019</title>
    <link>https://cympfh.cc/taglibro/2019/10/25</link>
    <description>
      &lt;pre&gt;&lt;code&gt;
## 分類, 生成に求めるもの

学習データやテストデータは十分多くてすでに真の分布を表すものだとしよう.
だとすれば分類の結果の分布は真の分布に近くあってほしい.
でないと真の分類をしているという感じがしない.

例えば, 正例と負例とが 9:1 な偏ったデータだとする.
偏ったデータをうまく学習するテクニックは色々あるがそれはおいておいて。
テストデータでもやはり 9:1 だけ混じっているのだから,
それを分類してみた結果はやはり 9:1 あることが望ましい.
もちろん accuracy だけを見ると下手に 9:1 であるように矯正すると下がり得るけど,
こちらのほうが真の分類をしてる感じがある.

生成についても同様.
MNIST はだいたい &quot;0&quot; から &quot;9&quot; までが同じ枚数だけがデータにあるようになっている.
だから 1:1:...:1 が真の分布だと言える.
素のGAN で問題になるのはいわゆる mode collapse ですなわち, 生成しやすい一文字
（私の経験上それはだいたい &quot;8&quot; であることが多い）
だけを生成するようになってしまう問題がある.
分類のときと同様にやはり 1:1:...:1 で生成されるのが真の生成という感じがする.

GAN のバリエーションを担保させるテクニックはいくらでもあって,
バッチの単位で計算をするのだから, そのバッチの中のエントロピーやなんかを大きくさせるようなロスを追加するとか, Discriminator にエントロピーを渡してしまう（mode collapse に陥ったときのエントロピーは特徴的だから, 生成データであることが見抜きやすくなる）というのも聞いたことがある.

私も一つ思いついた.
Discriminator とは別に（あるいは併用してもいいかもしれないが）Label Classifier を後ろにくっつける.
Label Classifier は生成されたデータのラベルを推定し,
それは $p = (p_i)_{i=1,2,\ldots,10}$ という10次元実ベクトルの形をしている.
これをバッチの中で各生成データについて推定すれば,
バッチのサイズを $B$ とすれば $B$ 個の実ベクトル
$$p^1, p^2, \ldots, p^B$$
が手に入る.
これの平均を取る.
$$\frac{1}{B} \sum_i p^i$$
先程言った真の分布に近いならこのベクトルは
$$(0.1, 0.1, \ldots, 0.1)$$
であるはずだ.
というわけでこのベクトルどうしの KL 距離をロスに加える.
生成をしてから分類して結果の平均を取るまでの操作は全て微分可能.
&lt;/code&gt;&lt;/pre&gt;
    </description>
    <pubDate>Fri, 25 Oct 2019 00:00:00 +0900</pubDate>
    <guid isPermaLink="true">https://cympfh.cc/taglibro/2019/10/25</guid>
  </item>
  <item>
    <title>Thu Oct 17 2019</title>
    <link>https://cympfh.cc/taglibro/2019/10/17</link>
    <description>
      &lt;pre&gt;&lt;code&gt;
## 日記

ちょっとした用事のために、家にいないといけなかったので、リモートワークをした。
仕事は手につかなかった。
要件はものの15分で終わった。

洗面所の排水溝を掃除した。
いつも、どうせならお風呂に入る前に掃除したらいいのに、お風呂に入ってる間に掃除したくなる欲求が湧いてくるものだから、順序が逆になってしまう。
この家に引っ越してから洗面所を掃除するのは二度目だから、よっぽど掃除を避けている箇所である。
最も汚れている排水溝なのだ。
おそらく、歯磨き粉を流し、手洗い石鹸を流すからだろうと思う。それらが固まって、ヘドロになってしまっている。見るに堪えがたい。
歯磨き粉を使わずに歯を磨いても良いのであれば、使うのを辞めるのだが。
&lt;/code&gt;&lt;/pre&gt;
    </description>
    <pubDate>Thu, 17 Oct 2019 00:00:00 +0900</pubDate>
    <guid isPermaLink="true">https://cympfh.cc/taglibro/2019/10/17</guid>
  </item>
  <item>
    <title>Sat Sep 28 2019</title>
    <link>https://cympfh.cc/taglibro/2019/09/28</link>
    <description>
      &lt;pre&gt;&lt;code&gt;
## 実力主義で給与が決まるは嘘

十分に会社にお金があって厳格に実力とやらを審査することが出来るのならともかく、そうでないなら嘘だ。
特に、じゃあ全員の実力水準が上がったら全員に出せるだけの給与を出すのか？ という問題を考える。実のところ会社の予算として人件費には上限があるから、これは嘘だ。
会社が儲かっていない場合には今の人件費の総額を来期に増やしたくないかもしれない。
そのようなときでも、実力主義で給与が決まるシステムをうちは導入しているという嘘をついていた場合、実際には実力は上がっているだろうに給与が上がらない、という人が発生する。
そして先についた嘘を守るために「お前の実力は上がっていない」という嘘を重ねる必要が生じる。そのためにも厳密ではなく不透明な評価審査を行う必要が会社にはある。

## 日記

関係ないけど、周りにつられて始めたプロコンなのに、みんな就職をし、プロコンからは引退してしまった。
私一人、他に楽しいことを見つけられないでいる。

![](https://i.imgur.com/YWRG7Yj.png)

```bash
#!/bin/bash

ATCODER_USER=cympfh
curl -s https://atcoder.jp/users/${ATCODER_USER}/history |
    grep -B 2 &#39;\[RATED\]&#39; | grep &#39;&lt;td&#39; | grep -v &#39;RATED&#39; | sed &#39;s/&lt;[^&gt;]*&gt;//g&#39; | grep -o &#39;[0-9][0-9]*&#39; |
    awk &#39;NR%2==1{last=$1} NR%2==0{print(last,$1)}&#39; &gt; /tmp/rate.dat

gnuplot &lt;&lt;EOM
set terminal pngcairo
set output &#39;/tmp/rate.png&#39;

set style line 1 lw 2 pt 6 lc rgb &quot;#00aaaa&quot;
set style line 1 lw 2 pt 6 lc rgb &quot;#00aaaa&quot;

set style line 11 lc rgb &#39;#808080&#39; lt 1 lw 3
set border 0 back ls 11
set tics out nomirror

set style line 12 lc rgb &#39;#808080&#39; lt 0 lw 1
set grid back ls 12

set key bottom

plot \
2000 title &#39;YELLOW&#39; lc rgb &#39;#ffff00&#39;, \
1600 title &#39;BLUE&#39; lc rgb &#39;#0000ff&#39;, \
&#39;/tmp/rate.dat&#39; u 0:1 title &#39;performance&#39; ls 1 w lp, \
&#39;&#39; u 0:2 title &#39;rating&#39; ls 2 w lp
EOM
```
&lt;/code&gt;&lt;/pre&gt;
    </description>
    <pubDate>Sat, 28 Sep 2019 00:00:00 +0900</pubDate>
    <guid isPermaLink="true">https://cympfh.cc/taglibro/2019/09/28</guid>
  </item>
  <item>
    <title>Fri Sep 13 2019</title>
    <link>https://cympfh.cc/taglibro/2019/09/13</link>
    <description>
      &lt;pre&gt;&lt;code&gt;
## [WIP] fastcnn を作っている

[fasttext](https://fasttext.cc/) は本当に好きなツールで, 中身は word2vec (SGNS) の高速化+subword に他ならない.
中身への信用度もあるけど, テキスト分類ツールとして必要な操作が全てコマンドで提供されいているのもいい.
だからとりあえずテキスト分類したいものが手元にあって, 労力を掛けずにどの程度分類出来るのかを試すのによく使う.

ただしそれが日本語の場合はままならない.
subword があるにしても, 基本的にはトークナイズがなされていることが前提にある.
従って MeCab なりなんなりで, ある程度はトークナイズをしてから fasttext に投げるのが理想的だ.
しかしそんな労力すら惜しい.

1. なんでもいいからルールベースのニホンゴトークナイザーを作る
    - 句読点、約物、漢字とひらがなとカタカナの境界で区切る
1. 文字 CNN

1 は簡単だからその内やるとして,
今は fasttext の文字CNN 版を作っている.

[fastcnn](https://github.com/cympfh/fastcnn)

中身は Keras だし, 別に fast ではない.
いい加減 Python を脱却したいので, いい自動微分ライブラリがあれば Rust なりで書き直したい.
GPU を要求するのもいい加減ダサいし.

### BBC News

データフォーマットは fasttext と全く同様.
具体的には次のようなもの.

```bash
URL=https://storage.googleapis.com/dataset-uploader/bbc/bbc-text.csv
curl $URL | tail -n +2 | sed &#39;s/^\([^,]*\),/__label__\1\t/&#39; &gt; data.all
cat data.all | awk &#39;NR % 4 != 0&#39; &gt; data.train
cat data.all | awk &#39;NR % 4 == 0&#39; &gt; data.valid
```

ちなみにこのデータセットはニュース記事に5種類のラベルが貼られている.

走らせる.
実際には Keras のいろんなログや警告メッセージが大量に流れるけど省略.

```bash
   fastcnn supervised data.train --verbose --validate data.valid --stat --maxlen 100 --kernel-size 5 --dim 300 --epochs 300 --stop-window 90 --lr 0.2 --clip-norm 2.0

  ___________________________________________
 /                                           \
| Task: classify_single, #labels=5, #chars=57 |
| - Training with 1669 samples                |
| - Validation with 556 samples               |
 \                                           /
  ===========================================
                                                \
                                                 \
                                                   ^__^
                                                   (oo)\_______
                                                   (__)\       )\/\
                                                       ||----w |
                                                       ||     ||


  ______________________________
 /                              \
| Training data stat:            |
| Labels:                        |
| - __label__tech : 300          |
| - __label__business : 373      |
| - __label__sport : 390         |
| - __label__entertainment : 292 |
| - __label__politics : 314      |
| Sentence Length:               |
| - max : 25483                  |
| - min : 727                    |
| - avg : 2271.0107849011383     |
 \                              /
  ==============================
                                   \
                                    \
                                      ^__^
                                      (oo)\_______
                                      (__)\       )\/\
                                          ||----w |
                                          ||     ||


  _____________________________
 /                             \
| Validation data stat:         |
| Labels:                       |
| - __label__sport : 121        |
| - __label__business : 137     |
| - __label__tech : 101         |
| - __label__politics : 103     |
| - __label__entertainment : 94 |
| Sentence Length:              |
| - max : 19136                 |
| - min : 501                   |
| - avg : 2238.6978417266187    |
 \                             /
  =============================
                                  \
                                   \
                                     ^__^
                                     (oo)\_______
                                     (__)\       )\/\
                                         ||----w |
                                         ||     ||

Model: &quot;classify_single&quot;
_________________________________________________________________
Layer (type)                 Output Shape              Param #
=================================================================
embedding_1 (Embedding)      (None, 100, 300)          18300
_________________________________________________________________
conv1d_1 (Conv1D)            (None, 96, 600)           900600
_________________________________________________________________
max_pooling1d_1 (MaxPooling1 (None, 48, 600)           0
_________________________________________________________________
conv1d_2 (Conv1D)            (None, 47, 600)           720600
_________________________________________________________________
max_pooling1d_2 (MaxPooling1 (None, 1, 600)            0
_________________________________________________________________
flatten_1 (Flatten)          (None, 600)               0
_________________________________________________________________
gaussian_noise_1 (GaussianNo (None, 600)               0
_________________________________________________________________
dropout_1 (Dropout)          (None, 600)               0
_________________________________________________________________
dense_1 (Dense)              (None, 300)               180300
_________________________________________________________________
dense_2 (Dense)              (None, 5)                 1505
=================================================================
Total params: 1,821,305
Trainable params: 1,821,305
Non-trainable params: 0
_________________________________________________________________
Epoch 1/300
 - 4s - loss: 1.6090 - acc: 0.2205 - val_loss: 1.6088 - val_acc: 0.2176
Epoch 2/300
 - 2s - loss: 1.5968 - acc: 0.2536 - val_loss: 1.5963 - val_acc: 0.2464
Epoch 3/300
 - 2s - loss: 1.5914 - acc: 0.2634 - val_loss: 1.5900 - val_acc: 0.3040

 :

Epoch 41/300
 - 2s - loss: 0.0249 - acc: 0.9982 - val_loss: 0.5630 - val_acc: 0.8183
Epoch 42/300
 - 2s - loss: 0.0212 - acc: 0.9994 - val_loss: 0.5485 - val_acc: 0.8129
Epoch 43/300
 - 2s - loss: 0.0153 - acc: 1.0000 - val_loss: 0.5409 - val_acc: 0.8255

```

ちなみにこのデータセットはそんなに難しくないらしくて,
この人は学習済み GloVe 300 次元を使って 90% を簡単に達成してる.
https://github.com/cemsaz/bbc-news-classifier


しかし, 単語ベクトルの学習がそうであるように教師なし学習は偉い.
教師ありで 300 次元なんてやっても, 簡単に訓練データに過学習するだけだ.
教師なしは過学習とかが無いから偉い.
&lt;/code&gt;&lt;/pre&gt;
    </description>
    <pubDate>Fri, 13 Sep 2019 00:00:00 +0900</pubDate>
    <guid isPermaLink="true">https://cympfh.cc/taglibro/2019/09/13</guid>
  </item>
  <item>
    <title>Wed Sep 11 2019</title>
    <link>https://cympfh.cc/taglibro/2019/09/11</link>
    <description>
      &lt;pre&gt;&lt;code&gt;
## 具体的な型の等価の排中律 (Coq)

直観論理では排中律は成り立たないし,
特に一般の型について
$$\forall a,b,~ a = b \lor a \ne b$$
は成立しない.

けど、`a` `b` に具体的な型が与えられていて, それが普通日常で考える常識的なモノであれば, これは普通の成り立つ.

```coq
(*
  Excluded Middle Law (EML) of concrete types
*)

Theorem eml_bool : forall a b : bool, a = b \/ a &lt;&gt; b.
Proof.
  case; case; (by left) + (by right).
Qed.

Theorem eml_nat : forall a b : nat, a = b \/ a &lt;&gt; b.
Proof.
  induction a as [|a&#39; IHa].
  case. by left. by right.
  case. by right.
  intro b&#39;.
  move: (IHa b&#39;).
  case.
  - by left; apply f_equal.
  - by right; injection.
Qed.

Theorem eml_nat_list : forall (a b : list nat), a = b \/ a &lt;&gt; b.
Proof.
  induction a as [|x xs IH].
  case. by left. by right.
  case. by right.
  move =&gt; y ys.
  move: (IH ys); case =&gt; [E|E]; move: (eml_nat x y); case =&gt; [F|F];
      (rewrite E; rewrite F; by left) + (by right; injection).
Qed.
```
&lt;/code&gt;&lt;/pre&gt;
    </description>
    <pubDate>Wed, 11 Sep 2019 00:00:00 +0900</pubDate>
    <guid isPermaLink="true">https://cympfh.cc/taglibro/2019/09/11</guid>
  </item>
  <item>
    <title>Fri Sep 06 2019</title>
    <link>https://cympfh.cc/taglibro/2019/09/06</link>
    <description>
      &lt;pre&gt;&lt;code&gt;
## 僕の後ろにハルヒがいないコンプレックス

例えばね、
あなたが一人暮らしで、今日家に帰らなくても誰に心配されるというわけでもなくて、
それで今日これから特段用事があるわけでもなくて、
さらに明日も別段用事があるわけでもないとして、
そうするとあなたは今日一日完全に自由に振る舞うことが出来るわけだけど、
気づいたら人の家にいて、
家の人は、いたけりゃ勝手にいたいだけいていいよ、と、鍵だけ預けてどこかに出掛けてしまう。
そんなこと言われても落ち着かないので、さっさと自分の家に帰ってしまうわけだ。
要するに小心者ね。
冒険心が全く無いのね。

## オートロックについて

オートロックのマンションに暮らしてから、オートロックに閉め出されるのが怖い。
マンションのエントランスを出る手前で必ず鍵を手に持って、確かにあることを確認しないと怖くて外に出られない。

これはつまり、
外から家の中に入れなくなるという恐怖を恐れているわけだが、
逆も同様にあり得る。

つまり、鍵が見つからない故に外出できなくなるという危機があり得る。
鍵もないのに外に出たら戻れないのだから、外に出るわけにいかず、家に閉じ込められるわけだ。
ただ外に出るだけなら、簡単に今すぐ出来るのに。
戻ることが出来ないから、外に出られないのだ。
それで最近は、朝起きて、鍵が確かに見つかる場所にあることを確認しないと安心して二度寝が出来なくなってきた。
&lt;/code&gt;&lt;/pre&gt;
    </description>
    <pubDate>Fri, 06 Sep 2019 00:00:00 +0900</pubDate>
    <guid isPermaLink="true">https://cympfh.cc/taglibro/2019/09/06</guid>
  </item>
  <item>
    <title>Fri Aug 30 2019</title>
    <link>https://cympfh.cc/taglibro/2019/08/30</link>
    <description>
      &lt;pre&gt;&lt;code&gt;
## 続き

買ったばかりの古本を開くと、そこには栞の代わりに挟まれた二千円札があった。
本に挟まっていたという驚きと、それが二千円札であるという感動。
200円で買った古本に挟まっていたから本の価値を無視しても1800円の得だな、なんていう下心が働いたのも仕方がない。
さて、拾ったものを猫ババするのは拾得物横領である。
しかしこれは拾ったものではなく先程きちんとレジを通して精算したものであるから、所有権は確かに私にある、と言っていいのだろうか。
しかし何の因果でこの二千円札は誰にも気附かれずに私の手元に舞い込んだのだろう。
台風で止まった電車の中で私は、思わず神秘主義者にならざるを得なかった。
電車は二時間後ようやくゆっくり動き出した。

（これは創作小説です）

## カメラを買った

FujiFilm の x100f というカメラを買った。
全くの初心者には持て余す高機能であるが、これで向こう10年は戦えるからいい買い物だ。きっとね。
カメラが私を連れ出す、とはどこかで聞いたフレーズだ。
私が普段好きで散歩する場所を今ひたすら虱潰しに訪れて写真に収めている。
季節が変わればまた撮りに行くだろう。

一発で良い写真が撮れない。
取った写真を確認し、調整をし、また次を撮り、とやってると、納得の出来る一枚を撮るために、同じ場所に平気で五分も突っ立って何枚も試行錯誤をする必要がある。
だから動くものを撮れない。
オートプログラムモードを使えばとりあえず綺麗な写真は一発で撮れるのは分かっているけど、それは口惜しいじゃないか。
&lt;/code&gt;&lt;/pre&gt;
    </description>
    <pubDate>Fri, 30 Aug 2019 00:00:00 +0900</pubDate>
    <guid isPermaLink="true">https://cympfh.cc/taglibro/2019/08/30</guid>
  </item>
  <item>
    <title>Tue Aug 27 2019</title>
    <link>https://cympfh.cc/taglibro/2019/08/27</link>
    <description>
      &lt;pre&gt;&lt;code&gt;
## 火曜日

私はあなたたちのことが嫌いです.

その理由の一つを、今日さっき、久々に湯船にお湯を張ってのんびりに浸かってたら思いついたので書いておきます.

あなたたちは途中経過を報告しないくせに結末だけを突然報告してきます.
それだったら途中経過も報告すべきだし、だったら結末だって報告しないべきです.

1. 突然の転職の知らせ
1. 突然の結婚の知らせ
1. 突然の出生の知らせ

ある意味 2 は 3 の途中報告と言えなくもないが.

とにかく, 途中経過を省いて結果だけ述べるのは, 不誠実だと思う.
よく結論を先に述べよだとか言うが, それはそのあと途中の説明が続くから良いのであって, 結論をただ述べて終わったのでは誰も相手にしないであろう.

## 続き

さてそもそも私は古本屋巡りに来たのであった.
初めて来る街であっても、数十年ぶりに来る街であっても、毎日来てる街であっても、古本屋巡りをせずにいられない私である.
台風がなんだという顔でその本屋は開いていた.

それはそうで、その二階に店主は住んでると思われるので、酷くなったらシャッターだけ降ろして自分は上に上がればよいのだから、気楽なものである.
客である私はそうも言っていられない.
店内のテレビニュースが言うには新幹線が続々運休を決めたようだ.
まさか普通線までは運休しないだろうが、無事帰れるのか心配にもなってきた.
気が気でない私は立ち読みも疎かに、精神病理の本を適当に選んで贖った.

帰路の車中で本を開いた.
前の持ち主が最後に開いたページが判明した.
栞が挟まっており、本を自然に両手に乗せるとそこでページが開いたのである.
&lt;/code&gt;&lt;/pre&gt;
    </description>
    <pubDate>Tue, 27 Aug 2019 00:00:00 +0900</pubDate>
    <guid isPermaLink="true">https://cympfh.cc/taglibro/2019/08/27</guid>
  </item>
  <item>
    <title>Sun Aug 18 2019</title>
    <link>https://cympfh.cc/taglibro/2019/08/18</link>
    <description>
      &lt;pre&gt;&lt;code&gt;
久々に来るとあまりにも様変わりをした大阪駅を、あちらこちら探検していると、強かった風の勢いが更に一つ大きくなり、一緒に雨も混ざってパラついてきた。
15時になると駅に入っていたデパートが閉店をし、私も追い出されてしまった。
とはいえ傘も差さなくても平気な程度だったので大げさに思われた。
もっとも傘など持ってすらいないのだが。
周りの雰囲気は完全に私にさっさと帰宅することを強く勧めていたが、初めの目的を達してないのでまだ帰るわけにはいかなかった。
&lt;/code&gt;&lt;/pre&gt;
    </description>
    <pubDate>Sun, 18 Aug 2019 00:00:00 +0900</pubDate>
    <guid isPermaLink="true">https://cympfh.cc/taglibro/2019/08/18</guid>
  </item>
  <item>
    <title>Mon Jul 22 2019</title>
    <link>https://cympfh.cc/taglibro/2019/07/22</link>
    <description>
      &lt;pre&gt;&lt;code&gt;
## 2019年7月21日 - 参議院選挙 - 投票率

投票率はその地区の民度.
23区の投票率を調べる.

男女別に出してるところもあるけど合計を使う.
より細かい投票地区ごとの投票率を出すとこもあるけど合計を使う.
選挙区選出と比例で別々に投票率を出してるとこもあるけど多い方を使う.

### 参考

- [投票率はその町の民度だと思う](../04/22.html)
    - 前回の区議選挙の投票率です

### 結果

上から多い順

| rank | 地区      | 投票率 (%)   | 参考 URL                                                                                                                     |
|-----:| :-------: | -----------: | :----------------------------------------------------------------------                                                      |
|    1 | 文京区    | 58.96        | https://www.city.bunkyo.lg.jp/kusejoho/senkyo/r01sangi/1sangi.html#touhyou                                                   |
|    2 | 豊島区    | 56.36        | https://www.city.toshima.lg.jp/361/kuse/senkyo/kako/sangin/1907181332.html                                                   |
|    3 | 千代田区  | 55.60        | https://www.city.chiyoda.lg.jp/koho/kurashi/senkyo/sangiin/tohyo.html                                                        |
|    4 | 北区      | 55.45        | https://www.city.kita.tokyo.jp/senkan/kuse/senkyo/kekka/kekka/190721_sangi-tohyo.html                                        |
|    5 | 世田谷区  | 53.41        | https://www.city.setagaya.lg.jp/mokuji/kusei/007/001/d00127429_d/fil/tosenkakutei.pdf                                        |
|    6 | 江戸川区  | 52.95        | https://www.city.edogawa.tokyo.jp/documents/15151/h_2000.pdf                                                                 |
|    7 | 台東区    | 52.77        | http://www.city.taito.lg.jp/index/kusei/senkyo/010721/31tohyo.html                                                           |
|    8 | 杉並区    | 52.63        | https://www.city.suginami.tokyo.jp/senkyo/r01sangi/1049270/index.html                                                        |
|    9 | 港区      | 52.59        | https://www.city.minato.tokyo.jp/senkan/1907-sanintouhyou.html                                                               |
|   10 | 江東区    | 52.43        | https://www.city.koto.lg.jp/610102/sangiin2019/tohyo.html                                                                    |
|   11 | 目黒区    | 52.34        | http://www.city.meguro.tokyo.jp/gyosei/senkyo/sangiin/tohyosokuho.html                                                       |
|   12 | 練馬区    | 51.64        | https://www.city.nerima.tokyo.jp/kusei/senkyo/kekka/r010721/r1sangitohyo.html                                                |
|   13 | 葛飾区    | 51.21        | http://www.city.katsushika.lg.jp/information/1000080/1020036/1011541/1021239.html                                            |
|   14 | 品川区    | 51.07        | https://www.city.shinagawa.tokyo.jp/PC/kuseizyoho/kuseizyoho-sensei/kuseizyoho-senkyo/reiwagannen-sanngiin/hpg000028786.html |
|   15 | 中央区    | 51.03        | https://www.city.chuo.lg.jp/kurasi/senkyo/sokuho/2019sangiinginsenkyo/sangiintouhyousokuhou.html                             |
|   16 | 荒川区    | 50.88        | https://www.city.arakawa.tokyo.jp/kurashi/senkan/topicks/sokuhou/index.html                                                  |
|   17 | 中野区    | 50.77        | https://www.city.tokyo-nakano.lg.jp/dept/711000/d027342.html                                                                 |
|   18 | 墨田区    | 50.52        | https://www.city.sumida.lg.jp/senkyo_sokuho/tohyo.html                                                                       |
|   19 | 大田区    | 50.50        | https://www.city.ota.tokyo.jp/touhyou/t_r1sangi_hirei2000.html                                                               |
|   20 | 板橋区    | 50.50        | http://www.city.itabashi.tokyo.jp/c_oshirase/098/098453.html                                                                 |
|   21 | 新宿区    | 50.25        | http://www.city.shinjuku.lg.jp/senkyo/20ji_hirei.html                                                                        |
|   22 | 渋谷区    | 50.08        | https://www.city.shibuya.tokyo.jp/kusei/senkyo/20190721_tou.html                                                             |
|   23 | 足立区    | 46.35        | https://www.city.adachi.tokyo.jp/juyo/190721senkyoall/190721tohyohireitokyosaisyu.html                                       |

行政のwebページはいちいち小さくHTMLページを切ってリンクに次ぐリンクの嵐でどこに何があるか分からないし、このリンクは半年後おそらく見られないものばかりだし、全くゴミだ.

## 開票作業の参観に行った

その前に、前回の反省を活かして、双眼鏡を買ってから臨んだ.
ヨドバシカメラの中のラインナップの中では一番安い3000円のを買った.
結論を言うと、六倍ではまだ物足りない.
もちろん無いよりはずっと良い.

![](https://i.imgur.com/eD3SgQl.jpg)

![](https://i.imgur.com/FrZQRni.jpg)

![](https://i.imgur.com/cXYfQa3.jpg)

![](https://i.imgur.com/yoihQmY.jpg)

今回は前回と違って撮影禁止と言われなかったのでバシバシ写真撮りました.
&lt;/code&gt;&lt;/pre&gt;
    </description>
    <pubDate>Mon, 22 Jul 2019 00:00:00 +0900</pubDate>
    <guid isPermaLink="true">https://cympfh.cc/taglibro/2019/07/22</guid>
  </item>
  <item>
    <title>Fri Jul 19 2019</title>
    <link>https://cympfh.cc/taglibro/2019/07/19</link>
    <description>
      &lt;pre&gt;&lt;code&gt;
## 窓の外は金曜日

昨日とあるコーディングテストを受けたので記録.
一応問題名みたいなのもあったけど忘れたので仮で.
あとPythonで書いたけど途中で言語を変えたければ変えても良いと言われた.
実際にプログラムは動かさないし存在しないメソッドも時々用いたのでハナから動かないただの擬似コード.
なので Python で良かったと思う.

### A

オブジェクトが $N$ 個あり, これを一列に並べたい.
ただしいくつかの制約が予め与えられるのでこれに合致するように並べる必要がある.
制約は「$i$ 番目のオブジェクトは $j$ 番目より左 (または右) にある」というもの.

まず, そもそもオブジェクトの表現方法から自分で決める必要があったが, 普通に自然数 (int) にすると言った.
制約についてだが, 左右対称なので, 右という制約は左に書き換えられ, すべて「$i$ は $j$ の左にある」という形式をしてると思ってればいい.
で, 解法として $i$ から $j$ にエッジを張ってトポロジカルソートをすれば出来るだろうと言うと, いいんじゃない？ と合意が取れたのでコーディングを始めた.
トポロジカルソートの実装は詰まった.
覚えてたのはDFSして帰りがけ順にノード番号をメモすればなんか答えっぽいものが得られるということだけ.
それだと明らかに逆順が得られるので最後にリバースすれば答えかなと思った.
口頭でそんな感じのことだけ言ったらこの問題は何故かACした（システムの都合上, 個別のジャッジ結果はわからないので雰囲気で察しただけだけど, たぶんACということだと思う）.

トポロジカルソートは実際には, 前処理としてエッジの向きを逆にしたグラフを作ってから, それの上で DFS する必要があったが,
今の場合は左右対称なので, 口頭で言った方法であってた.

### B

忘れた.
簡単ななにか.

### C

文字列が与えられる.
隣り合う二文字であって大文字と小文字のペアになってるものを消す操作を繰り返し適用する.
例えば `axXb` は `ab` になるし, 操作は可能な限り繰り返すので `axXA` という文字列は空文字列 ` ` になる.
この処理を書けという問題.

実際に繰り返しの処理をシミュレーションすればもちろん出来るが, それは簡単すぎるからワンパス (要は $O(n)$) で書けという指示が最初にあった.

そこまでに読んだ文字列をスタックで管理して, 次の読む文字がスタックの頭の文字とペアになってたら消すということをすれば,
頭から一巡で舐めるだけなので, 時間は $O(n)$. 空間も元の文字列を除いても $O(n)$ 必要になるが.

```python
def solve(s):
  stack = []
  for c in s:
    if match(stack.top(), c):
      stack.pop()
    else:
      stack.push(c)
  return &#39;&#39;.join(stack)
```

次に, `stack` という変数を消してみろと言われた.
要は空間量を削った方法を要求してる？
スタックに入ってる文字は大抵は連続のスパンになってるので, 添字だけ持ってればいい？ みたいなことを言った.
正解がわからん.

### D

忘れた.
簡単ななにか.

### E

文字列とパターンが与えられるのでそのマッチ関数 (完全マッチ) を書けという問題.
パターンは普通の英字に加えて `*` という文字がたかだか一度だけ出現する.
これは正規表現でいう `.*` として機能する.

初め私は `*` がたかだか一度だという制約を見落としていて, 編集距離みたいなDPをしようとしていた.
すなわち,

```python
def solve(s, pattern):
    Run DP:
        dp[i][j] = (s[0..i], pattern[0..j]) でマッチする最大文字数
    return dp[len(s)-1][len(pattern)-1] == len(s)
```

という方針でやってた.
とっさに DP の中身の処理が書けなくて詰まってたら `*` が一度だけという制約をそこで教えられ書き直した.

```python
def solve(s, pattern):
  if &#39;*&#39; in pattern:
    p1, p2 = pattern.split(&#39;*&#39;)
    return s.beginwith(p1) and s.endwith(p2) and len(s) &lt;= len(pattern)
  else:
    return s == pattern
```

### 感想

一応は用意されてた問題を全部解けたのでいいでしょ. きっと.
普段のプロコンでは次の２つのズルが出来る.

1. コピペ/スニペット
    - 予め書いておいたコードの断片をコピペ出来る
    - トポロジカルソートなんて人生で一度実装すれば未来永劫それを使い回せると思ってたからね
1. 点数から難易度を推測
    - AtCoder でよくやるやつ
    - 300点以下ならDPなんて出てくるわけないやろ, って分かる
&lt;/code&gt;&lt;/pre&gt;
    </description>
    <pubDate>Fri, 19 Jul 2019 00:00:00 +0900</pubDate>
    <guid isPermaLink="true">https://cympfh.cc/taglibro/2019/07/19</guid>
  </item>
  <item>
    <title>Sat Jul 13 2019</title>
    <link>https://cympfh.cc/taglibro/2019/07/13</link>
    <description>
      &lt;pre&gt;&lt;code&gt;
&lt;iframe width=&quot;560&quot; height=&quot;315&quot; src=&quot;https://www.youtube.com/embed/MJwCg8lXPOM&quot; frameborder=&quot;0&quot; allow=&quot;accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture&quot; allowfullscreen&gt;&lt;/iframe&gt;

友人が言っていたのを無断で借りているフレーズだが、
平日は休日が来るのを待ち、休日は平日が来るのを待っている。

それと、梅雨が明けるのを待っている。
&lt;/code&gt;&lt;/pre&gt;
    </description>
    <pubDate>Sat, 13 Jul 2019 00:00:00 +0900</pubDate>
    <guid isPermaLink="true">https://cympfh.cc/taglibro/2019/07/13</guid>
  </item>
  <item>
    <title>Thu Jul 04 2019</title>
    <link>https://cympfh.cc/taglibro/2019/07/04</link>
    <description>
      &lt;pre&gt;&lt;code&gt;
## Haskell で BFS

Haskell にあるリスト (linked-list, cons-list) は実質そのままスタックとして用いることができる.
そして深さ優先探索 (DFS) はスタックに次訪れる状態を入れることで書けるのでとても相性がよく、Haskell で DFS は簡単である.
この双対となるのが幅優先探索 (BFS) であり、これはキューに次訪れる状態を入れて持てば簡単に書ける.
Haskell で BFS する方法として以前には余再帰を書いた
[taglibro/2014/06/16](http://cympfh.cc/taglibro/2014/06/16.html)
のが、もう余再帰がなんだかわからんし、このコードも読めないので二度と書ける自信がない.

そういえばキューというのはスタック２つで表現できる.
その実現方法は簡単で適当にググれば出てくる
(例: [スタック２つでキューを作る](https://qiita.com/Yuki-Inoue/items/e85175e5fe4634befe66) ).

これ使えば難しい概念を使わなくても BFS も簡単に書けることに気づいた.

```haskell
data Tree = Leaf | Node Int Tree Tree deriving Show

-- ダミーデータとして完全2分木を使う
nibun :: Int -&gt; Tree
nibun n = nibun_sub n 0
    where
      nibun_sub 0 i = Leaf
      nibun_sub n i = Node i (nibun_sub (n - 1) (2 * i + 1)) (nibun_sub (n - 1) (2 * i + 2))


-- まずはスタック一つで深さ優先探索
-- 訪れたノードを返すことにする
dfs :: Tree -&gt; [Int]
dfs tr = dfs_sub tr [] []
  where
    dfs_sub Leaf [] order = reverse order
    dfs_sub Leaf (x:xs) order = dfs_sub x xs order
    dfs_sub (Node val left right) stack order = dfs_sub left (right:stack) (val:order)


-- 次はスタック2つをもたせる
-- 1つ目が push 用で二つ目が pop 用 （一番最後のリストは訪れた順を保存して最後に返す用）
bfs :: Tree -&gt; [Int]
bfs tr = bfs_sub tr [] [] []
  where
    bfs_sub tr q@(x:xs) [] order = bfs_sub tr [] (reverse q) order  -- queue
    bfs_sub Leaf [] [] order = reverse order
    bfs_sub Leaf queue_left (x:xs) order = bfs_sub x queue_left xs order
    bfs_sub (Node val left right) [] [] order = bfs_sub left [] [right] (val:order)
    bfs_sub (Node val left right) queue_left (x:xs) order = bfs_sub x (left:right:queue_left) xs (val:order)


main :: IO ()
main = do
  print $ tr
  print $ dfs tr
  print $ bfs tr
    where
      tr = nibun 3
```
&lt;/code&gt;&lt;/pre&gt;
    </description>
    <pubDate>Thu, 04 Jul 2019 00:00:00 +0900</pubDate>
    <guid isPermaLink="true">https://cympfh.cc/taglibro/2019/07/04</guid>
  </item>
  <item>
    <title>Mon Jul 01 2019</title>
    <link>https://cympfh.cc/taglibro/2019/07/01</link>
    <description>
      &lt;pre&gt;&lt;code&gt;
## 日記 - 今日見たもの

- 駅の壁に向かってすり抜けデバッグをするお婆さん
- ごちうさの謎解きをする人々

## 日記 - 最近読んだ本

大体5月から最近くらいまで

### 新刊

- 響 (12)
    - アニメ化云々で揉める
    - ここまで巻数を重ねてまだまだ話があって偉い
- ギャルごはん (7)
    - ミスコン云々
    - やりすぎ
- デッドデッドデーモンズ (8)
    - 過去編
    - 話がどんでん進む
- アクタージュ (6)
    - 久々に読んでると飽きる
- この美術部には問題がある (11)
    - ただ可愛い
    - 恋する女の子が可愛い
- その着せ替え人形は恋をする (3)
    - 恋する女の子が可愛い
- やがて君になる (7)
    - うむ
    - 胃に重たい
- なんで生きてるかわからない人 (2)
    - たった2巻で完結！もったいない！
    - 内容が高速に消費されてるのが悲しい
    - もっとただの日常パートを延々書いて、説教臭さを薄めて欲しい
- 木根さんの一人でキネマ (6)
    - 百合ですよ、これは
- 邦画プレゼン女子高生 邦キチ! 映子さん (2)
    - 絵が描けるというのは美徳だ

### 新刊以外

- 数字で遊ぼ (1, 2)
    - 最近読んだ中一番面白かった
    - 大学数学をテーマにしながらキャラクターも立ってて面白い
        - 記憶力の良さだけで大学（明らかに京都大学）に入った主人公が、大学数学に戸惑うというストーリー
        - 要は高校数学との考え方の違いの説明なんだけど、主人公のキャラのおかげで説明臭くない純粋に漫画としての面白さも両立してる。
        - してる？ 数学パートに興味ない人はどう思うのかは知らん
- シネマこんぷれっくす (1,2,3)
    - 映画のうんちくを語る系漫画
        - 最近よく見る系統
        - 「木根さんの一人でキネマ」「邦キチ！映子さん」
    - 同じ系統がここまで増えると飽食、とはならない。まだ全然美味しく食べられる
- 猫背を伸ばして
    - 大昔にどっかで立ち読みしたけど久々に読みたくなったのでKindleで買って読んだ
    - 知ってる内容だったので別に、はい
- この恋はこれ以上綺麗にならない (1)
    - 最初の設定にときめいた
    - けど後半はジャンプだった。実際ジャンプだし
- アガペー
    - ウシジマくんの人
    - ウシジマくんから金融要素を除いて漫画家が若干の独りよがり気味に好き勝手書くとこうなるって感じ

### 百合

- 付き合ってもあげてもいいかな (1,2)
    - タイトルがなんだかナメてて、どうせ中身もナメた百合なんだろうと思ったけどそんなことは無かった
- スクールゾーン (1,2)
    - これは半ギャグ、あるいは日常系
- GIRL FRIENDS (Vol.1-5; 2010, 森永みるく)
    - たまにはベッタベタなのも良かった

### その他

- 筒井康隆
    - 「笑うな」「にぎやかな未来」
    - 2019年になってようやくハマった
- 玉置勉強
    - 「エロい本」「鼻血ブー」「ポルノ畑でつかまえて」
    - 成人向けのエロ漫画？ なんだけど、そういうのを期待したら駄目
    - いや〜〜〜しょうもねぇえ〜〜〜〜けど好き
- 石取りゲームの数学：ゲームと代数の不思議な関係
    - 一冊まるごとニム！
    - 「ニム和」は有名だけど「ニム積」はほとんどの人は知らないのではないか
- 児玉まりあ文学集成
    - あ〜〜〜〜〜〜〜〜〜
    - かっこいいぜ
- 涼宮ハルヒの憂鬱
    - 当時中学生の私は同シリーズのどれか別の巻は読んでたけど、「憂鬱」は初めて
    - 新装版で読んだが、あとがきが筒井康隆！
&lt;/code&gt;&lt;/pre&gt;
    </description>
    <pubDate>Mon, 01 Jul 2019 00:00:00 +0900</pubDate>
    <guid isPermaLink="true">https://cympfh.cc/taglibro/2019/07/01</guid>
  </item>
  <item>
    <title>Tue Jun 25 2019</title>
    <link>https://cympfh.cc/taglibro/2019/06/25</link>
    <description>
      &lt;pre&gt;&lt;code&gt;
```
      6月 2019         
日 月 火 水 木 金 土  
                   1  
 2  3  4  5  6  7  8  
 9 10 11 12 13 14 15  
16 17 18 19 20 21 22  
23 24 25 26 27 28 29  
30                    
```

## 日記 - 06/21-24

ICFPC 2019 に出た.

- コンテストサイト
    - [icfpcontest2019.github.io](https://icfpcontest2019.github.io/)
- negainoido のソースコード
    - [atetubou/negainoido-icfpc2019](https://github.com/atetubou/negainoido-icfpc2019)

### 戦略(?)

参加するチームの人数に制限はないので基本的に多ければ多いほどよい.
次のように分担する.
毎年やって自然にこうなった.

- 1-2 人
    - インフラ担当
    - サブミットサーバなど
- 1-2 人
    - AI/シミュレータ/バリデータ に使えるようなライブラリを書く
- その他
    - AIを書く

コンテストが始まるとまず皆で問題を読み始める.
文章は英語なので、共同で和訳した.
今年は hackmd に書いていった

### 問題概要

詳細はかなり細かいのでざっくり述べると,

二次元のマス目の空間が与えられる.
マス目のうちのいくつかは空白でいくつかは壁で埋まっている.
自分が初め一体、空白のどこかにいて、縦横に移動することができる.
移動をすると自分の体があったマスは色塗られるので、できるだけ少ない移動量（時間）で全てのマス目を塗りたい.
どんな移動を行えばよいだろうか？ という最適化問題.

&lt;center&gt;
&lt;figure&gt;
&lt;img src=&quot;https://i.imgur.com/5UtMHNz.gif&quot; /&gt;
&lt;caption&gt;イメージ図&lt;/caption&gt;
&lt;/figure&gt;
&lt;/center&gt;

ただし、自分の体はちょうどテトリスの T 字の形をしている.
できることは移動以外に回転がある.
また空間にはいくつかアイテムが落ちてあり、拾って使うことでさらに、体を伸ばしたりすることが出来るので上手く使うことが求められる.

また画期的なアイテムとして（これは予想できたが）、クローン `C` がある.
これは名前の通り、自分の分身を作ることが出来るアイテムである.
ただし `C` は `X` というマスの上でしか使用できない.

クローンたちは並列に同時に行動をするので、単純に、2体に分身するだけでも全体の行動量は 1/2 になることが期待でき、かなり強いアイテムであることが分かる.
しかも、クローンたちは同じマスで重なっても良いし、また（去年みたいに）最後に一つに戻らないと行けないみたいなことも無いので、本当にただ分身してそれぞれは互いのことを考えずに好き勝手に移動すれば良いので、かなり使いやすい.

### やったこと

本当はシンプルなAIくらい作るつもりだったのだが、気がついたらエディタ（というよりペイントツール？）を作っていた.
これは要するに手で解くためのツールだ.
1000 手で解けるくらいの問題なら 10 分程度で解ける.

&lt;center&gt;
&lt;figure&gt;
&lt;img src=&quot;https://i.imgur.com/5UtMHNz.gif&quot; /&gt;
&lt;caption&gt;再掲&lt;/caption&gt;
&lt;/figure&gt;
&lt;/center&gt;

初めは 1 手ずつ入力してたが、もちろんすぐに無理になる.
ライブラリ担当の udon さんが filling shortest path (マスを一つ指定したらそれを塗るための最小のコマンド列を幅優先探索する; 結局それにはワーカーの場所と向きが状態になって、場所は高々 $200 \times 200$ くらいで向きは 4 通りなので、実は簡単に探索できる) を実装してくれたので、これをエディタに組み込んだ.
ところで私以外は皆 C++ で書いていたのを私は Rust に翻訳してエディタに取り込むということをしていた.

&lt;center&gt;
&lt;figure&gt;
&lt;img src=&quot;https://i.imgur.com/8yFRMGh.gif&quot; /&gt;
&lt;caption&gt;点をクリックして移動/矩形塗り潰しを行う&lt;/caption&gt;
&lt;/figure&gt;
&lt;/center&gt;

描画ライブラリには ncurses を使った.
そしてこれにはマウスクリックを検知する機構も入っている!!
点を移動して移動、また矩形選択（対角の二点を指定する）でその中全ての塗りつぶしが出来る.

これは要はサブ問題に対するAIである.
完全に手で解くよりは性能は悪いが、それなりに使える.
チームの他メンバーの成績と対決しながらやってたが、手で解いた結果は全てソルバに勝っていた.
もちろん、致命的なネックは一問ずつを10分程度掛けないといけない点なのだが.

クローンは後半の大きな問題にしか無かったので、エディタの守備範囲外だと思っていたのだが、購入の概念が導入され、アイテムを拾わなくてもゲーム内のお金を払えば初めから所有することが出来る. というわけでエディタにもクローンを実装する必要がでた.
問題は、クローンたちはもちろん同時に動くのだが、それをエディタでどうやって操作するかということだった.
初めはターン制を導入したが、すぐにやってられないと分かったので、時間の同期を取らずに、それぞれが勝手に移動することにした.

&lt;center&gt;
&lt;figure&gt;
&lt;img src=&quot;https://i.imgur.com/3tF1U8E.gif&quot; /&gt;
&lt;caption&gt;クローンの操作&lt;/caption&gt;
&lt;/figure&gt;
&lt;/center&gt;

フォーカスがあたっているのが赤色.
タブキーで他のワーカーにフォーカスを切り替えて操作が出来るようになる.

[ソースコードはここ](https://github.com/atetubou/negainoido-icfpc2019/tree/master/cympfh)

何が理由というわけでもないけど、この土日の間に口の中に口内炎が同時に二箇所に出来た.
&lt;/code&gt;&lt;/pre&gt;
    </description>
    <pubDate>Tue, 25 Jun 2019 00:00:00 +0900</pubDate>
    <guid isPermaLink="true">https://cympfh.cc/taglibro/2019/06/25</guid>
  </item>
  <item>
    <title>Wed Jun 19 2019</title>
    <link>https://cympfh.cc/taglibro/2019/06/19</link>
    <description>
      &lt;pre&gt;&lt;code&gt;
```
      6月 2019         
日 月 火 水 木 金 土  
                   1  
 2  3  4  5  6  7  8  
 9 10 11 12 13 14 15  
16 17 18 19 20 21 22  
23 24 25 26 27 28 29  
30                    
```

## 06/08-06/09

会社の同好会で合宿に行った.
わざわざ遠出して一泊してやる意味があるか? などと、つい考えてしまう.
けど、そういえば、使いみちの無い会社から支給される会費の使いみちが無くてのイベントだったから、しょうがないのだった.
交通費とかは負担したけどな.

## 06/15 - diverta 2019 Programming Contest 2

企業コンテストはARC相当であるらしく、私の腕前だと D 問題がギリギリという感じ.
でもこれでレーティングが
`1571 -&gt; 1636`
で水色から青色になれた.

## 06/16 - ABC130

さすがに昨日の企業コンテストよりは簡単であったが、本当にマグレで全て (A-F) 解けた.
最後の F 問題は本当にマグレで、誤った解法ではあったのに偶然通ってしまった.

F 問題は結局、時刻 $t \geq 0$ に関する2つの凸関数 $f(t), g(t)$ があって、これの積の最小値を求めよという問題だと言える.
私は凸同士の積だから凸になると考えた.
いや結構怪しいが、この問題に限ってはなるのかも？と考えた.
競技プログラミングに関しては普通のプログラミングとは違って、メタ的な推論も方法の一つだと思っていて、わたしは「言うてABCなんだし、実は凸でした」というオチを期待したわけである.
凸関数の最小値を求めるには三分探索をすればよい.

- [abc130/submissions/5979567](https://atcoder.jp/contests/abc130/submissions/5979567)

実際には全然凸ではなくて,
$f(x) = |x|, g(x) = |x-1|$
なんかを考えると次のような関数が現れる.

```gnuplot
set xrange [-0.5:1.5]
plot abs(x) * abs(x-1)
```

ところで最近 modint が流行っている.

- [modint 構造体を使ってみませんか？ (C++)](http://noshi91.hatenablog.com/entry/2019/03/31/174006)
- [Pythonでmodintを実装してみた](https://qiita.com/wotsushi/items/c936838df992b706084c)

競技プログラミングにおいて、よくある典型的な形式がある:
あまりにも回答する整数が巨大な場合に、ある数 $M$ （これは大抵素数であることが多い）で割った数を求めさせることがよくある.
そのような場合、あるコンテクストの計算を全て $\mathbb Z / M \mathbb Z$ という体の上で計算すれば良いことになる（$M$ が素数じゃないと割り算が自由じゃないので体ではなくなるけど）.

というのが背景で、要するに、普通の整数のように四則演算があって、その度に勝手に $\bmod$ を適切に取ってくれるような構造体があると便利.
それがないと、いちいち手で

```cpp
a + b + c - d
```

を

```cpp
((((a + b) % M) + c) % M + M - d) % M
```

などと書かないといけない.
どこでオーバーフローするか分からないので毎回 `% M` をする必要があって、括弧がいくらあっても足りないだろう.
特に減算のときは `+ M` をするのがポイントだ.
言語に依る話だけど `-1 % 3` が `-1` なものもある.
そういう場合は `(-1 + 3) % 3` で `2` にするのが大抵の場合、期待する値だから.

私は競技プログラミングで Rust を使う人間なので, Rust で実装した:

- [int.mod.ops](http://cympfh.cc/procon/int.mod.ops.html)

しかしながらまだ ABC130 の E 問題でしか試してない.
この回答では `+=`, `+`, `-` くらいしか動かしてないので、もしかしたらバグがあるかもしれない.
っていうか実際 `-` にバグがあったのを慌てて修正したし.

あと Rust は型安全に忠実すぎて、四則演算の定義だけでこんなに長くなってしまった.
例えば和については

```
ModInt + ModInt
ModInt + int
int + ModInt
ModInt += ModInt
ModInt += int
```

といったものを全て実装しないといけない.
せめて `+=` は `+` から自動的に derive する機能が欲しい（無いですよね？）

## 06/15

Facebook Hacker Cup の予選があった.
予選は一問でも解けさえすれば良いので、やる気があるかどうかのテストである.

&lt;strike&gt;
その中の3つ目の問題

- [Mr.X](https://www.facebook.com/hackercup/problem/589264531559040/)

$x$ に関する論理式が与えられるので一部を書き換えて, 式全体の値が $x$ の値に依らないようにせよ、という問題.
AND, OR, XOR を含む場合、実はそのトップレベルの演算を適切に別の演算に書き換えれば必ず全体の値は不変に出来る、ということに気づく.

例えば `a AND b` を考える.
`x=true,false` に対して `a` `b` それぞれが
`a=true,false`, `b=true,true`
と取る時
`a AND b=true,false`
と取るので値が `x` に依存していていけない.
しかしこのとき `AND` を `OR` に置き換えれば
`a OR b=true,true`
と出来て不変.
このように `a` `b` のバリエーションを全通り書き出して、どれかの演算なら不変に出来ることが分かる.

問題は、書き換えなくても不変かどうかである.
Facebook の後からの解説によると、部分を見ればそれは分かるらしい.
例えば 
&lt;/strike&gt;

問題の解説を書こうと思ったけど、公式の解説なりもっと強い人のを読めばいいのでやめた.
&lt;/code&gt;&lt;/pre&gt;
    </description>
    <pubDate>Wed, 19 Jun 2019 00:00:00 +0900</pubDate>
    <guid isPermaLink="true">https://cympfh.cc/taglibro/2019/06/19</guid>
  </item>
  <item>
    <title>Tue Jun 04 2019</title>
    <link>https://cympfh.cc/taglibro/2019/06/04</link>
    <description>
      &lt;pre&gt;&lt;code&gt;
## NLP に求めること

### 自然言語の構文と意味の解析について

プログラミング言語の解析を考える場合、まず初めに構文の解析を始める.
その際にはまだ意味は分からないので考慮をしない.
意味的にこうだから、などと言って勝手に曖昧性を解消しようとはしない.
(C++ の `&gt;&gt;` 問題が有名だ.)
そしてその後に解析結果に意味を与えていく.

というわけで、明らかに人間が自然言語を解釈する工程が違う.
人間はどちらかと言えば構文は気にしないで言葉を理解するのではないか.
自然言語の場合、構文解析のフェーズと意味付けのフェーズは密着して離せられないのが正しいのではないだろうか.

接続詞は文やフレーズの間の関係を明示するトークンであるが、
必ずしも無くても普通何かしらの関係があり、それは意味から当たり前に推論される.

ぶっちゃけ話の流れから、そろそろ逆接が来るだろう、と予想できた経験は誰しもが持っている. また構文の誤り訂正を誰しもが普通に行って相手の意図を組まないと円滑にコミュニケーションは出来ない. その訂正には意味が必要不可欠だ. 言語が本質的に持つ構文に関する曖昧性のその解消にも意味は大いに役立つ. よっぽど大切な商談の話でもなければ、いちいち確認せず、当たり前だと思えるように訂正して解釈するだろう.

というわけで意味を見ない係り受け解析は嘘である.
出来ることをすべきだ.

フレーズは意味ベクトルを取る.
フレーズ間の関係は、構文と意味から確率的に解析される.

ところで個人的に、語順が変わると意味が変わるようなモデルはおかしいと思う.
語順と言ったって、「東京から渋谷まで」と「渋谷から東京まで」では意味が変わってしかるべきだが、「私がそれをあれする」と「それを私があれする」は同じであるべきだ.
ニュアンスが違うよという指摘もあるかもしれないが、それはまた別の話にしたい.

### 文ハッシュ

近い意味のものは近い値に、全く同じ意味を持つものは全く同じ値に写すハッシュ関数が欲しい.
いやまあ、これって単語分散表現のことなんだけど.
あるいはテキストの正規化のことでもあるんだけど.
&lt;/code&gt;&lt;/pre&gt;
    </description>
    <pubDate>Tue, 04 Jun 2019 00:00:00 +0900</pubDate>
    <guid isPermaLink="true">https://cympfh.cc/taglibro/2019/06/04</guid>
  </item>
  <item>
    <title>Tue Jun 04 2019</title>
    <link>https://cympfh.cc/taglibro/2019/06/03</link>
    <description>
      &lt;pre&gt;&lt;code&gt;
```
      6月 2019
日 月 火 水 木 金 土
                   1
 2  3  4  5  6  7  8
 9 10 11 12 13 14 15
16 17 18 19 20 21 22
23 24 25 26 27 28 29
30
```

## 06/01

ボドゲカフェに行っておよそ6時間ぶっ続けでボドゲを遊んだ.

### Quibbit!

円上をぐるぐるスゴロクをしてって、脱落してくか、トップがビリを追い抜くかしたら終わり.

マスには安全か危険かの2種類があるが、プレイヤーによってどれが安全かは変わる.
サイコロではなく進みたい数字のカードをみんなが一斉に出して処理をする.
相手のコマは飛び越えて数えるので、みんなが出す数字を予想しないと自分の行きたいマスには止まれない.
止まったマスが安全圏なら出した数字カードは再び手札に戻るが、危険圏だと出した数字カードは没収されて二度と使えない.
即ち出せる数字がどんどん狭まっていき、最終的に手札がゼロになった者は脱落する.

一周は案外狭いので、誰かが脱落するよりは、トップがビリを追い抜くことで決着が付く場合が多かった.
序盤の3ターンくらいはとにかく安全マスを踏むことを狙うが、一手目からとにかく悩む.
確実に決められるような場面はなかなか無い.
全ての予想が上手く決まると大変気持ち良いが、寿命が減ることの方が多い.
全員の予想が全て正しければ全員が安全マスに止まり、ほっとするのだが、それではゲームは進まないのでいけない.
誰か一人の予想が大外れすれば、それによって他の誰かの予想もズレてしまう、などあり寿命がいくらあっても足りない.
後半は危険マスに止まるのを覚悟してでも追いぬくことを目指すような場面もあり面白い.
没収のカードは裏向きで真ん中に重ねていくが、誰がどのカードを捨てたかは覚えておく必要がある.

### Domemo

1から7の数字が書かれたパネルを均等に配り（ただし全ては使わず何枚かは裏向きで除外する）、パネルを自分からは見えないで他の全員からは見えるように立てた状態で、自分のパネルを当てるゲーム.
数字ごとに枚数は違っていて、1は1枚、2は2枚、という風になっている.

ブラフなど戦略はあるが、基本的には運ゲーだと思う.
見えてる中で残りを数えて確率の高いものを言う、他の人が言った数字は少し避ける、くらいしかやることがなさそう.
例えば他人の手に見えてる 1 を宣言することで、その人に 1 を言わせない、などの戦略も考えられそう.
二人戦ならそういうのも有効かもしれない.

### Marrakech

盤面のマス目上に自分の色の 1x2 の形をした絨毯を重ねて置いていって自分の陣地を増やしていく.
1つだけあるコマを盤面の上で皆で交互に動かしていき、相手の絨毯を踏んだらその人にお金を払う必要がある.
お金はそのマスから連結した絨毯の面積の分だけ払う.
従って自分の絨毯は出来るだけつなげて拡大していくのが良い.
また自分が置く絨毯はどこにでも良いわけではなく、コマを動かしてそのすぐ隣に動かす必要がある.
出来れば他人の絨毯に重ねて自分の絨毯を置きたいが、そのためには相手の絨毯の近くに行く必要があり、お金を払うリスクを負う.

1ターンにプレイヤーはちょうど面積 2 だけ増えるわけだが、その際に他の人の絨毯を覆うことでプレイヤー間の絨毯面積に差が付く.
というわけで、如何に相手に自分の絨毯を覆わせないかが重要になる.
相手は自分の絨毯を踏みたくはないが、隣には来たくない.
一度十分大きく育てば、サイコロが何の目を出しても踏んでしまう、という状態になり、そうすれば二度と踏まれない.
従って安全である.
いやしかし、一度は踏んでくれないと収入が得られない.
というジレンマがある.

あまり大きく育ち過ぎると当然目立ち、自分以外の皆が結託をして集中攻撃をしてくるので、目立たない、という戦略が重要だと思った.

### The Mind

これは非常に面白かった.

1から100までの数字が書かれたカードがある.
その中から数枚ずつをプレイヤーに配る.
ゲームは全部で8ラウンドあり、第1ラウンドでは手札は1枚、第2ラウンドでは手札は2枚、と1枚ずつ増やしていく.
多い方が難しいので、簡単なものから徐々に慣れてゆけ、という意図である.

各ラウンドですべきことはとてもシンプルで、プレイヤーは一枚ずつカードを場に出してく.
順番などは無い. 各プレイヤーが自分のタイミングで出していけば良い.
出すカードはUNOのように、場の真ん中に重ねていく.
このとき、出す数字は前の数字より大きく無ければならない.

つまり、最初に出されるカードは最も小さく、そこから次に大きなカードを誰かが出し、その次に大きなカードを誰かが出していく.
そうして全員が持ってるカードを全て出し尽くした時、そのラウンドは成功となる.

プレイヤー全員が協力して8ラウンドを達成せよ、というゲームだ.

もちろん制約があり、すなわち、相談はいけない.
発声してはいけない.
アイコンタクト等の音声以外であってもコミュニケーションをしていはいけない.
ラウンドが始まる合図を誰かが「せーの」と言ったらそこからラウンドが終わるまでの間は喋ったりしたらいけない.
もちろん持ってるカードを人に見せたりしてもいけない.

他人の持ってるカードが全くわからない状態で、この中で最小の数字を持ってるのは自分だと思ったら、そのカードを出すのだ.
他に throwing star カードというヒントのためのカードがあるのだが、説明省略.

#### ネタバレ

初回プレイではこのネタバレは読まずに、というかルールブックの最後に書いてあるものなのだが、そこは読まずにプレイして欲しい.
もちろん最初のラウンドの時点で無理だろう.

どうするか.
sleep sort を行う.

すなわち、ラウンドスタートの合図から皆心の中で秒数を数える.
時計を見てしまうのはさすがにゲームが簡単になって興ざめなのでやめよう.
そしてもし自分が50という数字を持ってるなら50秒後に出す.
もしまだ49秒のはずなのに誰かが50を出したら、体内時計の精度の問題なので、あわてて同期する.
これはそういうゲームである.
ラウンド4の時点でもう成功しなくて断念した.
&lt;/code&gt;&lt;/pre&gt;
    </description>
    <pubDate>Mon, 03 Jun 2019 00:00:00 +0900</pubDate>
    <guid isPermaLink="true">https://cympfh.cc/taglibro/2019/06/03</guid>
  </item>
  <item>
    <title>Thu May 16 2019</title>
    <link>https://cympfh.cc/taglibro/2019/05/16</link>
    <description>
      &lt;pre&gt;&lt;code&gt;
## index

&lt;div id=toc-level-2&gt;&lt;/div&gt;

## 普遍性からのテンソル

歴史的にはそもそもテンソルとはテンソル積で得られるベクトル空間の元として定義される.
つまりテンソルの定義にはテンソル積の定義が先立つ.

### 関連

[行列や多重配列のことをテンソルと呼ぶのやめろ](../01/22.html)

### 参考

1. [ベクトル空間のテンソル積とテンソル空間](http://daisy.math.sci.ehime-u.ac.jp/users/tsuchiya/math/fem/exterior/section1.pdf)
    - 愛媛大学の講義資料? (たぶん)

### notation

ベクトル空間 $U,V,W$ について,
$U \to V$ と書いたら $U$ から $V$ への線形写像のこと.
また $U \times V \to W$ と書いたら $U$ と $V$ との直積から $W$ への双線形写像のこととする.

2つの写像 $\alpha, \beta$ について $\alpha \beta$ のように単に並べて,
合成写像 $\alpha \circ \beta$ を表す.
また関数適用も $f(x)$ の代わりに単に並べて $fx$ と書く.

またアインシュタインの縮約記法を採用する.

### 注意

体を $k$ で固定して考える.
また登場するベクトル空間はすべて有限次元とする.

### 普遍性によるテンソル積の定義

ベクトル空間 $V, W$ について次のようなベクトル空間 $U_0$ が必ず存在して, それのことを
$V$ と $W$ のテンソル積 $V \otimes W$ と書く.
$U_0$ に要請する性質は次の通り.

1. $\exists \kappa \colon V \times W \to U_0$
1. $\forall U, \forall \phi \colon V \times W \to U, \exists! \overline{\phi}\colon U_0 \to U$ such that $\phi = \overline{\phi} \kappa$

2つ目が1つ目の $(U_0, \kappa)$ に対する普遍性になっていることが分かる.

#### 補題

先の条件は次の同値な条件に書き直せる

1. $\kappa \colon V \times W \to U_0$ があって $U_0$ は $\kappa(V \times W)$ で生成される空間である
1. $\forall U, \forall \phi \colon V \times W \to U, \exists \overline{\phi}\colon U_0 \to U$ such that $\phi = \overline{\phi} \kappa$
    - $\exists$ の $!$ が取れた
    - それ以外は同じ

同値なことの確認は難しくないので略.

&lt;details&gt;&lt;summary&gt;NOTE&lt;/summary&gt;
特に言っておくと, $U_0$ が $\kappa(V \times W)$ から生成されるとは
$\kappa$ が epi であることを言っている.
すなわち,
$$\alpha \kappa = \beta \kappa \implies \alpha = \beta.$$
ただし普通の写像での全射であるとまでは言ってないので注意.
生成するとは結局, $U_0$ にある基底
$\langle g_1,\ldots,\rangle$
があって, この各 $g_i$ に写す方法がありさえすればよい.
任意の $\gamma^i g_i$ に写せるとまでは言っていない (特に $\kappa$ は双線形写像なので).

念のために生成することと epi であることが同値であることを見る.

$V$ の基底を $\langle e_i \rangle$, $W$ の基底を $\langle f_j \rangle$,
$U_0$ の基底を $\langle g_k \rangle$ とする.

$\kappa(V \times W)$ が $U_0$ を生成することと,
$\alpha \kappa = \beta \kappa$
を仮定するときに $\alpha=\beta$ を示す.

各基底 $g_k$ について, ある $(v_k, w_k) \in V \times W$ があって,
$g_k = \kappa(v_k, w_k)$
である.
$U_0$ の任意の元 $u = \gamma^k g_k$ について,
$$\begin{align*}
\alpha u &amp; = \gamma^k \alpha g_k \\
         &amp; = \gamma^k \alpha \kappa(v_k, w_k) \\
         &amp; = \gamma^k \beta \kappa(v_k, w_k) \\
         &amp; = \beta u
\end{align*}$$
であるので $\alpha = \beta$.

逆は対偶で示す.
生成しないことを仮定すると, ある基底 $g_k$ を生成しないから,
$g_k$ の成分だけ射影する関数 $\alpha$ とそれを2倍する関数 $\beta=2\alpha$ を用意すれば,
$\alpha \kappa = \beta \kappa ~(=0)$
となるがもちろん $\alpha \ne \beta$ である.
&lt;/details&gt;

### テンソル積の存在

テンソル積の定義を述べたが, そのような $U = V \otimes W$ は必ず存在する.
例えば次である (もちろん線形同型を除けば唯一である).

$V$ を $m$ 次元 $\langle e_i \rangle$,
$W$ を $n$ 次元 $\langle f_j \rangle$ とするとき, $U$ は $mn$ 次元であって,
$$U = \langle g_{ij} \mid 1 \leq i \leq n, 1 \leq j \leq m\rangle$$
$$\kappa \colon V \times W \to U$$
$$\kappa(e_i, f_j) = g_{ij}$$
とする.

定義から明らかに $\kappa(V \times W)$ は $U$ を生成し, $\kappa$ は epi である.

普遍性を確認する. つまり適当な $U&#39;$ と $\phi \colon V \times W \to U&#39;$ があるとする.
このときに,
$$\overline{\phi} \colon U \to U&#39;$$
$$\overline{\phi} g_{ij} = \phi(e_i, f_j)$$
で線形写像として定義する (基底の行き先だけを示したのであとはこれの線形結合で定義する).

任意の $(v, w) = (a^i e_i, b^j f_j) \in V \times W$ について,
$$\begin{align*}
\overline{\phi} \kappa (v, w)
&amp; = a^i b^j \overline{\phi} \kappa(e_i, f_j) \\
&amp; = a^i b^j \overline{\phi} g_{ij} \\
&amp; = a^i b^j \phi(e_i, f_j) \\
&amp; = \phi(v, w) \\
\end{align*}$$
したがって, $\overline{\phi} \kappa = \phi$.

$\overline{\phi}$ が唯一であることは $\kappa$ が epi であることから従う.
つまり, 他に $\psi$ があるなら
$\overline{\phi} \kappa = \psi \kappa$ であるので, $\overline{\phi} = \psi$ が導かれる.

というわけで普遍性は確かに満たしており, これがテンソル積であることが確認できた.
特にこの $\kappa$ のことを **標準写像** という.

### テンソル

テンソル積の元のことを **テンソル** と呼ぶ.

$V \otimes W$ 及びその写像 $\kappa \colon V \times W \to V \otimes W$ について,
$\kappa(v, w)$ のことを $v \otimes w$ と書く.
$\kappa$ が全射とは限らないという話から,
任意の $V \otimes W$ のテンソルがこの $v \otimes w$ という形式で書けるわけではない.
(和でなら表現できる.)

テンソル積やテンソルは 2 つ以上でも再帰的に定義でき, また結合則が成り立つ（らしい）ので括弧を付けずに例えば $U \otimes V \otimes W$ だとか $u \otimes v \otimes w$ だとか書ける.

### 定理

体 $k$ の上のベクトル空間 $V$ に対して, 線形写像の集まり
$\{ f \mid f \colon V \to k \}$
のことを $V$ の双対空間といい $V^*$ と書くのであった.

ここでは便宜的に, 直積に対しては双線型写像の集まりということにして
$(V \times W)^*$
という書き方も許してもらうことにする.

次の定理が成り立つ.
$$V \otimes W \simeq (V^* \times W^*)^*$$

#### 証明

$(V^* \times W^*)^*$ もまた $V$ と $W$ のテンソル積であることを示す.
テンソル積どうしは普遍性より同型であるから, それだけ示せばok.

いい感じの
$$\xi \colon V \times W \to (V^* \times W^*)^*$$
によって $((V^* \times W^*)^*, \xi)$ がテンソル積になることを示す.

$(v, w) \in V \times W$ を
$$h \colon V^* \times W^* \to k$$
$$h(f,g) = f(v) g(w)$$
という $h$ に対応付ける写像を $\xi$ だとする.

ところで基底は双対基底にしておく.
すなわち $\langle h_{ij} \mid i, j \rangle$ が基底で,
$$h_{ij}(f_{i&#39;}, g_{j&#39;}) = \begin{cases}
1 &amp; \text{ when } i=i&#39; \text{ and } j=j&#39; \\
0 &amp; \text{ otherwise }
\end{cases}$$
$$f_i(e_{i&#39;}) = \begin{cases}
1 &amp; \text{ when } i=i&#39; \\
0 &amp; \text{ otherwise }
\end{cases}$$
$$g_j(f_{j&#39;}) = \begin{cases}
1 &amp; \text{ when } j=j&#39; \\
0 &amp; \text{ otherwise }
\end{cases}$$
こうすれば $\xi(v_i, w_j) = h_{ij}$.

任意の $\phi \colon V \times W \to U$ に対して,
$$\overline{\phi} h_{ij} = \phi(v_i, w_j)$$
とする（くらいしか自然な写像はない）.

任意の $(v,w) \in V \times W$ について,
$$\begin{align*}
\overline{\phi} \xi (a^i e_i, b^j f_j)
&amp; = a^i b^j \overline{\phi} h_{ij} \\
&amp; = a^i b^j \phi(v_i, w_j) \\
&amp; = \phi (a^i v_i, b^j w_j)
\end{align*}$$
だから可換.

普遍性は略.
気が向いたら計算する.

というわけで, テンソルというとそれに対応する双線型写像があるから, 双線型写像のことをテンソルと同一視してよい.

ベクトル空間 $V_1, \ldots, V_n$ があるときに,
$V_1 \otimes \cdots \otimes V_n$ のテンソルに一対一対応する多重線型写像
$$V_1 \times \cdots V_n \to k$$
がある.

対応は成分ごとに $\kappa$ と $\xi$ で写せばよい??（未確認）

$\require{AMScd}$
$$\begin{CD}
V \otimes W @&lt;\kappa&lt;&lt; V \times W @&gt;\xi&gt;&gt; (V^* \times W^*)^*
\end{CD}$$

### おわり

前回「多次元配列のことをテンソルと呼ぶな」とか「正方行列以外は（二階）テンソルで表現できない」とか書いたけど、この定義だとテンソルは多次元配列だし一般の行列は二階テンソルだ.
例えば $m$ 次元ベクトル空間と $n$ 次元ベクトル空間によって普通の二次元配列だし, $m \times n$ 行列が表現できる.
(多次元配列については適切に積の構造を入れるとして.)

前回定義したテンソルは1種類の $V$ からなるテンソル及びテンソル空間であって, 特別な場合であったらしい.
[wiki/テンソル空間](https://ja.wikipedia.org/wiki/%E3%83%86%E3%83%B3%E3%82%BD%E3%83%AB%E7%A9%BA%E9%96%93)
をよく読むとそんな風に読める.

## 日記 - ラップトップPCのファンについて

[前回](../06.html)、ファンがうるさいのを直したけど完治はしてないみたいなことを書いたけど、時間が経つに連れて全く買ったときのような静かさになった（もともとそんなに静かではないけど）.
というわけで一応解決したということにする.
&lt;/code&gt;&lt;/pre&gt;
    </description>
    <pubDate>Thu, 16 May 2019 00:00:00 +0900</pubDate>
    <guid isPermaLink="true">https://cympfh.cc/taglibro/2019/05/16</guid>
  </item>
  <item>
    <title>Tue May 07 2019</title>
    <link>https://cympfh.cc/taglibro/2019/05/07</link>
    <description>
      &lt;pre&gt;&lt;code&gt;
## 花見

世界が終わってしまうのが許せなかった。

と言ってみたところで何ができるわけでもない。
そういうわけで少しでも心のモヤモヤを晴らしたくて、デモに参加をしてみたりした。
新世界容認派の右翼の罵声を浴びたりしながら。
当たり前だけど、何も変わらなかった。
それどころか、世界がもうすぐ終わるというのに警察は呑気に自分の仕事をしていて、モヤモヤはますます積もった。

せめての抵抗と思って、家に籠もって、世界が終わるのに気づかないフリをしようと、オンラインゲームに興じてその時を迎えた。
ゲームの向こうの人たちはどうしてたのかしら。
やっぱり気づかないフリをしてゲームに夢中になっていたのかしら。

好奇心に負けて、テレビを付けてみた。
テレ東ではニュースがやっていて、淡々と、新しい世界を迎えたことを伝えた。

北海道にまで行けば桜の満開をまだ見られるらしい。
しかしながら北海道までの旅費は捻出できそうにないので、中央線を乗り継ぎ乗り継ぎ、長野で妥協した。
今年の春はまだまだ寒く、理屈は分からないけれど、寒いと桜が散りにくいからまだキレイな桜が見られるんだよ、と同席したお爺さんが気安く教えてくれた。
どうして寒いと散りにくいんですか？ と私が聞くと、お爺さんは、そんな難しいことはわからんね、と機嫌を悪くした。

これがこの世界での最初の思い出。

## fastText の sentence vector は word vector の平均

fastText は word vector の学習が教師アリでもナシでも出来るし, アリだと文書分類までがサブコマンドとしてサポートされているし, そして名前の通り本当にすべてが fast なので便利.
ところで sentence vector をどうやって得てるのか知らなかった.
ドキュメントにはたぶん書いてないけど,
[source code](https://github.com/facebookresearch/fastText/blob/master/src/fasttext.cc#L474)
だとただの平均であることがわかった.
ただし教師アリで学習したときは本当にただの平均であるが, ナシの場合は正規化してから平均しているようだ.

$$s = ( w_1,w_2, \ldots, w_N )$$

教師アリのときは
$$\frac{1}{N} \sum_i w_i$$

ナシのときは
$$\frac{1}{N} \sum_i \frac{w_i}{\|w_i\|}$$
ただし $\|w_i\|=0$ なる単語は先に取り除いておく ($N$ も減らしておく).

また $s$ の長さがゼロのときは (ナシのときはノルムが非ゼロのものだけ見て) 0ベクトルとする.

正規化をするかしないかの処理や, ノルムが非ゼロかどうかチェックするなどの差異はどこから来たのだろうか.
&lt;/code&gt;&lt;/pre&gt;
    </description>
    <pubDate>Tue, 07 May 2019 00:00:00 +0900</pubDate>
    <guid isPermaLink="true">https://cympfh.cc/taglibro/2019/05/07</guid>
  </item>
  <item>
    <title>Mon May 06 2019</title>
    <link>https://cympfh.cc/taglibro/2019/05/06</link>
    <description>
      &lt;pre&gt;&lt;code&gt;
## Galago Pro のファンがうるさいのを治した

一ヶ月ほど前よりあまりにもラップトップのファンが五月蝿くて困っていたのを治した.

一般にファンが五月蝿い原因は２つあり,
常に回り続けてる（実際にすぐCPUが熱くなるから回るかシステムが壊れたため回るか分からないが）から五月蝿いというのと,
物理的にファンが調子悪いから回ると五月蝿いという場合の２つがある.
今回は後者であった.

ちなみに前者の場合, ソフトウェア的にファンを抑制すれば良い.
もちろんファン本来の機能を抑えるので, これは諸刃の件である.
Galgo Pro のファンは（理屈はわからぬが）`fanctrl` などの一般的なコマンドでは操作できない.
しかしできないことはないようで, 次の reddit スレッドで紹介されているものを使って制御できた.

[GalapagoPro Fan Un-f*cker.](https://www.reddit.com/r/System76/comments/a5d5od/galapagopro_fan_unfcker/)


&lt;s style=&#39;color: #888&#39;&gt;ただしこのプログラムは（これもまた理屈はわからないのだが）ファンを完全に止めるのではなく,
&quot;duty&quot; （ファンへの負担量?）として40-100% の間の数字だけが指定できる.&lt;/s&gt;
このプログラムは **duty** が 40% 未満を指定できないようになっていて, ファンを完全に止めさせてくれない.
これはハードウェアの制約ではなくて, プログラム上でそうしてるだけなので, ソースコードを書き換えてからビルドすればよい.
[例えばこのように](https://github.com/cympfh/system76-galapago-pro-fan-unfucker/commit/baba9b1087decd16226036a96892b1cace4d6621).

ファンの五月蝿い原因が今回は後者だったわけだが, わざと 100% にしてみることで五月蝿さを確認するのに便利だった.
また, 併用するのもアリだろう.

実を言うと, このPCのファンが五月蝿くなるようになった原因は何となくわかっていた.
あるときノートパソコンを寝ながら触っており, 寝返りとともにパソコンを勢い良く傾けたときからファンが異音を立てるようになった.
私の想像だが, ジャイロ効果によって回転する方向と斜めの方向に力が働き, 回転軸がブレるようになったのではないかと思う.

調べると, どうも五月蝿いファンを解決するのに, 軸受に **グリス** を塗るなどする修理方法があるらしいことを知ったので試した.
色んな所で KURE の **シリコングリースメイト** が良いなどと紹介されていた.
そして私は **シリコンスプレー** を手に入れた.
「グリス」とついていないところが気になったが, 似たようなものだろう.
ファンを完全に分解し, 軸受の部分が完全に見える状態でスプレーをした.
何度も試したが, 薄くかかるくらいで十分らしい. かけすぎると返って回転の邪魔なようで, 指で勢いをつけてやらないとファンが回らなくなってしまった.

回転しやすくはなったが, 異音は尚発生した.
もうひと工夫として, **ファンの蓋のネジをわざと緩く** 締めることで, かなり異音が解決した.
酷い解決法だし, 定期的にネジを調整する必要がありそうだ.

今さっそく治したばかりのPCでこの記事を書いているのだが, やっぱり気になる異音が発生しだしてるので完全な解決とは言えなさそうだ.

## Ubuntu 19.04 にアップグレードした

このパソコンのディスプレイの解像度は3200x??? くらいある.
i3 を導入すると, すべてのシステムフォントがアホみたいに小さいので困ってる.
今までどうやって解決していたっけ.
&lt;/code&gt;&lt;/pre&gt;
    </description>
    <pubDate>Mon, 06 May 2019 00:00:00 +0900</pubDate>
    <guid isPermaLink="true">https://cympfh.cc/taglibro/2019/05/06</guid>
  </item>
  <item>
    <title>Fri May 03 2019</title>
    <link>https://cympfh.cc/taglibro/2019/05/03</link>
    <description>
      &lt;pre&gt;&lt;code&gt;
## Diary

No Japanese IME in this fresh PC.

Recent Internet sucks.
They looks in some festival.
Not only internet,
when I&#39;m walking streets, i can find flags which say &quot;Congrats! R*IWA!!&quot;
Hhhh...
What they celebrates?
The new Emperor???
You belive in the Emperor&#39;s godness???
That is a Japanese (nasty) religion, i think.

Ofcouce i know,
they don&#39;t believe or celebrate the new emperor and the new era, in fact.
They just wanna be excited.
Also that fact disappointed me.
For them, Japanese Emperor system is just an oppotunity to drink!!

I watched a democracy activity by Hantenren.
I don&#39;t agree them exactly... But I feeled I have been saved.
I can see some people insist on the duty of Showa Emperor and
some people screming that the people who dislike the Emperor are not Japanese.
Yes, all they are Japanese.
That scene make me excited.

BTW, i like UNIX time rather than Seireki calendar.
&lt;/code&gt;&lt;/pre&gt;
    </description>
    <pubDate>Fri, 03 May 2019 00:00:00 +0900</pubDate>
    <guid isPermaLink="true">https://cympfh.cc/taglibro/2019/05/03</guid>
  </item>
  <item>
    <title>Mon Apr 22 2019</title>
    <link>https://cympfh.cc/taglibro/2019/04/22</link>
    <description>
      &lt;pre&gt;&lt;code&gt;
## 投票率はその町の民度だと思う

あなたが政治に関心がなかろうが, あるいは確固たる意思のもとで投票しない人間であろうが,
大多数にとって投票という参政行為は民主主義の現れだ.

2019/04/21 に行われた &quot;区議会議員選挙&quot; の最終合計の投票率を比較する.
(区議会議員選挙の投票率と区長選挙の投票率が併せて掲載されている場合, 区議会議員選挙の投票率を見る.)

ソースは各治区が &quot;投票結果速報&quot; として web で公開したものを用いる.

以下は投票率の高い順に並べた

| rank | 地区     | 投票率 (%) | 参考 URL |
|-----:| :-------: | -----------: | :----------------------------------------------------------------------                                                      |
|    1 | 北区     | 51.74      | https://www.city.kita.tokyo.jp/senkan/kuse/senkyo/kekka/kekka/190421_kugi-tohyo.html |
|    2 | 足立区   | 50.92      | https://www.city.adachi.tokyo.jp/juyo/170702senkyo/170702_t_kakutei.html |
|    3 | 文京区   | 50.59      | https://www.city.bunkyo.lg.jp/kusejoho/senkyo/kugikucho31/h31kugi.html |
|    4 | 千代田区 | 48.06      | https://www.city.chiyoda.lg.jp/koho/kurashi/senkyo/kugikai/tohyo.html ( https://megalodon.jp/2019-0422-1515-06/https://www.city.chiyoda.lg.jp:443/koho/kurashi/senkyo/kugikai/tohyo.html ) |
|    5 | 江東区   | 46.74      | https://www.city.koto.lg.jp/610102/kugi-kucyo2019/tohyo.html |
|    6 | 中央区   | 44.05      | https://www.city.chuo.lg.jp/kurasi/senkyo/sokuho/31kugikaikutyou/kugikuchoutouhyousokuhou.html ( https://megalodon.jp/2019-0422-1521-07/https://www.city.chuo.lg.jp:443/kurasi/senkyo/sokuho/31kugikaikutyou/kugikuchoutouhyousokuhou.html ) |
|    7 | 荒川区   | 44.00      | https://www.city.arakawa.tokyo.jp/kurashi/senkan/topicks/ksokuhou/index.html |
|    8 | 板橋区   | 43.96      | http://www.city.itabashi.tokyo.jp/c_oshirase/096/096875.html |
|    9 | 墨田区   | 43.78      | https://www.city.sumida.lg.jp/senkyo_sokuho/tohyo.html |
|   10 | 世田谷区 | 43.02      | http://www.city.setagaya.lg.jp/kurashi/107/788/790/d00138486.html |
|   11 | 大田区   | 42.74      | https://www.city.ota.tokyo.jp/touhyou/t_31otakugikai20.html |
|   12 | 台東区   | 42.57      | http://www.city.taito.lg.jp/index/kusei/senkyo/senkyokekka/kugi.files/3103_kugi.pdf |
|   13 | 江戸川区 | 42.37      | https://www.city.edogawa.tokyo.jp/documents/14020/2000kucho.pdf |
|   14 | 豊島区   | 42.18      | https://www.city.toshima.lg.jp/361/kuse/senkyo/1904181352.html |
|   15 | 葛飾区   | 41.67      | http://www.city.katsushika.lg.jp/information/1000080/1020036/1014529/1016237.html |
|   16 | 練馬区   | 41.65      | https://www.city.nerima.tokyo.jp/kusei/senkyo/kekka/h310421/31kugitohyo.html |
|   17 | 中野区   | 40.46      | https://www.city.tokyo-nakano.lg.jp/dept/nakano/d027062.html |
|   18 | 目黒区   | 40.28      | http://www.city.meguro.tokyo.jp/gyosei/senkyo/kugikaigiin/tohyosokuho.files/tohyokakutei.pdf |
|   19 | 渋谷区   | 39.96      | https://www.city.shibuya.tokyo.jp/kusei/senkyo/20190421tou_g.html |
|   20 | 品川区   | 39.72      | https://www.city.shinagawa.tokyo.jp/PC/kuseizyoho/kuseizyoho-sensei/kuseizyoho-senkyo/shinagawa-kugikai/20180914150345.html |
|   21 | 杉並区   | 39.47      | http://www.city.suginami.tokyo.jp/senkyo/h31kugi/1047512/index.html |
|   22 | 新宿区   | 37.93      | https://www.city.shinjuku.lg.jp/senkyo/0100294.html |
|   23 | 港区     | 35.37      | https://www.city.minato.tokyo.jp/senkan/kugikai/190421touhyou.html |

### 関連

またそれより過去のものも比較してるサイトがあった:
[東京23区 区議会議員選挙投票率の推移（昭和22年～平成27年）【統一地方選挙・基礎データ】](http://23kugikai.net/?p=278)

2019/07/22 に参議院選挙があったので、これの結果もまとめた [2019/07/22](../07/22.html)

## 開票所に行ってきた

![](https://i.imgur.com/MyWZuHh.jpg)

あなたが選挙権を持っているならば公職選挙法はぜひとも一度目を通すべきだ.
どうせこんなのは、雰囲気で運用されているんだろうけど.

&gt; 第六十九条　選挙人は、その開票所につき、開票の参観を求めることができる。

&quot;選挙権を持つ人、イコール、選挙人&quot; ということで良いと思う（あってますか？）.
開票所の場所と、開票作業の時間の開始は必ずどこかに書いてあるはずで、投票用紙が送られてきた封筒のどっかとか、地区の web ページを見れば必ず書いてある.

ところで &quot;求めることができる&quot; という遠回しな言い方が嫌だ.
&quot;求める&quot; のはいいけど &quot;出来る&quot; とは言ってませんからね、拒否権は尚あるんですからね、みたいにも聞こえてしまう.

果たして、行ってみれば、さも当然のように &quot;参観受付&quot; というのがあり、開票作業が 2045 始まりで、その15分前から受付を開始してた.

本当は様子をバチバチ写真に撮って載せたかったのだが、一応、撮影禁止ということになっていたので撮影はされていないことになっている.
マスコミの人たちは私の隣で立派なカメラで撮っていたので、決して、外に公開してはいけないのではなく、よく問題になるように、投票用紙の筆跡が見えるような写真を迂闊に公開しない配慮なのだろうと思う.

## 開票参観の楽しみについて

人生で一度は経験するとよい、が、一度で十分、というやつだと思う.

私以外その場に居た人間のほぼ全員が、何かしら身内であったり誰かの熱心なファンであるらしく、
いちいち速報があるたびに誰かに電話したり熱心にメモをしたりしていた.
速報なんて地区のwebサイトでも公開されるが、一応、開票作業のその場所で、拡声器を使っての発表が、どこよりも速い.
そんな、一秒を争っても結果はすでに決まってることなんだから、とも思うが.

![](https://i.imgur.com/gb2t4qe.jpg)

で、参観して何が楽しいか.

作業する人たちは、ただその作業の為だけに集められた日雇いバイトである.
(見た感じ、大学生が多かった.)
彼ら彼女らが効率的に作業できるよう、実にアルゴリズミックに作業が分担されている.
参観者はそれを上から眺めることが出来る.
&quot;Human Resource Machine&quot; を見ている気持ちよさがある.
もし、見に行くことがあれば、ぜひとも双眼鏡の持参をおすすめする.
また私は先程、撮影禁止だったと言ったが、それは自治区の判断でしかないので、念の為にカメラは持参しておくとよいと思う.

それから、他の参観者を観察すると良い.
彼らは誰かを熱心に応援している.
あどけない女子大生が、自民党何票という速報を聞いてガッツポーズをする姿、
主婦連中が負けた立候補者の頑張りを称える姿、
青年の集団が、公明党何票と聞いて安堵する姿などが見られる.
実に気持ち悪い.

注意点として、夜から始まる場合、終わるのは次の日の午前1時とかになるので、適当なところで見切りを付けて満足し、さっさと帰ったほうが良い.
最後まで居たところで何か楽しいことが起きるわけではないので.

また、参観するだけでは分からないことが多すぎる.
作業手順は上から眺めて推測するしかない.
例えば &quot;審査係&quot; と &quot;検査係&quot; というのがあったが、それがなんの手順なのか全く不明だった.
参観などではなく、開票バイトとして参加するほうが楽しいかもしれない.
なんせお金も出るし.
&lt;/code&gt;&lt;/pre&gt;
    </description>
    <pubDate>Mon, 22 Apr 2019 00:00:00 +0900</pubDate>
    <guid isPermaLink="true">https://cympfh.cc/taglibro/2019/04/22</guid>
  </item>
  <item>
    <title>Thu Apr 18 2019</title>
    <link>https://cympfh.cc/taglibro/2019/04/18</link>
    <description>
      &lt;pre&gt;&lt;code&gt;
## 日記 - 生配信の環境を整えた

2019年であるのだが, つい興味を出してしまった.
全体の出費としてはキャプチャーボードの一万円だけで, それ以外は特に無い.

必要なのはキャプチャーボードと, あとは配信ソフト, それから配信されるためのもの.
配信されるものとは例えば Switch 上でプレイするゲームなど.
そもそもそれが, 配信用PCの上で直接動かすならキャプチャーボードは不要.
キャプチャーボードは他の機器の HDMI 出力を拾って来るためのものだから.

### キャプチャーボード

選ぶ点で重要なのは,
入力用のHDMIの穴が空いていること, パススルー出力があること.
入力用のHDMIの穴があってそこに例えば Switch などと繋ぐ.
また USB3.0 くらいの穴が空いてて, それとPCを繋ぐことで, Switch の映像を PC が拾える.
さて自分自身がゲームをする必要があり, 人間用にSwtichの映像を出力したいが,
PCで拾った映像を見るとすると 500ms 程度どうしても遅延があって, とてもじゃないがゲームなど出来ない.
ノベルゲームくらいならいいけど.
というわけで, ただHDMIの映像をパススルーするだけの, パススルー出力というのが大抵のキャプチャーボードにはある.
その穴と, 適当なディスプレイをHDMIケーブルで繋げば, Switch からの出力をただ流すことが出来る. ここに遅延はほとんど全然無い. 少なくとも感じられない.

というわけで私は
&quot;MiraBox&quot; という名称で売られているものを Amazon で購入した.
恐るべきは, この商品は異なる名称でも売られている.
それどころか, 値段が2万円だったり1万円だったりする.
私は1万円で買った.
PCに繋いでみると, システム上は MiraBox として認識された.
しかしキャプチャーボード自体には &quot;BasicColor&quot; というロゴが印刷されている...

見れるかわからないが Amazon リンクを貼っておく.
これらは全て同一商品である!

1. https://www.amazon.co.jp/dp/B07C6KCBYB/
2. https://www.amazon.co.jp/dp/B07D5STZXT/
3. https://www.amazon.co.jp/dp/B07JDF9N5W/

一番安いとろこで買えば良いと思う.
知らんけど.

### 配信ソフト

郷に入っては郷に従えだし, 長いものにはまかれろで OBS を使ってる.
ググれば大抵の解決策は書いてある.

### その他

私は自分の声を入れるようなことはしてない.
人に聞かせたい声をしていないので.
代わりにといっちゃなんだが, 声を音声認識させてテキストにし, それを映像の下の方に合成して表示している.

Speech-to-Text の部分は驚くべきことに WebAPI がある.
そしてそれを実際に実装してしまっている唯一のブラウザが GoogleChrome である.

4. [github.com/cympfh/jimaku](https://github.com/cympfh/jimaku)

これはただそれを使って聞き取ったテキストを表示するというだけの HTML ページとその周辺のコード.
セキュリティの都合上, 「マイクの許可」というものをユーザーに, つまりあなたに毎回要求する.
https だと, 許可が初回の一回だけで済む.
というわけで https 化は実質的に必須である.
上のレポジトリには偽装 https 化するためのコードも一緒に入ってある.
ブラウザで開くと, 署名が信用できないが良いかと聞かれるので, 危険を承知で開くを選択する必要がある.
まあとにかく出来る.

で, これを開いたChromeのウィンドウをOBSの横に置いておいて, OBSの画面キャプチャ機能でそれを写している.
いい感じにクロップして, また背景の白色をクロマキーで透過させるといい感じになる.

&lt;iframe width=&quot;560&quot; height=&quot;315&quot; src=&quot;https://www.youtube.com/embed/0_xad5LQUUA&quot; frameborder=&quot;0&quot; allow=&quot;accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture&quot; allowfullscreen&gt;&lt;/iframe&gt;

こんな感じになる
&lt;/code&gt;&lt;/pre&gt;
    </description>
    <pubDate>Thu, 18 Apr 2019 00:00:00 +0900</pubDate>
    <guid isPermaLink="true">https://cympfh.cc/taglibro/2019/04/18</guid>
  </item>
  <item>
    <title>Sun Apr 14 2019</title>
    <link>https://cympfh.cc/taglibro/2019/04/14</link>
    <description>
      &lt;pre&gt;&lt;code&gt;
## 技術力のない技術書展について

チャットが生まれたとき, これを素晴らしい発明だとは思わなかったのだろうか.
肯定的な意味でも否定的な意味でも, 人が外に出ることなく, 他人と交流でき, 問題なく生活ができるようなSFめいた未来が来る予感を持たなかっただろうか.

結論を述べれば人は人が大好きである.

今日は技術書展なる同人誌イベントがあった.
ご存じない方のために説明すると, 技術書展の技術は (ほぼ) いわゆる IT を指している.
ところで IT という語はすっかり死語ではないか.
決して印刷技術の技術を指しているのではない.
しかしながら未だに, 人は原稿を紙に印刷し, それを会場現地で対面で手渡しをする.
今は2019年である.
平成も終わろうとしている.

イベントそのものは人に楽しみと有意義を与えるかもしれない.
そのようなイベントがあり, 期日があるからこそ, 人は本で自分の知識や考えを披露としてみようというモチベーションが維持されるし,
出来上がった本が一覧になってリストアップされてるからこそ,
参加者はその中で自分の興味をそそるものを探してみようとなる.
しかしこれはインターネットで解決できる話ではないのだろうか.

繰り返すが, もう平成も終わろうとしている.

会社でのダラダラとしたミーティング, そういったものを若い世代は馬鹿にしてきたはずだ.
自分たちはどうか.
上の世代を馬鹿にしつつも, 結局やってることは同じではないか.

テキストのみの簡素なチャットから始まり,
カメラを用いたビデオチャット, 最近では3Dアバターを被る VR チャットなんてものまで出てきた.
結局, 人は人の顔を見ながら会話がしたいらしい.
&lt;/code&gt;&lt;/pre&gt;
    </description>
    <pubDate>Sun, 14 Apr 2019 00:00:00 +0900</pubDate>
    <guid isPermaLink="true">https://cympfh.cc/taglibro/2019/04/14</guid>
  </item>
  <item>
    <title>Sat Apr 13 2019</title>
    <link>https://cympfh.cc/taglibro/2019/04/13</link>
    <description>
      &lt;pre&gt;&lt;code&gt;
## GCJ Round 1A

Google Code Jam は毎度, 起床に失敗してきた.
今日は 01:00 UTC から Round 1A があり, 珍しく起床に成功できた.
また, 運良く通過することが出来たので write up を書く.

![](https://i.imgur.com/KXPtabS.png)

### [Pylons](https://codingcompetitions.withgoogle.com/codejam/round/0000000000051635/0000000000104e03)

$R \times C$ のマス目の碁盤を, 好きなところからスタートしてジャンプしてくことで, 全てのマスをちょうど一回ずつ訪れることが出来るかを判定, できるならその経路を示すという問題.
ただしジャンプできるのは今いるマスから水平でも垂直でもまた対角線上でもない任意のマス (つまり飛車でも角行でも行けないマスならどこにでもジャンプできる.)

スタート位置は大体どこでもいいに決まってるので分かりやすく一番隅っこ $(0,0)$ スタートでいい.

テストセットは Visible (smallのこと) と Hidden (large のこと) との2つがあり,
それぞれ, $R,C$ が $5$ 以下と $C$ 以下である.
私は全探索する以外に方法が分からなかったので large は諦めて small さえ通ればいいという気持ちのコードを書いた.

- 二次元配列 `[R][C]` で表されるテーブルを1つ持つ
    - 復元のことを考えて, テーブルの各要素は, 何番目に訪れたかの数字を入れる
    - 深さ優先探索によって全探索する

一つのテーブルを持ち回って深さ優先探索するにはおおよそ次の関数 `dfs` を行えばよい (Python 風の疑似コードで書く):

```python
global table[R][C]

def dfs(i, j, nth):
    table[i][j] = nth
    for i2, j2 in next_candidates(i, j):
        dfs(i2, j2, nth + 1)
    talbe[i][j] = None # reset
```

つまり, 最初に `table` をいじってそのまま更に深いところを探索し,
戻ってきたら `table` を元に戻す.
戻すことをしておこないと別な探索のときに不都合が起きる.

これは再帰で書いたけれど, 言語に依っては再帰の深さに制限がある (Stack Overflow など).
一般に再帰というのは `for` ループに書き直すことが出来る.
ただ今の `dfs` のように, 終わりがけに処理を施す (`table` をもとに戻す操作) ようなものはちょっとだけ面倒.

もしそれが無ければ, つまり,

```python
def dfs(i, j, nth):
    table[i][j] = nth
    for i2, j2 in next_candidates(i, j):
        dfs(i2, j2, nth + 1)
```

というものをループに書き直すのは頻出で, スタック構造を用いれば良い

```python
global stack

# ここで stack に起点となる何かを push しておく

while (i, j, nth) = stack.pop():
    table[i][j] = nth
    for i2, j2 in next_candidates(i, j):
        stack.push(i2, j2, nth + 1)
```

とできる.
ほとんど見た目が同じであるが, stack にその値が入っていることが, そのまま, その値を引数として `dfs` 関数を呼ぶこと, と同一視して見做せる.
問題は関数を呼び出すことは表現しているが, 関数を抜けることまでは表現していないことだ.
すればよい.
二値の値を取るもの, たとえば `true` と `false` をタグとして用いて, 一方を関数呼び出し, もう他方を関数から抜け出すことと思えばよい.

```python
global stack

# ここで stack に起点となる何かを push しておく

while (call, (i, j, nth)) = stack.pop():
    if call:  # 関数呼び出し
        table[i][j] = nth
        for i2, j2 in next_candidates(i, j):
            stack.push(i2, j2, nth + 1)
    else:  # 関数脱出
        table[i][j] = None
```

さて large であるが, ある程度大きい盤面だと必ず経路は存在するようで,
適切に盤面を区切ってやって, その分割ごとに解けば良いらしい.

### [Golf Gophers](https://codingcompetitions.withgoogle.com/codejam/round/0000000000051635/0000000000104f1a)

羽数がバラバラだとなんだか難しいが, 全部揃えて $B$ 枚ずつあるとする.
それで返ってきた答えが
$$a_1,a_2,\ldots,a_{18}$$
だとする.
各 $i=1,2,\ldots,18$ について,
風車がどれだけ回されたかを考えると,
大体 $a_i$ なのだが, ちょうど一周した分については観測できないので,
mod を取ったものだと分かる.
従って $i$ 番目の風車がどれだけ回されたかは, ある自然数 $m$ があって
$$a_i + Bm$$
だと言える.
これが全ての $i$ について言えてしかも $B$ は共通だとしたので,
全体で回された数は
$$\sum_i a_i + Bm&#39;$$
だと言える.
この $m&#39;$ もやっぱり適当な自然数である.
そしてこの値こそが求めたい Gophers の数でもあった.

あなたが出来ることは
$n$ 種類の $B$ ($2 \leq B \leq18$) をクエリとして投げることである.
それぞれの場合に $A=\sum_i a_i$ が返ってくるので, 候補として
$$A, A+B, A+2B,\ldots$$
が得られる.
ところでこの数の上限は最初に入力として与えられるので候補は有限通りである.

あとはいい感じに $B$ をチョイスしていって候補を絞っていけば良い.

私は大して何も考えず $B=18,17,\ldots,12$ を選択したら通った.
が, 互いに素な数を選択すれば良さそうではある.

### [Alien Rhyme](https://codingcompetitions.withgoogle.com/codejam/round/0000000000051635/0000000000104e05)

この3つの問題の中で最も簡単だったと思う.

$n$ つの文字列が与えられるのでできるだけ多くマッチングしていく問題.
2つの文字列をマッチングさせるとは, 空ではない共通の接尾辞 (suffix) を見出すこと.
マッチングに使った文字列は他の文字列とはマッチングさせない.
別なマッチングで使った接尾辞は別なマッチングでは使えない.

貪欲にマッチングさせた場合に困るのは, その接尾辞を持つ文字列が3つ以上持つ場合だろう.
例えば

- ABC
- XC
- XBC
- YC

という4つがあると ABC と XC は &quot;C&quot; によってマッチングできるが, 他の文字列でも &quot;C&quot; でマッチングできるので勿体無い.
ABC と XBC を &quot;BC&quot; でマッチングさせたほうが有利だ.

できるだけ長い suffix でマッチングさせたほうがよいと気づける.
与えられる文字列の長さは 50 以下だと書いてあるので

```python
for len 50..1:
    matching(words, len)
```

としたほうがよい.
`len` でマッチングを考えるときは `len+1` 以上の suffix でマッチングしたものは全て取り除く.
こうすると `len` でマッチングするペアを見つけたら無条件でマッチングさせて良いことが分かる.
&lt;/code&gt;&lt;/pre&gt;
    </description>
    <pubDate>Sat, 13 Apr 2019 00:00:00 +0900</pubDate>
    <guid isPermaLink="true">https://cympfh.cc/taglibro/2019/04/13</guid>
  </item>
  <item>
    <title>Thu Apr 11 2019</title>
    <link>https://cympfh.cc/taglibro/2019/04/11</link>
    <description>
      &lt;pre&gt;&lt;code&gt;
## 人間について

人間はうるさいから嫌い

## インターネットについて

インターネットは聞きたくもないことを聞かせてくるから嫌い

しかしインターネットについては関わり方を自分で決めることが出来るから, 努力のしようがあるはずだ.

Twitter について.
辞める. あるいは極力見ない.

私の場合はSNS自体をしたいわけではない.
他人の発言に「いいね」なんてそのとおりの意味でやったことはない.
せいぜい「あとで読む」の代替に使うくらいのものだ.

そうじゃなくて、単に連絡手段として使ってるだけだと思う.
だからそれこそLINEでもいい.
（LINEをやってないと言うと野蛮人の目で見られることをあなたは知っているか？）

ところでRSSというのがあった.
あれって全然流行らなかったように見えるんだけど, 流行ったところでは流行ったのか？
未だに更新しているのはもうただバッチを停止してないだけの惰性だろう.

こうなるともはや（初めから？）自己満足の領域だが, RSS で発信してはどうか.
よくわからないが, とにかく XML を書いておけばいいんだろう.

```html
&lt;link rel=&quot;alternate&quot; type=&quot;application/rss+xml&quot; title=&quot;RSS 2.0&quot; href=&quot;http://cympfh.cc/taglibro/2019/04/11.xml&quot; /&gt;
```
&lt;/code&gt;&lt;/pre&gt;
    </description>
    <pubDate>Thu, 11 Apr 2019 00:00:00 +0900</pubDate>
    <guid isPermaLink="true">https://cympfh.cc/taglibro/2019/04/11</guid>
  </item>
  <item>
    <title>Tue Apr 09 2019</title>
    <link>https://cympfh.cc/taglibro/2019/04/09</link>
    <description>
      &lt;pre&gt;&lt;code&gt;
行列分解モデルがなぜ、ノイズの除去に役立つのだっけ.
NNの文脈で語ると、一度低ランクに写す回帰モデル (autoencoder ではないけどそれっぽい何か) に相当するから、と考えれば、たしかにノイズ除去になっていそう.
そもそも行列分解モデルは確率的PCAに相当するものとして示されたものらしい.

ところで純粋な数学的事実に著作権はないと思う.

例えば「角谷の不動点定理」は数え切れない程多く本に載ってあるが、
私がその中の一冊を読んで、その定理をこのブログに載せても、それ自体は何も問題がないと思う.
また、名前が付いているくらい（「角谷の不動点定理」といえば、あの定理だと分かる）古典的な論文ともなると、いちいち、その初出の論文だかなんだかを引用すらしない.
そんな本を見たことがない.

で、思ったのは、読んでる専門書の内容を、ここに丸写しするのは問題があるのだろうか.
本のスキャンを載せるのは断然アウトだと思う.
自分の言葉で書き直すのは全くセーフだと思う.
どの程度まで書き直せばセーフだろうか？
ある本に $1+1=2$ であると書いてあったので私がブログに $1+1=2$ なんだよ、と何の引用も無く書いたら、誰かが怒ってくるのだろうか？

## 行列分解モデル

ノイズや事前分布は基本的に全部ガウス分布だとする.

2種類のデータを考える.
それぞれ $n$, $m$ 通りの値を取るとする.
それを $1,\ldots,n$ と $1,\ldots,m$ だとする.
仮に $n$ 種類の方を「ユーザー」, $m$ 種類の方を「アイテム」と呼ぶことにする.
各ユーザー $i \in n$ と アイテム $j \in m$ について, ある実数 $X_{ij}$ が観測されるとする.
従って $X$ は $n \times m$ 行列として表現される.

ここで観測には当然ながらノイズが乗るものだから, $X_{ij}$ は真の値 $\tilde{X}_{ij}$ にノイズ $E_{ij}$ が加えられたものである.
$$X = \tilde{X}+E$$
ここでノイズは
$$E_{ij} \sim \mathcal N(0, \sigma^2)$$
というガウス分布からサンプリングされた値だ.

$X$ を観測したときに, 真の値 $\tilde{X}$ を推測したいと思うのは自然な欲求である.
行列分解モデルは $X$ から $\tilde{X}$ を推測するための枠組みである.

小さな自然数
$d &lt; \min\{n,m\}$
を適当に選んで,
2つの行列
$A \in \mathbb R^{n \times d}$,
$B \in \mathbb R^{m \times d}$
によって
$$\tilde{X} = A B^T$$
なのだとモデル化する.
$\tilde{X}$ のランクは自動的に $d$ 以下になっていることに註意.

$A$ の第 $i$ 行ベクトルを $A_i$ とし,
同様に $B$ の第 $j$ 行ベクトルを $B_j$ とすれば,
$$X_{ij} = A_i B_j^T + E_{ij}$$
と言っている.

ノイズにガウス分布を仮定した場合の最尤推定は自乗誤差最小化になる.
即ち,
行列分解モデルが $A,B,\sigma$ の下で $X_{ij}$ を観測する確率は,

$$P(X_{ij} \mid A,B,\sigma) =
\beta \exp\left[ - \alpha (X_{ij} - A_i B_j^T)^2 \right]$$

ここで $\alpha, \beta$ は正の定数.

同様に
$X$ を観測する確率は,
$$P(X \mid A,B,\sigma) =
\beta^{nm} \exp\left[ - \sum_n \sum_m \alpha (X_{ij} - A_i B_j^T)^2 \right]$$
である.
最尤推定をするならば, これを最大化すればよくて,
結局
$$\min_X \sum_n \sum_m (X_{ij} - A_i B_j^T)^2$$
を解けばよいことになる.

&gt; 言い忘れてたけど（言わなくても分かると思って）,
&gt; 自然数 $n, m$ に対して
&gt; $n=\{1,\ldots,n\}$,
&gt; $m=\{1,\ldots,m\}$
&gt; という記号も混ぜて用いている.

## 線形一層回帰モデル

線形で（活性化しない）、中間層が一層だけの多層パーセプトロンによる回帰モデルを考える.
問題設定はさっきと同じで.

$X$ または $\tilde{X}$ は $n \times m$ 行列なので,
左から掛けることによって $\mathbb R^n \to \mathbb R^m$ なる（線形）関数だと見做せる.

$$X : \mathbb R^n \to \mathbb R^m$$
$$X : x \mapsto Xx$$

線形関数は基底の写し方だけを調べれば決まるので,
$\mathbb R^n$ の基底として, $i$ 番目だけ $1$ で他が全部ゼロなベクトル
$$\delta_i = \left[ 0,\ldots,0,1,0,\ldots,0 \right]^T$$
を $x$ として入れることを考えると,
$$X \delta_i = x_i$$
ここで, $X$ の $i$ **列** 目を $x_i ( \in \mathbb R^m)$ と書いた.

今からこの $X$ 関数を線形一層回帰モデルで表現する.
ここで中間層のユニット数を $d &lt; \min\{n,m\}$ とする.

$$\mathbb R^n \to \mathbb R^d \to \mathbb R^m$$

最初の1層目を行列 $B \in \mathbb R^{d \times n}$,
2層目を行列 $A \in \mathbb R^{d  \times m}$ とすれば,
この多層パーセプトロンは,
$$y = ABx$$
と書ける.

ところでやっぱりガウス分布のノイズを仮定すると,
真の $y$ と $ABx$ との差の自乗誤差の最小化が最尤推定になる.
ここで $x$ を $\delta_1, \ldots, \delta_n$ で考えると,
$$\min \sum_n \| x_i - (AB) \delta_i \|_2^2$$
ベクトルのL2ノルムを分解して書けば,
$$\min \sum_n \sum_m ( X_{ij} - A_i B_j )^2$$
となって, さっきの行列分解と全く同じことをしていたことがわかる (それはそう).

&gt; というわけでこの2つのモデルは等価である.
&gt; それはいいとして.
&gt; 結局なんでこれが良いモデルなんだろう？

&gt; 余談.
&gt; 自乗誤差の最小化を実際に適当なソルバでさせるとき,
&gt; ゼロに近づけば近づくほど上手く学習したとつい思いがちだが, それはおかしい.
&gt; 正規分布のノイズを仮定しているのだから,
&gt; 真の予測ができたときの自乗誤差の平均は $\sigma^2$ である.
&gt; 本当に自乗誤差がゼロに近いなら, ノイズがそもそも無いと思ったほうが良いことになる.
&lt;/code&gt;&lt;/pre&gt;
    </description>
    <pubDate>Tue, 09 Apr 2019 00:00:00 +0900</pubDate>
    <guid isPermaLink="true">https://cympfh.cc/taglibro/2019/04/09</guid>
  </item>
  <item>
    <title>Mon Apr 01 2019</title>
    <link>https://cympfh.cc/taglibro/2019/04/01</link>
    <description>
      &lt;pre&gt;&lt;code&gt;
## 日記

名古屋で食べたひつまぶしが本当に今までで一番美味しいうなぎだった.
逆に, それまでに食べたうなぎが駄目すぎた.
値段で言えば名古屋のそれはそこまで高いわけでもなし, それより高級とされるものは食べたこともあったが,
モノではなくてテクなのだと思った.

## 日記

次々と身近な人が退職をし、あるいは退職を表明し、泥舟

## 日記

土曜日はふたけっと15に行ってきた.
毎度, ふたけっとの帰りには海鮮丼を食べている.
これは偶然である.

今回のふたけっとは浅草すぐ近くの会場で行われ (毎回, こういう成人向けイベントが市や区の施設を借りて行われることに驚く),
人生で三度目の浅草探訪をした.
揚げ饅頭を食べたかったのだが, 売ってるお店が見当たらなかった.

帰り, バス停に不思議な女の子がいた.
ぬいぐるみを持って, 通りかかる人の顔の近くにそれを持っていき喚いていた.
自分にかまって欲しいようだった.
もしかして喋れない子なのかしらと思った.

バス停のベンチにいるから, 女の子は一人でバスを待ってるものと思ったら,
すぐ近くで何やら中国人観光客向けに中国語で書かれた新聞を配る女性がおり,
ときおり女の子はその女性のもとに駆け寄っては頭をなでてもらっていたから, きっと親子らしい.
ということは女の子はバスなど待っておらず, 単に暇つぶしをしていたに過ぎなかったらしい.
また別な老婆が女の子の相手をし, 老婆はぬいぐるみを指さして, これはなあに？と聞くと,
女の子は元気よく、トトロ！と叫んだ.

## 日記

日曜日はマンションの総会なるものに参加してきた.
議題がつまらないものだったからか、しょうもなかった.
真面目に議論しようというものは少数で、理事長（住民から抽選で選出される）含めほとんどの人にとっては、どうでもいい、面倒くさい、ものなので、賛成か反対ではなくて、面倒か反対かという投票だった.
少数による熱い議論も虚しく、あっさりと議題は可決された.

夜はお寿司を食べた.

## 日記

寝て起きて Twitter を開いたら, 皆が一様に, 発表された次の元号の話題で大盛り上がりしていた.
感想を言ったところでしょうがないし, どうせ慣れてしまうのだろうけど, ダサいと思った.
&lt;/code&gt;&lt;/pre&gt;
    </description>
    <pubDate>Mon, 01 Apr 2019 00:00:00 +0900</pubDate>
    <guid isPermaLink="true">https://cympfh.cc/taglibro/2019/04/01</guid>
  </item>
  <item>
    <title>Mon Mar 25 2019</title>
    <link>https://cympfh.cc/taglibro/2019/03/25</link>
    <description>
      &lt;pre&gt;&lt;code&gt;
## 日記

初詣に行ってきた.

私が水場で手を洗っていると、女性が缶切り声で喚くのが聞こえた.
私の今までの経験から言って、女性がこの手の声を上げるのは生理的にとても受け付けない害虫、もしかしたら、春と勘違いしたムカデでも現れたのかもしれない、などと思い、声の方に振り返ると、女性はこちらに走ってき、持っていた袋を私に手渡した.
一体どういうことだろう.
手に持った袋を見ると、それはピーナッツが入った袋であった.
彼女が来た方を見ると、野生の猿が、それも親子が、少し高い岩場に立ってこちらをじっと見ていた.
やがて親子はのそのそとこちらに寄ってきた.
普通なら檻越しに見るはずの動物が大変愛しらしい眼差しでこちらをじっと見ていた.
もちろん、手に持ったピーナッツ入り袋を、である.
なるほど、ここらの人はみんなお供え用にお菓子を持っている.
猿もそれを学習してしまったというわけらしい.
幸いこちらを襲うような気配もなく、また周りに人もいなかったので、私は木陰に近いところに誘導し、ピーナッツを少しばかり地面に撒いてみた.
小猿の方は大変嬉しそうにピーナッツに飛びついたが、親ザルの方はさすがに賢く、手の届くところにたまたまあった一個だけを拾うだけで、目線は尚も、私の手中の袋だった.
もっと持っているのだろう、袋ごと寄越せ.
そうはっきり訴えていたのが分かった.
その時だった.
住職が二人、一人はエアガンを持ち、一人は竹箒を持ってやってきた.
猿は一瞬で消え去ってしまった.
職業柄、殺すわけには行きませんからね、実質何もできませんよ、と笑って話していた.

## 日記

あまりにも退屈なので文字列をリバースしてSNSに書き込む遊びを発明した.

なうよのこ でいあぐ をじも てっう うこうと るあでのるす

ひらがなに変換をして文字単位でリバースする.
ただし文全体をいきなりリバースするのはさすがに頭の中でやるのは困難なので、フレーズごとということにした.
ただそれだけだ.
こんなことが楽しいと思えるくらいに退屈な時間を過ごしていたということだ.

ところで、
「Aを」
が
「をA」
となる.
つまり「を」という助詞を目的語の前に持ってくることになる.
これは全く、そういう文法の言語が発生してもおかしくないことだ.

言葉は文字として書かれる場合には多少文法は適当でもどうでもいいが、それよりも言葉は話し言葉であることが先立つから文法は上手に作られている必要がある.
つまり、話し言葉では文は頭から順に発声される.
例文として「私が殴る」を考える.
書かれたものを読むなら「が」を一目に入れることが出来るが、話し言葉では「わたし」と発声した後に「が」という助詞が伝えられる.
そして「が」が読まれて初めて「わたし」が主語であることがわかる.
それならば「が私」とか「を私」と言うように助詞を先に読んだ方が早いのではないか？ という疑問が湧く.

つまり私の主張はこうだ.
(文ごとに) 文字単位でリバースしたような言語が日本語であった世界もあったはずだ.
どうしてそうではないんだろう.

ところで言葉は書き言葉であるより前に話し言葉である、という考えが私にはずっとある.
つまり先頭から順に読んでいってパース出来なければおかしい.
もっと言うと人間の頭の空間計算量には $O(N)$ は難しすぎるとも思う.

それだけ.

## 日記

トリュフ塩の強すぎる香りは精神安定剤として働くと思う.
&lt;/code&gt;&lt;/pre&gt;
    </description>
    <pubDate>Mon, 25 Mar 2019 00:00:00 +0900</pubDate>
    <guid isPermaLink="true">https://cympfh.cc/taglibro/2019/03/25</guid>
  </item>
  <item>
    <title>Sun Mar 17 2019</title>
    <link>https://cympfh.cc/taglibro/2019/03/17</link>
    <description>
      &lt;pre&gt;&lt;code&gt;
## 日記

トポスが面白い.
集合を使って fuzzy な logic が出来る.
ところで集合よりもリッチな表現として層があり、そして圏がある.
トポスは層全体からなるような圏（実際には一般の圏で何でもいいみたい）でロジックをやる.

トポスの面白さの片鱗をお手軽に味わえる何かを書きたい.

対象（「対象」という語は適宜「集合」に読み替えて良い） $A$ について,
$c$ が $A$ の元であるとは,
$c$ が
$$c \colon 1 \to A$$
なる射であること.
これを
$$c \in A$$
と書く.

またここで $1$ とは次のような対象（集合）のこと.
任意の対象 $X$ について
$X \to 1$
なる射がちょうど一つだけ存在すること.
その射のことを $!$ と書く.
$$! \colon X \to 1$$

&gt; 今わたしは, ちょうど1つだと言った.
&gt; 従って $1 \to 1$ なる射はちょうど $!$ しかない.
&gt; $! \in 1$ であって, 他に元はない.
&gt; $1$ は対象であるが先に述べたように「集合」と読み替えると, 唯一の元を持つ集合だから, ちょうど **単集合** と呼ばれる概念と一致する.

射 $f$ が mono であるとは,
任意の $g,h$ について,
$$fg = fh \implies g=h$$
が成立するもののことを言う.
ここで $fg, fh$ は合成.

$A$ が $B$ の部分対象（部分集合）であるとは,
ある mono $A \to B$ が存在することを言う.
この部分対象の関係を
$$A \subset B$$
と書く.
またこの存在する mono のことを $i$ と書く.
$$i \colon A \to B$$

というわけで, $\in$ と $\subset$ を定義した.
今, $c \in A$ であって $A \subset B$ であるならば,
$ic \in B$
である.
そして $i$ は mono なので,
$A$ の2つの元 $c,d$ について
$$c \ne d (\in A) \implies ci \ne di (\in B)$$
が言える.
つまり $A$ で異なる元は $B$ でも異なる.
$ci$ や $di$ は $i$ を省略してそのまま $c,d$ と書いてしまうのが普通だろう.

1. 積の定義を書く.
1. $\delta_A \colon A \to A \times A$ を書く.
1. classifier を書く.
1. $(=)_A = cl(\delta_A)$

$=$ を定義するだけでもここまで書く必要がある (元はどうでもよかった).
&lt;/code&gt;&lt;/pre&gt;
    </description>
    <pubDate>Sun, 17 Mar 2019 00:00:00 +0900</pubDate>
    <guid isPermaLink="true">https://cympfh.cc/taglibro/2019/03/17</guid>
  </item>
  <item>
    <title>Thu Mar 14 2019</title>
    <link>https://cympfh.cc/taglibro/2019/03/14</link>
    <description>
      &lt;pre&gt;&lt;code&gt;
## 単語分散表現どうしの関係について

[arxiv:1902.09859](http://cympfh.cc/paper/1902.09859.html) の感想.

これはそれなりに強い３つの仮定を置いてるけど, ともかくそれらを認めると,
単語 $i$ にはある $d$ 次元実ベクトル $w_i \in \mathbb R^d$ が対応していて,
そして (単語に依らない) ある一つの $d \times d$ 行列 $Q$ があって,

単語 $j$ の周辺 (適当に決めたウィンドウサイズの中) に, 単語 $i$ が出現する確率は, 単語 $i$ が出現する確率 $p(i)$ を以て,
$$p(i|j) = p(i) \cdot \exp \left[ w_i^T Q^T w_j \right]$$
と表される.

ところで機能的によく似た語, 例えば walk と run の周辺にはそれなりに近い語が出てくるハズ...
ここでこの2単語にほぼほぼ関係なくて独立な語 $i$ を考える.
単語 $j$ の周辺, 単語 $k$ の周辺に単語 $i$ が出現する確率を考えると,
$p(i|j)$ や $p(i|k)$ は $p(i)$ であってほしい.
$$p(i|j) = p(i|k) = p(i)$$
値はどうでもよくて左２つの条件付き確率が等しい状況であれば何でも良い.
このことから,

- $w_i^T Q^T w_j = 0$
- $w_i^T Q^T w_k = 0$ (値は何でも良くて２つが等しい)

が成り立つ.
これの差を取ることで

- $w_i^T Q^T (w_j - w_k) = 0$

が言える.
$c_i = Q w_i$
と置くと (この $c$ は context vector のこと),
$(w_j - w_k)$
は $c_i$ に直交する方向のベクトルと言える.
一般に $d$ 次元ベクトル $c_i$ に直交するベクトルの自由度は $d-1$.
$w_j$ と $w_k$ の間の関係は自由度 $d-1$ だけある (あるいはそれ以下).

$c_\bot \in M_\bot ~ (M_\bot \simeq \mathbb R^{d-1}, M_\bot \subset \mathbb R^d)$ によって,
$$w_k = w_j + c_\bot$$
みたいな.

このような単語 $i$ がいくつも取れるのなら, その分だけ自由度を減らせる可能性はある.

### ところで,

- $w_i = A_{ij} w_j$
- $w_i = A_{ik} w_k$

という関係を置いたとき
(そういうような行列 $A_{i\cdot}$ はとりあえず何かはある),
$A_{ij}$
と
$A_{ik}$
との間に何か関係が言える気がする...
特に $j$ と $k$ がとても似ていて今述べたような関係で縛られている時,
$A_{ij}=A_{ik}$ になるみたいな.
完全に妄想だけど.

(いやさすがに $=$ にはならんやろ、アホか.)

$w_j^TA_{ij}^TQ^Tw_j$
という値を転置しても等しいので,
$$w_j^T ( A_{ij}^TQ^T - Q A_{ij}) w_j=0$$
これは $i,j$ の関係によらない.

さっきみたいに,
$$w_i^TQ^Tw_j = w_i^TQ^Tw_k$$
という仮定を置くと,
$$w_k^T (A_{ik}^TQ^T - QA_{ij}) w_j = 0$$

うーんって感じ.
&lt;/code&gt;&lt;/pre&gt;
    </description>
    <pubDate>Thu, 14 Mar 2019 00:00:00 +0900</pubDate>
    <guid isPermaLink="true">https://cympfh.cc/taglibro/2019/03/14</guid>
  </item>
  <item>
    <title>Wed Mar 13 2019</title>
    <link>https://cympfh.cc/taglibro/2019/03/13</link>
    <description>
      &lt;pre&gt;&lt;code&gt;
## 日記 - 2019/03/12

朝の五時半頃に起きて六時半ごろに家を出た.
東京駅にツイたのが七時少し前.
東京駅のみどりの窓口は朝の五時半に開くそうで、さすがだ.
窓際の席を確保するのに便を二本見送って乗り込んだ.
ところで駅弁を眺めていたら私と同様に眺める外国人のおっさんがいたのだが、見間違いでなければ知り合いだった.
でも向こうは私の顔に覚えがないようだったので無視した.

## 日記 - 2019/03/13

やはりお手軽ツールとして `fastText` をみんな使っていてよい.
私も好き.
facebook AI research は実は fastText の後に `StarSpace` というのも出していたそうで、それを使って実験をしてる人も一人だけいた.
そんなの全然聞いたことなかった.
どうもテキストだけでなく画像なんかにも使えるツールらしい.

ところで単語、ないしはワードピースの埋め込み表現として当然に数ベクトルを使う.
ユークリッド空間の中の点として扱えるのが嬉しいのだろう.
類似度には内積かユークリッド距離なんかが使えるのも分かりやすい.
足し算が出来ることはあまり使われない性質だけど、関係を見るのには使うらしい.
&quot;知識グラフの埋め込み&quot; というのは実質的に、関係を距離と思って距離学習をするような枠組みと一致するかもしれないと思った.

さて実際のNLPへの応用を考えると本当に欲しかったのは別に単語ベクトルではなく、文や文章のベクトルであってことを思い出す.
そういう場合に雑だがそれなりに効果があることもあるような方法として平均というのがある.
つまり文や文章は単語の列だと思えるから、各単語について単語ベクトルを取ってその平均を取る.
これは語順を考慮しないのである意味 Bag-of-Words のようなことをしてるようにも思える.

この至極単純な方法による文ベクトルの構成は,
長さの等しいベクトルは足せるという性質を使っているとも言える.
そして問題点は $u+v = v+u$ という可換性だと言った.
語順は可換ではないから, 明らかに単語の和を取る操作は文や語句の構成を表現していない.

というわけで行列を使う.
単語を $n \times n$ 行列で表現することを考える.
行列には積があってこれは非可換である.
これが語の合成に相当していたら間違いなく面白い.

行列の積という操作は
線形写像 $\mathbb R^n \to \mathbb R^n$ のことにほかならない.
つまり長さ $n$ のベクトルの左に行列を掛ければ, やはり長さ $n$ のベクトルを得る.
語が行列の場合, 何かがベクトルになって語はそれを変形するものとみなせる.

ベクトル同士の類似度には内積を取った.
行列同士の類似度は何で測るのが自然なんだろう.

あと行列の積の計算が遅いから (頑張っても $O(n^2.3737)$), 再現できても実用化シにくそう.

### 追記

計算量はまあどうでもいいとして (定数バイ増えるだけなので),
行列を掛けることは NN の言葉で言うと bias の無い全結合層のこと.
というわけで単語 $w$ を一つの全結合層 $L_w$ だと思うことにする.

入力は文脈.
文脈がわからないときは適当なゼロでない定数 $c$ を使う.
今までの単語分散表現 とは $L_w c$ のこと.
$c$ はなんでもいいので仮に $[1,0,\ldots,0]^T$ とすると,
$L_w$ の1行目に今までの結果を代入すればよい.
他の行は他の文脈でのベクトルと, また, 合成の仕方を表している.

単語列 $w_1, w_2, w_3, s_4$ について,
skip-gram 的に $w_2 w_3$ を学習するには
$$w_{23} = L_3 L_2 c$$
として,
このベクトルから $w_1, w_4$ を予測させればよい.
これは skip-gram の一般化になっている.
&lt;/code&gt;&lt;/pre&gt;
    </description>
    <pubDate>Wed, 13 Mar 2019 00:00:00 +0900</pubDate>
    <guid isPermaLink="true">https://cympfh.cc/taglibro/2019/03/13</guid>
  </item>
  <item>
    <title>Wed Mar 06 2019</title>
    <link>https://cympfh.cc/taglibro/2019/03/06</link>
    <description>
      &lt;pre&gt;&lt;code&gt;
## sed で加算をする

sed は文字列を処理する editor だから int も無いので当然加算も減算も無い.
けど文字列の操作でシミュレートすることは出来る.
今は10進数で0以上の整数だけを考える.

加算を今から実装したい.
いきなりは難しいのでまずは `+1` を実装する.

`123+1` を今 `123@` と書くことにする.
`@` という記号は、その手前の桁に `+1` するよというマークである.
だから例えば `123+10` は `12@3` と書ける.
これを使うと桁上がりが簡単に表現できて良い.

1つの非負整数が10進数で stdin から与えられるとする:

```bash
echo 1999 | sed ???
```

このときに、末尾に `@` を付け足せば表現としては正しく、可能ならばこの `@` を取り除くことで普通の算数の `+1` が出来る.
そして `@` の除去は普通に出来る.
つまり `0-8` の範囲で `0@..8@` があったら `1@..9@` に置換すればよい.
`9@` は桁上がりで `@0` になる.
また、最上位に `@` が来た場合は、仮想的に一番上の桁に `0` があるとして `1` に置換すればよい.

あとはこの置換を `@` がある間、ループしてあげればよくて結局

```sed
s/$/@/
:a
s/^@/1/
s/9@/@0/
s/8@/9/
s/7@/8/
s/6@/7/
s/5@/6/
s/4@/5/
s/3@/4/
s/2@/3/
s/1@/2/
s/0@/1/
/@/ba
```

となる.
確認をしたければ上を `add1.sed` などと保存して

```bash
   echo 1999 | sed -f add1.sed
2000
   seq 0 20 | sed -f add1.sed
1
.
.
21
```

と確認できる.

となると `-1` も難しくない.

今扱う数は非負整数だけなので `0-1 = 0` とすることにして、他は適当にやっぱり置換してあげればよい.
さっきは `@` を使ったので区別のために今度は `%` を使うことにする.
とすると気をつけるべきは `0%` で、これは `%9` にしてやる.
あとは入力が `1` 以上であるようにしてやれば問題は起きない.
というわけで

```sed
s/$/%/
:a
s/^0%$/0/g
s/0%/%9/
s/1%/0/
s/2%/1/
s/3%/2/
s/4%/3/
s/5%/4/
s/6%/5/
s/7%/6/
s/8%/7/
s/9%/8/
/%/ba
s/^0*//g
/^$/c0
```

これで良い.

以上で道具が揃ったので足し算が出来る.
入力は非負整数が空白区切りで入力されるとする.
1つめを `+1` して2つめを `-1` するのを2つめが `0` になるまで繰り返せば1つめが2つの和になっている.

```
n + m = (n+1) + (m-1)
n + 0 = n
```

このことと今さっき定義した `+1` と `-1` を組み合わせれば良い.
ただし `-1` する数は空白の後ろにあるようにするので少し修正する.

```sed
: loop

# 2つめが 0 なら1つめを出力して終了
/.* 0$/{
    s/ .*//
    b
}

# 1つめを +1, 2つめを -1 する
s/ /@ /
s/$/%/

# +1 の処理
: add1
s/^@/1/
s/9@/@0/
s/8@/9/
s/7@/8/
s/6@/7/
s/5@/6/
s/4@/5/
s/3@/4/
s/2@/3/
s/1@/2/
s/0@/1/
/@/b add1

# -1 の処理
: sub1
s/ 0%$/0/g
s/0%/%9/
s/1%/0/
s/2%/1/
s/3%/2/
s/4%/3/
s/5%/4/
s/6%/5/
s/7%/6/
s/8%/7/
s/9%/8/
/%/b sub1
s/ 0*/ /g
s/ $/ 0/g

# これを繰り返す
b loop
```

これを `add.sed` として,

```bash
   echo &quot;10 100&quot; | sed -f add.sed
110
   echo &quot;999 0&quot; | sed -f add.sed
999
   echo &quot;999 1&quot; | sed -f add.sed
1000
   echo &quot;999 2&quot; | sed -f add.sed
1001
```

良さそう.

###  A - はじめてのあっとこーだー（Welcome to AtCoder）

こいつを解いてみる:
[atcoder.jp/contests/practice/tasks/practice_1](https://atcoder.jp/contests/practice/tasks/practice_1)

3つの整数の和と、1つの文字列をそのまま出力すればよい.
文字列についてはともかく、和を出力しなければいけないので初心者殺しだ.
でも2つの和を得ることは出来たので、いい感じにやれば3つの和も得ることが出来るはずだ.

あとは入出力にだけ気をつければ

```sed
x
N
s/\n//

: loop1

/.* 0$/{
    s/ .*//
    b exit-loop1
}

s/ /@ /
s/$/%/

: add1
s/^@/1/
s/9@/@0/
s/8@/9/
s/7@/8/
s/6@/7/
s/5@/6/
s/4@/5/
s/3@/4/
s/2@/3/
s/1@/2/
s/0@/1/
/@/b add1

: sub1
s/ 0%$/0/g
s/0%/%9/
s/1%/0/
s/2%/1/
s/3%/2/
s/4%/3/
s/5%/4/
s/6%/5/
s/7%/6/
s/8%/7/
s/9%/8/
/%/b sub1
s/ 0*/ /g
s/ $/ 0/g

b loop1
: exit-loop1

G;s/\n/ /

: loop2

/.* 0$/{
    s/ .*//
    b exit-loop2
}

s/ /@ /
s/$/%/

: add1_2
s/^@/1/
s/9@/@0/
s/8@/9/
s/7@/8/
s/6@/7/
s/5@/6/
s/4@/5/
s/3@/4/
s/2@/3/
s/1@/2/
s/0@/1/
/@/b add1_2

: sub1_2
s/ 0%$/0/g
s/0%/%9/
s/1%/0/
s/2%/1/
s/3%/2/
s/4%/3/
s/5%/4/
s/6%/5/
s/7%/6/
s/8%/7/
s/9%/8/
/%/b sub1_2
s/ 0*/ /g
s/ $/ 0/g

b loop2
: exit-loop2

N
s/\n/ /g
```

![](https://i.imgur.com/XKnkmex.png)

お疲れ様でした.

## gsed has `e` flag in `s` command.

GNU sed の `s` コマンドはフラグに `e` というのを指定できる.

```bash
   echo 9 13
9 13

   echo 9 13 | sed &#39;s/\(.*\) \(.*\)/echo $((\1+\2))/&#39;
echo $((9+13))

   echo 9 13 | sed &#39;s/\(.*\) \(.*\)/echo $((\1+\2))/e&#39;
22
```

お疲れ様でした.
&lt;/code&gt;&lt;/pre&gt;
    </description>
    <pubDate>Wed, 06 Mar 2019 00:00:00 +0900</pubDate>
    <guid isPermaLink="true">https://cympfh.cc/taglibro/2019/03/06</guid>
  </item>
  <item>
    <title>Fri Mar 01 2019</title>
    <link>https://cympfh.cc/taglibro/2019/03/01</link>
    <description>
      &lt;pre&gt;&lt;code&gt;
## 日記 - vim, terminal, ipython

言ってしまえばこのようなことがしたかった:

&lt;blockquote class=&quot;imgur-embed-pub&quot; lang=&quot;en&quot; data-id=&quot;a/Sh0LD9Z&quot;&gt;&lt;a href=&quot;//imgur.com/Sh0LD9Z&quot;&gt;&lt;/a&gt;&lt;/blockquote&gt;&lt;script async src=&quot;//s.imgur.com/min/embed.js&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt;

### 試み1: [cympfh/htty](https://github.com/cympfh/htty)

これはサーバとして動いてREPLを子プロセスに持つ.
REPLのstdioをhttpでやる.

良さ. エディタと独立して動くので, vim はいつでも閉じていいし, また好きなタイミングでいくつでもアタッチできる.
エディタを使わなくても curl でコマンドを送っても良い.

良くなさ. セキュリティガン無視. バグってる (物によってはstdioが利用できない. ipython は使えるけど python は使えなかった).
複数REPLを起動したらいちいちどこに送るかをポートで管理する必要がある.
エディタで例えば、「コードを選択してショートカットキーを押したらバッファを送信する」ことをしたいが、どこに送るかを選ぶ機構が必要になる.

### 試み2 `:terminal`

vim8.1から (正確には vim8.0 からだが非推奨) `:terminal` コマンドが生えて、ターミナルを起動するバッファが開く.
デフォルトではシェルが起動し、`:terminal ipython` などとして自由なREPLが起動できる.
そのままでは単にvimの中にターミナルが開いたくらいで、GNU terminal や tmux くらいの良さしかない.

vim のバッファの中の文字列をターミナルに送れたら便利だ.

https://stackoverflow.com/questions/49318522/send-buffer-to-a-running-terminal-window-in-vim-8

にその方法の例が示してあった.
というわけで私も `.vimrc` に以下を追加した:

https://github.com/cympfh/dots/commit/98fa73bbaa67558cfe586980318d338168658526

良さ. バグってない (バグってもコミュニティにサポートされる).
例えばタブごとに `:terminal` すれば複数REPLを立ち上げておいて, それでバッファを送信する先も,
「今見えてるターミナル」
になるので分かりやすい.
いちいちショートカットキーを変えなくてもいいし.

良くなさ. 立ち上げた vim はRPELを落としたくない限り落とせない. またそのvimに入らないとバッファは送れない.

#### メモ

ipython は偉くて、エディタがやるように勝手にインデントの挿入をしてくれる
(例えば `def f():` の次の行は必ずインデントされるはずだからインデントしてくれる).
なので例えばvimから

```
def f():
    pass
```

というバッファを送ると、ipythonがしてくれるインデントの後ろにさらにインデントを送ることになる.
if 文など書くとたぶんこじれるので `:terminal ipython --no-autoindent` で起動しておくとこれが防げる.

## 日記 - アインシュタインの規約

というものがある.

2つの長さの等しい有限の数列
$\{a^1, a^2, \ldots, a^n\}$
$\{b_1, b_2, \ldots, b_n\}$,
があるとする.
ここで $a^i$ の $i$ は $b_i$ の $i$ と同様に添え字であって, べき乗などではない
(添字が上にあるか下にあるかは重要).
これらについて
$$\sum_i a^i b_i$$
という値に興味があり, この式が頻出するとする.
こういう場合に, $\sum$ の記号を省略して,
$$a^i b_i$$
と書く.
これをアインシュタインの規約という.

約束としては, (自由変数でもないのに) 上と下にペアで添字が出てきたら, それについて和を取っているものとして読む.
またペアは和について分配する.
つまり
$$a_i (x^i + z^i)$$
は
$$a_i x^i + a_i z^i$$
のこと.
さらにこれは項ごとに和を取ってるので項ごとに $i$ という添字をリネームしてしまっても構わないはずだ.
$$a_j x^j + a_k z^k$$
というふうに (ここに $j,k$ は他に出現しない, しても干渉してないとする).

ただし添字がちょうどペアになっていなかったらおかしい.
例えば
$$a_i x^i z^i$$
はおかしい (このようなものが出てこない計算をする).

この記法が良いのは, 単純に $\sum$ を書かない分紙面が省略できることもあるが, それ以上に,
また添字に関するバグが早めに検知できることがある.
上に書いたような $a_i x^i z^i$ とか $x^i z^i$ とかが出てきたらおかしい.
あるいは自由変数でもないのに $i$ が一回だけしか登場してなかったらもちろんおかしい.

実は上付きの添字は行ベクトルで, 下付きの添字は列ベクトルを表してる, と考えている (行と列はどっちでもよくて本質ではないけど).
つまり $i=1,2,\ldots,n$ だとして $a^i$ とは
$$\left[ a^1, a^2, \ldots, a^n \right]$$
のことで
$b_i$ とは
$$\left[\begin{array}{c}
b_1\\ b_2 \\ \vdots\\ b_n
\end{array}\right]$$
のこと.
そして
$a^i b_i$ とはこの２つのベクトルの掛け算 (つまり内積) のこと.

話はもっと一般的で, 添字が２つなら行列と考えて差し支えない.
例えば
$$a^i x_i^j b_j$$
は
$$\left[ a^1, a^2, \ldots, a^n \right]
\left[\begin{array}{ccc}
x^1_1 &amp; \ldots &amp; x^1_n \\
\vdots &amp; (x^i_j) &amp; \vdots \\
x^n_1 &amp; \ldots &amp; x^n_n
\end{array}\right]
\left[\begin{array}{c}
b_1\\ b_2\\ \vdots\\ b_n
\end{array}\right]$$
を表している.

要は「各indexについて成り立っている等式」を頭の中で行列の演算に書き換えている.
添字はより増えても構わない.
$$x^i z^j \xi^k \Gamma_{ijk}^\ell$$
このような $\Gamma$ はもはや行列では表現できなくて, テンソルと呼ばれる.
特に上に添字が 1 つあって下に添え字が 3 つあるので $(1,3)$-型テンソルと呼ばれる.
&lt;/code&gt;&lt;/pre&gt;
    </description>
    <pubDate>Fri, 01 Mar 2019 00:00:00 +0900</pubDate>
    <guid isPermaLink="true">https://cympfh.cc/taglibro/2019/03/01</guid>
  </item>
  <item>
    <title>Wed Feb 27 2019</title>
    <link>https://cympfh.cc/taglibro/2019/02/27</link>
    <description>
      &lt;pre&gt;&lt;code&gt;
## SNSのやめかた

1. みんなに発言しないでもらう
    - したその場で発言を消してもらうなど
2. みんなの発言をみない
3. 自分が発言しない

3を実践する.
発言してもその場から消えるようにする.
まだ他の人間の発言はタイムラインに流れるし、その気になれば自分も発言出来るので弱い.

## Slack stars remove

それなりに権限のある token `$TOKEN` を用意する

```bash
# secret token
TOKEN=xoxp-000000000000-000000000000-000000000000-eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee

# star の取得
curl &quot;https://slack.com/api/stars.list?token=$TOKEN&quot; &gt;stars.json

# 使用例: star の発言の中で url らしい文字列だけ書き出す
cat stars.json | jq -r &#39;.items[].message.text&#39; | grep -o &#39;&lt;http.*&gt;&#39; | tr -d &#39;&lt;&gt;&#39; &gt; stars.txt
wget -i stars.txt

# star を全て削除
jq -r &#39;.items[].message.ts&#39; stars.json | sed &quot;s#.*#curl -XPOST https://slack.com/api/stars.remove?token=$TOKEN\&amp;channel=C9DR1LWM6\&amp;timestamp=&amp;#g&quot;
```

## 日記

お土産？に塩を貰った.
2つあり、瓶入りの燻製塩とトリュフ塩とがある.
どちらも大変香りが強くてそのまま食べるには刺激的過ぎるので料理に使ってる.
特にトリュフ塩がすごい.
お吸い物にこれを入れると一気に味が出る.
&lt;/code&gt;&lt;/pre&gt;
    </description>
    <pubDate>Wed, 27 Feb 2019 00:00:00 +0900</pubDate>
    <guid isPermaLink="true">https://cympfh.cc/taglibro/2019/02/27</guid>
  </item>
  <item>
    <title>Tue Feb 26 2019</title>
    <link>https://cympfh.cc/taglibro/2019/02/26</link>
    <description>
      &lt;pre&gt;&lt;code&gt;
## 日記

会社でやってる数学ゼミで 2018/02/19 に「層・圏・トポス」を読み始めてからほぼちょうど一年が経ち、ついに第2章の圏を読み終えた.
この本は何故か「圏を学ぶための本」の文脈で批評されることもあるが、そうではなく、この本の主目的は論理学の研究であって、
そのための道具として層を学び圏を学びトポスを定義してそうして初めて論理学が始まるという本である.
つまり、一年を掛けてその必要な3つの道具の最初の2つをようやく学んだに過ぎないので、ここから読み終えるのにまた一年掛っても驚かない.

ここまで読んだ感想だが、竹内外史はなかなかいい加減な人だと思う.
記号は乱暴だし (或いは古臭いし)、まれに思いっきり嘘な内容が書かれてることもある.
全くの初学者だけで読むと間違いなく挫折すると思う.
これを読み終えないと、会社が辞められないので困っている.
&lt;/code&gt;&lt;/pre&gt;
    </description>
    <pubDate>Tue, 26 Feb 2019 00:00:00 +0900</pubDate>
    <guid isPermaLink="true">https://cympfh.cc/taglibro/2019/02/26</guid>
  </item>
  </channel>
</rss>
