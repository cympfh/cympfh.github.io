<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="pandoc">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
  <title>坪井 多様体 §8 - 多様体の上のベクトル場</title>
  <style type="text/css">code{white-space: pre;}</style>
  <link rel="stylesheet" href="../resources/css/c.css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<header>
<h1 class="title">坪井 多様体 §8 - 多様体の上のベクトル場</h1>
</header>
<p class="date" style="text-align: right">
2017-09-30 (Sat.)
</p>
<div class="is-pulled-right">
<p><a class='tag is-red' href=index.html#数学>数学</a> <a class='tag is-red' href=index.html#幾何学>幾何学</a></p>
</div>
<h2 id="index">index</h2>
<div id="toc">

</div>
<h2 id="ベクトルベクトル場に沿う偏微分">ベクトル、ベクトル場に沿う偏微分</h2>
<p>多様体 <span class="math inline">\(M\)</span> の上の実関数 <span class="math inline">\(f : M \to \mathbb{R}\)</span> とあるベクトル <span class="math inline">\(X \in T_xM\)</span> があり、 <span class="math inline">\(X\)</span> を成分表示すると <span class="math inline">\(X = \sum_i \xi_i \frac{\partial}{\partial x_i}\)</span> であるとき、 <span class="math inline">\(f\)</span> の (点 <span class="math inline">\(x\)</span> での) <span class="math inline">\(X\)</span> での微分を <span class="math display">\[Xf \equiv \sum_i \xi_i \frac{\partial f}{\partial x_i}\]</span> と定める.</p>
<p>同様に、ベクトル場 <span class="math inline">\(X(x)\)</span> での微分を <span class="math inline">\(X(x) = \sum_i \xi_i(x) \frac{\partial}{\partial x_i}\)</span> に対して <span class="math display">\[Xf \equiv \sum_i \xi_i(x) \frac{\partial f}{\partial x_i}\]</span> で定める.</p>
<p>個々の値は座標のとり方で変わるが、全体 (<span class="math inline">\(Xf\)</span>) は変わらないことに註意.</p>
<h3 id="定理">定理</h3>
<span class="math inline">\(Xf\)</span> に就いて、次が成立する.
<div class="thm">
<p><span class="math display">\[\frac{d}{dt} f(F_t(x)) = Xf(F_t(x))\]</span></p>
</div>
<p>右辺に定義の式を代入することで確認する. <span class="math inline">\(y=F_t(x)\)</span> とおくと、 <span class="math display">\[\begin{align*}
X(y)
&amp; = \left( \frac{dF_t}{dt} \circ F_t^{-1} \right) (y) \\
&amp; = \frac{dF_t}{dt} \left( F_t^{-1}(y) \right) \\
&amp; = \sum_i \left( \frac{dF_t}{dt} \left( F_t^{-1}(y) \right) \right)_{.i} \frac{\partial}{\partial y_i} \\
&amp; = \sum_i \left( \frac{dF_t}{dt} (x) \right)_{.i} \frac{\partial}{\partial y_i}
\end{align*}\]</span> ここで <span class="math inline">\(\_.i\)</span> はタプルの第 <span class="math inline">\(i\)</span> 成分への射影関数.</p>
<p>とベクトルは表現されるので、これに対して <span class="math display">\[\begin{align*}
Xf(y)
&amp; = \sum_i \left( \frac{dF_t}{dt} (x) \right)_{.i} \frac{\partial f}{\partial y_i}(y) \\
&amp; = \sum_i \left( \frac{d y_i}{dt} \right) \frac{\partial f}{\partial y_i}(y) \\
&amp; = \frac{d f(y)}{dt} \\
&amp; = \frac{d f(F_t(x))}{dt}
\end{align*}\]</span></p>
<p>と確認できた. この定理を座標を決めない場合の <span class="math inline">\(Xf\)</span> の定義とする.</p>
<h3 id="問-8.1.2">問 8.1.2</h3>
<p>コンパクト多様体の上のベクトル場 <span class="math inline">\(X\)</span> と実関数 <span class="math inline">\(f\)</span> について <span class="math inline">\(Xf=f\)</span> が成り立っているとする.</p>
<p>まず、コンパクト性故 <span class="math inline">\(f(X) \subset \mathbb{R}\)</span> もまたコンパクトであるが、 実空間のコンパクト部分集合は有界である. すなわち、最小元と最大元を持つ.</p>
<p>次に <span class="math inline">\(Xf=f\)</span> について調べる. これもコンパクト性故 <span class="math inline">\(X\)</span> によって生成されるフロー <span class="math inline">\(F_t\)</span> が存在する. 点 <span class="math inline">\(x=F_t(y)\)</span> について、 <span class="math display">\[\begin{align*}
f(F_t(y))
&amp; = Xf(F_t(y)) \tag{仮定より} \\
&amp; = \frac{d}{dt}f(F_t(y)) \tag{定理}
\end{align*}\]</span></p>
<p>今、点 <span class="math inline">\(y\)</span> を固定して <span class="math inline">\(f(F_t(y))\)</span> を <span class="math inline">\(t\)</span> の関数 <span class="math inline">\(g(t)\)</span> とみなせば、 <span class="math display">\[g(t) = \frac{d}{dt}g(t)\]</span> を得たことになる. この微分方程式を解けば <span class="math display">\[g(t) = A \exp(t)\]</span> ちなみに初期値は <span class="math inline">\(g(0)=f(F_0(y))=f(y)\)</span>. 以上から <span class="math display">\[f(F_t(y)) = f(y) \exp(t)\]</span> を得る. ところで <span class="math inline">\(t\)</span> は <span class="math inline">\(\mathbb{R}\)</span> 全体を取り得るが、このままだと <span class="math inline">\(f(F_t(y))\)</span> の取り得る値の範囲は <span class="math inline">\(f(y)&gt;0\)</span> なら <span class="math inline">\((0,\infty)\)</span> となる. これは先程の <span class="math inline">\(f\)</span> は最大元を持つという事実と反する. 同様に最小限を持つ事実も考慮すると、結局 <span class="math inline">\(f(y)=0\)</span> である必要があり、 <span class="math display">\[f(F_t(y)) = 0\]</span> が言える.</p>
<p>任意の <span class="math inline">\(y\)</span> について同じことが言えるので結局 <span class="math display">\[f(x)=0\]</span> が言える.</p>
<h2 id="フローとベクトル場">フローとベクトル場</h2>
<p>普通の偏微分 <span class="math inline">\(\frac{\partial}{\partial x_i}\)</span>, <span class="math inline">\(\frac{\partial}{\partial x_j}\)</span> は可換で、 <span class="math inline">\(\frac{\partial^2 f}{\partial x_i \partial x_j} = \frac{\partial^2 f}{\partial x_j \partial x_i}\)</span> が一般に成立する. 先程見たベクトル場に沿う偏微分について同じことは言えるだろうか. すなわち、 <span class="math display">\[X(Yf) =^? Y(Xf)\]</span> だろうか.</p>
<h3 id="ブラケット積">ブラケット積</h3>
<p><span class="math inline">\(M\)</span> 上の2つのベクトル場 <span class="math inline">\(X,Y\)</span> がそれぞれ <span class="math inline">\(F_t, G_s\)</span> というフローを生成するとする. <span class="math inline">\((F_t)_*\)</span> は単に <span class="math inline">\(TM\to TM\)</span> の接写像だが、 次のようなベクトル場への作用 <span class="math display">\[(F_t)_*Y : M \to TM\]</span> <span class="math display">\[x \mapsto (F_t)_* ( Y( F_{-t}(x) ))\]</span> を定める. すなわち、 <span class="math display">\[((F_t)_* Y)(x) = (F_t)_*(Y(F_{-t}(x))).\]</span> <span class="math inline">\(t\)</span> を <span class="math inline">\(-t\)</span> に置き換えて、 <span class="math display">\[((F_{-t})_* Y)(x) = (F_{-t})_*(Y(F_t(x))).\]</span> 右辺をよく見るとこのベクトルは <span class="math inline">\(x\)</span> から生えているので <span class="math inline">\(\in T_xM\)</span> である.</p>
<p>適当な座標を与えて、</p>
<ul>
<li><span class="math inline">\(X(x) = \sum_i X_i(x) \frac{\partial}{\partial x_i}\)</span></li>
<li><span class="math inline">\(Y(x) = \sum_i Y_i(x) \frac{\partial}{\partial x_i}\)</span></li>
<li><span class="math inline">\(F_t = (x_1^t, \ldots, x_m^t)\)</span>
<ul>
<li><span class="math inline">\(x_i^t : \mathbb{R}^m \to \mathbb{R}\)</span></li>
</ul></li>
</ul>
<p>と書き直す.</p>
<p><span class="math display">\[\begin{align*}
((F_{-t})_* Y)(x)
&amp; = (F_{-t})_*(Y(F_t(x))) \tag{先の式} \\
&amp; = (F_{-t})_* \sum_i \left( Y_i(F_t(x)) \frac{\partial}{\partial x_i} \right) \tag{$Y$ の座標表示} \\
&amp; = \sum_i \left( Y_i(F_t(x)) (F_{-t})_*\left(\frac{\partial}{\partial x_i} \right)\right) \tag{ベクトル線形性} \\
&amp; = \sum_i Y_i(F_t(x)) \sum_j \left(D(F_{-t})\right)_{i,j} \frac{\partial}{\partial x_j} \tag{ヤコビアン行列} \\
&amp; = \sum_i Y_i(F_t(x)) \sum_j \frac{\partial x_j^{-t}}{\partial x_i} \frac{\partial}{\partial x_j} \\
&amp; = \sum_{i,j} Y_i(F_t(x)) \frac{\partial x_j^{-t}}{\partial x_i} \frac{\partial}{\partial x_j}
\end{align*}\]</span></p>
<p><span class="math inline">\(x\)</span> を固定して、<span class="math inline">\(t\)</span> で微分する</p>
<p><span class="math display">\[\begin{align*}
\frac{d}{dt} ((F_{-t})_* Y)(x)
&amp; = \sum_{i,j} \left[
\frac{d}{dt} Y_i(F_t(x)) \frac{\partial x_j^{-t}}{\partial x_i} \frac{\partial}{\partial x_j}
+
Y_i(F_t(x)) \frac{d}{dt}\frac{\partial x_j^{-t}}{\partial x_i} \frac{\partial}{\partial x_j}
\right] \\
&amp; = \sum_{i,j} \left[
\sum_k \frac{\partial Y_i}{\partial x_k} \frac{\partial x_k^t}{\partial t} \frac{\partial x^{-t}_j}{\partial x_i} \frac{\partial}{\partial x_j}
+
Y_i(F_t(x)) \frac{\partial}{\partial x_i} \frac{\partial x_j^{-t}}{\partial t} \frac{\partial}{\partial x_j}
\right] \\
\end{align*}\]</span></p>
<p><span class="math inline">\(\frac{\partial x_j^{-t}}{\partial t}\)</span> について. <span class="math inline">\(F_t\)</span> は <span class="math inline">\(X\)</span> のフローなので、 <span class="math inline">\(X = \frac{\partial F_t}{\partial t} \circ F_{-t}\)</span> (生成するフローの定義). 逆向きのフローを考えれば (<span class="math inline">\(F_t \mapsto F_{-t}\)</span>)、 <span class="math inline">\(-X = \frac{\partial F_{-t}}{\partial t} \circ F_{t}\)</span>. <span class="math inline">\(-X \circ F_{-t} = \frac{\partial F_{-t}}{\partial t}\)</span>. <span class="math inline">\(j\)</span> 番目の成分だけ取って <span class="math inline">\(-X_j \circ F_{-t} = \frac{\partial x^{-t}_j}{\partial t}\)</span>.</p>
<p>これを用いて、</p>
<p><span class="math display">\[\frac{d}{dt} ((F_{-t})_* Y)(x) =
\sum_j\left[
\sum_{i,k}
\frac{\partial Y_i}{\partial x_k} \frac{\partial x_k^t}{\partial t}
\frac{\partial x^{-t}_j}{\partial x_i}
-
\sum_i
Y_i(F_t(x)) \frac{\partial}{\partial x_i}(X_j(F_{-t}(x)))
\right]\frac{\partial}{\partial x_j}\]</span></p>
<p>この <span class="math inline">\(t=0\)</span> での微分値を考える. <span class="math display">\[\left.\frac{\partial x^t_k}{\partial t} \right|_{t=0}=X_j\]</span> <span class="math display">\[\left. F_t(x) \right|_{t=0}=x,
\left. F_{-t}(x) \right|_{t=0}=x\]</span> なので</p>
<p><span class="math display">\[\begin{align*}
\left.\frac{d}{dt}\right|_{t=0} ((F_{-t})_* Y)(x)
&amp;=
\sum_j\left[
\sum_{i,k}
\frac{\partial Y_i}{\partial x_k} X_k(x)
\delta_{i,j}
-
\sum_i Y_i(x) \frac{\partial X_j}{\partial x_i}
\right]\frac{\partial}{\partial x_j}
\\
&amp;=
\sum_j\left[
\sum_k
\frac{\partial Y_j}{\partial x_k} X_k(x)
-
\sum_i Y_i(x) \frac{\partial X_j}{\partial x_i}
\right]\frac{\partial}{\partial x_j}
\\
\end{align*}\]</span></p>
<p>この値を <span class="math inline">\(\left[X,Y\right]\)</span> と書いて、 <span class="math inline">\(X,Y\)</span> のブラケット積 (括弧積) と呼ぶ.</p>
<div class="thm">
<h4 id="定義">定義</h4>
<p>2つのベクトル場 <span class="math inline">\(X,Y\)</span> の <strong>ブラケット積</strong> とは <span class="math inline">\(X\)</span> が生成するフローを <span class="math inline">\(F_t\)</span> とするとき、 <span class="math display">\[\begin{align*}
\left[ X,Y \right]
&amp; \equiv
\left.\frac{d}{dt}\right|_{t=0} ((F_{-t})_* Y)(x) \\
&amp; =
\sum_j\left[
\sum_k \frac{\partial Y_j}{\partial x_k} X_k(x)
- \sum_i Y_i(x) \frac{\partial X_j}{\partial x_i}
\right]\frac{\partial}{\partial x_j}
\end{align*}\]</span></p>
</div>
<p>ブラケット積もまたベクトル場になっている.</p>
<div class="thm">
<h4 id="諸性質">諸性質</h4>
<ul>
<li>交代性: <span class="math inline">\(\left[ X,Y \right] = - \left[ Y,X \right]\)</span></li>
<li>線形性: <span class="math inline">\(\left[ kX,Y\right] = k\left[ X,Y \right]\)</span></li>
</ul>
<p>これらは定義から容易にわかる.</p>
</div>
<p>関数 <span class="math inline">\(f: M \to \mathbb{R}\)</span> に対して <span class="math inline">\(M\)</span> 上のベクトル場 <span class="math inline">\(X\)</span> で <span class="math display">\[Xf : M \to \mathbb{R}\]</span> が定まることは前の章で述べた.</p>
<div class="thm">
<h4 id="定理-1">定理</h4>
<p><span class="math display">\[\left[X,Y\right]f = X(Yf) - Y(Xf)\]</span></p>
<p>これは正に初めに述べた、 ベクトル場に沿った微分の可換性についての答えになっている.</p>
<h4 id="証明">証明</h4>
<p>ほぼほぼ、定義のまま.</p>
<p><span class="math display">\[\begin{align*}
\left[X,Y\right]f
&amp; =
\sum_j\left[
\sum_k \frac{\partial Y_j}{\partial x_k} X_k
- \sum_i Y_i \frac{\partial X_j}{\partial x_i}
\right]\frac{\partial f}{\partial x_j} \\
&amp; =
\sum_k X_k \frac{\partial}{\partial x_k} (Yf)
- \sum_i Y_i \frac{\partial}{\partial x_i} (Xf) \\
&amp; =
X(Yf)-Y(Xf)
\end{align*}\]</span></p>
</div>
<div class="thm">
<h4 id="ヤコビ恒等式">ヤコビ恒等式:</h4>
<p><span class="math display">\[\left[\left[ X,Y \right], Z \right] +\left[\left[ Y,Z \right], X \right] +\left[\left[ Z,X \right], Y \right]=0\]</span></p>
<h4 id="証明-1">証明</h4>
<p>ベクトル場 <span class="math inline">\(K\)</span> がゼロであることを示すのに、一般の関数 <span class="math inline">\(f\)</span> に対して <span class="math display">\[Kf=0\]</span> であるのを示せばよい. 直前の定理を用いて <span class="math display">\[\left[\left[ X,Y \right], Z \right]f+\left[\left[ Y,Z \right], X \right]f+\left[\left[ Z,X \right], Y \right]f = 0\]</span> を言えばよい. 式展開するだけなので略.</p>
</div>
<h3 id="例">例</h3>
<p>多様体 <span class="math inline">\(M=\mathbb{R}^2\)</span> の上の2つのベクトル場 <span class="math inline">\(X=\frac{\partial}{\partial x_1}\)</span>, <span class="math inline">\(Y=x_1 \frac{\partial}{\partial x_2}\)</span> を考える. 2つが生成するフローはそれぞれ</p>
<ul>
<li>by <span class="math inline">\(X\)</span>
<ul>
<li><span class="math inline">\(F_t(x_1, x_2) = (x_1 + t, x_2)\)</span></li>
</ul></li>
<li>by <span class="math inline">\(Y\)</span>
<ul>
<li><span class="math inline">\(G_s(x_1, x_2) = (x_1, x_2 + x_1s)\)</span></li>
</ul></li>
</ul>
<p>ブラケット積を定義どおり素朴に算出してみる. <span class="math display">\[\begin{align*}
Y(F_t(x)) &amp; = Y(x_1+t, x_2) \\
          &amp; = (x_1+t) \frac{\partial}{\partial x_2} \\
(F_{-t})_* (Y(F_t(x))) &amp; = (x_1+t) \frac{\partial}{\partial x_2} \\
\left.\frac{d}{dt}\right|_{t=0} &amp; = \frac{\partial}{\partial x_2}
\end{align*}\]</span> というわけで <span class="math inline">\(X,Y = \frac{\partial}{\partial x_2}\)</span> が確認できた.</p>
<p>次に交代した <span class="math inline">\([Y,X]\)</span> を今度も定義から素朴に計算してみる.</p>
<p><span class="math display">\[\begin{align*}
X(G_s(x)) &amp; = \frac{\partial}{\partial x_1} \\
(G_{-s})_* (X(G_s(x))) &amp; =
    \left[\begin{array}{cc} 1 &amp; 0 \\ -s &amp; 1 \end{array}\right]
    \left[\begin{array}{c} 1 \\ 0 \end{array}\right] \\
    &amp; =
    \left[\begin{array}{c} 1 \\ -s \end{array}\right] \\
    &amp; =
    \frac{\partial}{\partial x_1} -s \frac{\partial}{\partial x_2} \\
\left.\frac{d}{dt}\right|_{t=0}
    &amp; = -\frac{\partial}{\partial x_2}
\end{align*}\]</span> というわけで確かに <span class="math inline">\([Y,X] = - [X,Y]\)</span> であることが確認できた.</p>
<h2 id="例題-8.2.6">例題 8.2.6</h2>
<p>Lie群 <span class="math inline">\(G\)</span> について.</p>
<h3 id="section">(1)</h3>
<p><span class="math inline">\(G\)</span> 上の左不変ベクトル場とは、 <span class="math display">\[\forall g \in G, (L_g)_* \xi = \xi\]</span> なる <span class="math inline">\(\xi\)</span> である. ただしここで <span class="math inline">\(L_g\)</span> とは <span class="math inline">\(L_g(h)=gh : G \to G\)</span> なる関数のことであった.</p>
<p>また、接写像のベクトル場への作用とは、次のようなものであった. <span class="math display">\[\color{red}{((L_g)_* \xi)} \left( L_g(h) \right) \equiv (L_g)_* \left( \xi(h) \right)\]</span> この <span class="math inline">\(\xi\)</span> が左不変ベクトル場であるとき、 <span class="math display">\[\begin{align*}
(L_g)_* \left( \xi(h) \right)
&amp; = \color{red}{((L_g)_* \xi)} \left( L_g(h) \right) \\
&amp; = \xi (L_g(h)) \\
&amp; = \xi(gh)
\end{align*}\]</span></p>
<p>ここで <span class="math inline">\(h\)</span> に単位元 <span class="math inline">\(1\in G\)</span> を代入することで <span class="math display">\[\xi(g) = (L_g)_* (\xi(1)) \tag{1.1}\]</span> を得る. ここで右辺を見ると、<span class="math inline">\(\xi\)</span> に依存して存在する値は <span class="math inline">\(\xi(1)\)</span> のみであるから、 結局、任意の <span class="math inline">\(\xi(g)\)</span> の値は <span class="math inline">\(\xi(1)\)</span> だけに依存して決定する.</p>
<p>すなわち、 この等式 (1.1) によって、 左不変ベクトル場について、 <span class="math inline">\(\xi \mapsto \xi(1)\)</span> という写像が単射であることが言える.</p>
<p>逆に、等式 (1.1) によって、<span class="math inline">\(\xi(1)\)</span> の値と <span class="math inline">\(L_g\)</span> で、ベクトル場 <span class="math inline">\(\xi\)</span> を構成することが出来る. そしてそうやって構成したベクトル場は左不変である.</p>
<p><span class="math display">\[\begin{align*}
\color{red}{((L_g)_* \xi)} \left( L_g(h) \right)
&amp; = (L_g)_* \left( \xi(h) \right) \\
&amp; = (L_g)_* \left( (L_h)_* \xi(1) \right) \\
&amp; = (L_{gh})_* \left( \xi(1) \right) \\
&amp; = \xi(gh) \\
&amp; = \xi(L_g(h)) \\
\end{align*}\]</span></p>
<p>これが任意の <span class="math inline">\(L_g(h) (=gh)\)</span> の値に対して成り立つので <span class="math inline">\((L_g)_* \xi = \xi\)</span> が成り立つ. 即ち <span class="math inline">\(\xi\)</span> は左不変である.</p>
<p>このような左不変ベクトル場全体を Lie 環 (或いは Lie 代数) <span class="math inline">\(\mathfrak{g}\)</span> という.</p>
<p>左不変ベクトル場は今見てきたように、<span class="math inline">\(1 \in G\)</span> でのベクトルで決まるから、 <span class="math inline">\(\mathfrak{g}\)</span> は <span class="math inline">\(T_1G\)</span> と同型であることが分かる.</p>
<div class="thm">
<h4 id="remark">Remark</h4>
<p><span class="math display">\[\mathrm{dim}~\mathfrak{g} = \mathrm{dim}~G\]</span></p>
</div>
<h3 id="thm">Thm</h3>
<p>左不変ベクトル場 <span class="math inline">\(\xi\)</span> が生成するフローを <span class="math inline">\(\varphi_t\)</span> とする. このとき、 <span class="math inline">\(L_g \circ \varphi_t \circ L_g^{-1}\)</span> というフローは実は <span class="math inline">\(\varphi_t\)</span> と一致する. これを確認するため、逆にこれを生成するベクトル場を算出する.</p>
<p><span class="math display">\[\begin{align*}
\left( \left. \frac{d}{dt} \right|_{t=0} L_g \circ \varphi_t \circ L_g^{-1} \right)
\left( L_g \circ \varphi_t \circ L_g^{-1} \right)^{-1} (h)
&amp; =
\left( \left. \frac{d}{dt} \right|_{t=0} L_g \circ \varphi_t \circ L_g^{-1} \right)
\left( L_g \circ \varphi_t^{-1} \circ L_g^{-1} \right) (h) \\
&amp; =
\left( \left. \frac{d}{dt} \right|_{t=0} L_g \circ \varphi_t \right)
\varphi_t^{-1}(g^{-1}h) \\
&amp; =
(L_g)_* \frac{d \varphi_t}{dt}
\varphi_t^{-1}(g^{-1}h)
\tag{接射像の定義} \\
&amp; =
(L_g)_* \left( \xi (g^{-1}h) \right)
\tag{フローの生成} \\
&amp; =
\xi(h) \tag{左不変性} \\
\end{align*}\]</span></p>
<p>一番最後のは、 <span class="math inline">\(\xi(h) = ((L_g)_* \xi)(h) = (L_g)_* (\xi (L_g^{-1}(h)))\)</span> を用いた.</p>
<p>というわけで、 2つのフロー <span class="math inline">\(\varphi_t\)</span> と <span class="math inline">\(L_g \circ \varphi_t \circ L_g^{-1}\)</span> を生成するベクトル場はどちらも <span class="math inline">\(\xi\)</span> である. 従って２つは一致する.</p>
<div class="thm">
<p><span class="math display">\[L_g \circ \varphi_t \circ L_g^{-1} = \varphi_t \tag{$\ast$}\]</span></p>
</div>
<h3 id="section-1">(2)</h3>
<p>2つの左不変ベクトル場 <span class="math inline">\(\xi, \eta \in \mathfrak{g}\)</span> が生成するフローをそれぞれ <span class="math inline">\(\varphi_t, \psi_t\)</span> とする. ブラケット積 <span class="math inline">\([\xi, \eta]\)</span> を考える.</p>
<p><span class="math display">\[\begin{align*}
[\xi, \eta]
&amp; = \left.\frac{d}{dt}\right|_{t=0} \left( (\varphi_{-t})_* \eta \right) \\
(L_g)_* [\xi, \eta]
&amp; = (L_g)_* \left.\frac{d}{dt}\right|_{t=0} \left( (\varphi_{-t})_* \eta \right) \\
&amp; = \left.\frac{d}{dt}\right|_{t=0} (L_g)_* \left( (\varphi_{-t})_* \eta \right) \tag{$(L_g)_*$ は $t$ に依存しないので} \\
\end{align*}\]</span></p>
<p>定理 (*) より <span class="math inline">\(L_g \circ \varphi_{-t} = \varphi_{-t} \circ L_g\)</span> で、これを微分して接写像にした版 <span class="math inline">\((L_g)_* \circ (\varphi_{-t})_* = (\varphi_{-t})_* \circ (L_g)_*\)</span> も得られる. これを使うと</p>
<p><span class="math display">\[\begin{align*}
(L_g)_* [\xi, \eta]
&amp; = \left.\frac{d}{dt}\right|_{t=0} (\varphi_{-t})_* ((L_g)_* \eta) \\
&amp; = [\xi, (L_g)_* \eta]
\end{align*}\]</span></p>
<p>を得る. 次に <span class="math inline">\(\eta\)</span> の左不変性から <span class="math inline">\((L_g)_* \eta=\eta\)</span> を代入し、結局次を得る.</p>
<div class="thm">
<p><span class="math display">\[(L_g)_* [\xi, \eta] = [\xi, \eta]\]</span></p>
</div>
<p>次のように言い換えられる.</p>
<div class="thm">
<h4 id="thm-1">Thm</h4>
<p>2つの左不変ベクトル場のブラケット積もまた、左不変ベクトル場である.</p>
</div>
<h3 id="section-2">(3)</h3>
<p>定理 (*) は <span class="math display">\[L_g \circ \varphi_t \circ L_g^{-1} = \varphi_t \tag{$\ast$}\]</span> というものだった. 両辺を <span class="math inline">\(g\)</span> に適用すると <span class="math display">\[g \varphi_t(1) = \varphi_t(g)\]</span> を得る.</p>
<p>従ってフロー <span class="math inline">\(\varphi_t\)</span> という値は <span class="math inline">\(\varphi_t(1)\)</span> だけ決めれば決まる. (<span class="math inline">\(g\)</span> を左から掛けるという操作はベクトル場には依存しないので.)</p>
<p><span class="math inline">\(\varphi_t(1)\)</span> を <span class="math inline">\(\exp(t\xi)\)</span> と書いて <strong>指数関数</strong> と呼ぶ.</p>
<p>ベクトル場をスカラー倍するのと、フローの時刻パラメータをスカラー倍するのは一致するので.</p>
<h3 id="section-3">(4)</h3>
<p><span class="math inline">\(\exp\)</span> はベクトル場をフローの値、すなわち点に写す. <span class="math display">\[\exp : \mathfrak{g} \to G\]</span> また <span class="math inline">\(\exp(0) = id(1)=1\)</span> であるので、その周りでは接写像 <span class="math display">\[T\exp : T_0\mathfrak{g} \to T_1G\]</span> がある.</p>
<p><span class="math display">\[T_1G \cong^{(1)} \mathfrak{g} \cong T_0\mathfrak{g} \to T_1G\]</span></p>
<p>実際に <span class="math inline">\(T\exp\)</span> を計算してみる. (1) で示したように、左不変ベクトル場は <span class="math inline">\(\xi(1)\)</span> での値さえ決めればよかった. すなわち、 あるベクトル <span class="math inline">\(v \in T_1G\)</span> を選んで <span class="math inline">\(\xi(g) = (L_g)_* v\)</span> によってベクトル場 <span class="math inline">\(\xi \in \mathfrak{g}\)</span> が構成できるのだった.</p>
<p><span class="math inline">\(T_0\mathfrak{g}\)</span> におけるベクトル <span class="math inline">\(xi\)</span> に対応する曲線は、 <span class="math inline">\(c(t)=t\xi\)</span> である (<span class="math inline">\(\frac{dc}{dt}(0)=\xi\)</span>). これを <span class="math inline">\(\exp\)</span> で写して得る曲線が <span class="math inline">\(\exp(c(t)) = \exp(t\xi) = \varphi_t(1)\)</span>. この曲線に対応するベクトルは、<span class="math inline">\(t=0\)</span> での微分値であって <span class="math inline">\(\left. \frac{d}{dt} \varphi_t(1) \right|_{t=0} = \xi(1)=v\)</span>.</p>
<p>以上から、<span class="math inline">\(T\exp(\xi) = v\)</span> が分かった. 結局、<span class="math inline">\(\xi\)</span> を <span class="math inline">\(\xi(1)\)</span> に写している.</p>
<div class="thm">
<p><span class="math inline">\(\exp\)</span> は <span class="math inline">\(0 \in \mathfrak{g}\)</span> の近傍を <span class="math inline">\(1 \in G\)</span> の近傍に写す微分同相写像.</p>
</div>
<h2 id="行列群の計量">行列群の計量</h2>
<p>正規行列の集合 <span class="math inline">\(G = \mathrm{GL}(n;\mathbb{R})\)</span> は、 <span class="math inline">\(n^2\)</span> 次元ユークリッド空間の開部分集合なので簡単に多様体であるが、 ここに適当なリーマン計量を入れてみる.</p>
<p>曲線 <span class="math inline">\(c(t) \in G\)</span>, ベクトル <span class="math inline">\(dc/dt (\in G)\)</span> (実数の微分なので) に対して <span class="math display">\[q\left( \frac{dc}{dt} \right) \equiv
\mathrm{tr}\left[
\left( c^{-1} \frac{dc}{dt} \right)^\top
\left( c^{-1} \frac{dc}{dt} \right)
\right]\]</span> によってリーマン計量 <span class="math inline">\(q\)</span> を与える. ここで <span class="math inline">\(\mathrm{tr}\left[ - \right]\)</span> は行列のトレース、 <span class="math inline">\(-^\top\)</span> は転置.</p>
<p>転置を分解すると <span class="math display">\[q\left( \frac{dc}{dt} \right) \equiv
\mathrm{tr}\left[
\frac{dc}{dt}^\top (c^{-1})^\top c^{-1} \frac{dc}{dt}
\right]\]</span> であるが、ここで <span class="math inline">\(c(t) = 1 \in G\)</span> のところを考えると、 これは <span class="math inline">\(\mathrm{tr}\left[ \frac{dc}{dt}^\top \frac{dc}{dt} \right] = \sum_i \left( \frac{dc_i}{dt} \right)^2\)</span> となり、普通のユークリッド空間での計量と一致する.</p>
<p>さてこの計量での測地線を考える. 定義から追って計算する.</p>
<p><span class="math inline">\(c(0)=1, c(1)=A\)</span> なる曲線 <span class="math inline">\(c\)</span> に任意の曲線 <span class="math inline">\(\epsilon\)</span> を僅かに加える変分法を行う. すなわち、 <span class="math display">\[0 = \left.\frac{d}{ds}\right|_{s=0}
\int_0^1 dt~~
\mathrm{tr}\left[
\frac{d(c+s\epsilon)}{dt}^\top ((c+s\epsilon)^{-1})^\top (c+s\epsilon)^{-1} \frac{d(c+s\epsilon)}{dt}
\right]\]</span> を解く. <span class="math inline">\(s\)</span> での微分と <span class="math inline">\(t\)</span> での積分とを交換して、<span class="math inline">\(\mathrm{tr}\)</span> の中身を先に <span class="math inline">\(s\)</span> で微分する.</p>
<p>注意深く解くと <span class="math display">\[-\frac{d}{dt} \left[ (c^{-1})^\top c^{-1} \frac{dc}{dt} \right]
-(c^{-1})^\top c^{-1}
\left(\frac{dc}{dt}\right)
\left(\frac{dc}{dt}\right)^\top (c^{-1})^\top =0\]</span> を得る. これが、この空間での測地線の方程式である.</p>
<h4 id="例題-8.3.1">例題 8.3.1</h4>
<p>曲線 <span class="math inline">\(c(t) = \exp(tA)\)</span> はある条件下で測地線になる.</p>
<p>ただし <span class="math inline">\(\exp(tA) = \sum_i (tA)^i / i!\)</span> で定義されるもので、 <span class="math inline">\(A \exp(tA) = \exp(tA) A\)</span> という交換ができる. また <span class="math inline">\(\exp(tA)\)</span> の逆行列としていつも <span class="math inline">\(\exp(-tA)\)</span> が存在する (<span class="math inline">\(A\ne 0\)</span> とする).</p>
<p>先程得た方程式に代入してみる. <span class="math display">\[\begin{align*}
0 &amp; =
-\frac{d}{dt} \left[ (\exp(-tA))^\top \exp(-tA) (A \exp(tA)) \right]
- (\exp(-tA))^\top \exp(-tA)
(A \exp(tA))
(A \exp(tA))^\top
(\exp(-tA))^\top \\
&amp; =
- \frac{d}{dt} \left[\exp(-tA)^\top A\right]
- (\exp(-tA))^\top A A^\top \\
&amp; =
(\exp(-tA))^\top A^\top A - (\exp(-tA))^\top A A^\top \\
\iff 0 &amp; = A^\top A - A A^\top \\
\end{align*}\]</span> というわけで、</p>
<p><span class="math inline">\(A^\top A = AA^\top\)</span> のとき (<span class="math inline">\(A\)</span> が正規行列のとき) <span class="math inline">\(c(t)=\exp(tA)\)</span> はこの計量空間の測地線となる.</p>
<h2 id="行列群の計量-2">行列群の計量 2</h2>
<p><span class="math inline">\(G = \mathrm{GL}(n;\mathbb{R})\)</span> に今度はリーマン計量ではない計量を与える. すなわち、距離が負を取り得る.</p>
<p><span class="math display">\[q\left( \frac{dc}{dt} \right) \equiv
\mathrm{tr}\left[
\left( c^{-1} \frac{dc}{dt} \right)^2
\right]
=
\mathrm{tr}\left[
c^{-1} \frac{dc}{dt}
c^{-1} \frac{dc}{dt}
\right]\]</span></p>
<p>先ほどと同様にこの計量について測地線の方程式を求めるとそれは <span class="math display">\[\frac{d}{dt} \left[ c^{-1} \frac{dc}{dt} \right] = 0\]</span> となる.</p>
<p><span class="math inline">\(c(t)=\exp(tA)\)</span> なる曲線をこれに代入すると <span class="math inline">\(\frac{d}{dt} \left[ \exp(-tA) (A \exp(tA)) \right] = \frac{d}{dt} A = 0\)</span> となって常に満たされるので、この曲線はこの計量の下ではいつも測地線である.</p>
<blockquote>
<p>!! このように、多様体の上で測地線を与える関数を <strong>指数関数</strong> という !!</p>
</blockquote>
<h2 id="k-枠場-k-frame-field"><span class="math inline">\(k\)</span>-枠場 (<span class="math inline">\(k\)</span>-frame field)</h2>
<p>多様体 <span class="math inline">\(M\)</span> の上の <span class="math inline">\(k\)</span> 個のベクトル場の組 <span class="math inline">\((\xi_1, \xi_2, \ldots, \xi_k)\)</span> であって、各点 <span class="math inline">\(x\in M\)</span> で <span class="math inline">\((\xi_1(x), \xi_2(x), \ldots, \xi_k(x))\)</span> が一次独立であって、どのベクトルもゼロにならないようなものを、 <strong>k-枠場</strong> という.</p>
<p><span class="math inline">\(k\)</span>-枠場は常に存在するとは限らない. 球面上 (<span class="math inline">\(S^2\)</span>) に 2-枠場は存在しない. これは地球上で無風地点が存在する (ベクトルがゼロになる) という事実に依る.</p>
<p><span class="math inline">\(n\)</span> 次元多様体であって <span class="math inline">\(n\)</span>-枠場が存在するとき、 <strong>平行化可能</strong> であると表現する.</p>
<h2 id="勾配ベクトル場-grad">勾配ベクトル場 (grad)</h2>
<p>リーマン多様体 <span class="math inline">\((M,g)\)</span> とその上の実ベクトル <span class="math inline">\(f: M \to \mathbb{R}\)</span> について. 勾配 (grad) を次のように定める.</p>
<div class="thm">
<h4 id="定義-1">定義</h4>
<p><span class="math display">\[\mathrm{grad}f(x) \in T_xM\]</span> 任意の <span class="math inline">\(X \in T_xM\)</span> に対して <span class="math display">\[Xf = g(X, \mathrm{grad}f(x))\]</span></p>
</div>
<p>陽に定義していないが、実際に成分表示してみるとわかる.</p>
<ul>
<li><span class="math inline">\(X = \sum_i a_i \partial/\partial x_i\)</span></li>
<li><span class="math inline">\(\mathrm{grad}f = \sum_i k_i \partial/\partial x_i\)</span></li>
</ul>
<p><span class="math inline">\(a=(a_i), k=(k_i)\)</span> とすると、</p>
<ul>
<li><span class="math inline">\(g(X, \mathrm{grad}f) = a^\top G k\)</span>
<ul>
<li><span class="math inline">\(G\)</span> は <span class="math inline">\(g\)</span> 相当の行列</li>
</ul></li>
<li><span class="math inline">\(Xf = a (\partial f/\partial x_i)\)</span></li>
</ul>
<p>この2つが任意の <span class="math inline">\(a\)</span> に対して成立するには <span class="math display">\[(\partial f/\partial x_i) = G k\]</span> <span class="math display">\[\iff k = G^{-1} (\partial f/\partial x_i)\]</span> grad とは単にこれのことである.</p>
<div class=thm>
<h4 id="補題">補題</h4>
<p>多様体 <span class="math inline">\(M\)</span> とその上の実関数 <span class="math inline">\(f: M \to \mathbb{R}\)</span>. <span class="math inline">\(f^{-1}(a) (= \{x: f(x)=a\})\)</span> が <span class="math inline">\(M\)</span> の部分集合であるとする.</p>
<p>このとき <span class="math display">\[v \in T_xf^{-1}(a) \iff f_* v = 0.\]</span></p>
<h4 id="証明-rightarrow">証明 <span class="math inline">\((\Rightarrow)\)</span></h4>
<p><span class="math inline">\(v \in T_xN\)</span> であるとは, <span class="math inline">\(N\)</span> の上の曲線 <span class="math inline">\(c\)</span> があって <span class="math inline">\(\left. \frac{d}{dt} \right|_{t=0} c\)</span> で同値類を取った代表元を <span class="math inline">\(v\)</span> だと呼ぶのであった (実際には座標を取って <span class="math inline">\(\mathbb{R} \to \mathbb{R}\)</span> にしてから微分する).</p>
<p>今の場合、 ベクトル <span class="math inline">\(v\)</span> に対して曲線 <span class="math inline">\(c, \{c(t) : -\epsilon &lt; t &lt; \epsilon\} \subset f^{-1}(a)\)</span> がある.</p>
<p><span class="math inline">\(f_*v\)</span> とは <span class="math inline">\(c\)</span> を <span class="math inline">\(f(c(t))\)</span> に写すものなので <span class="math inline">\(f(c(t)) = f(f^{-1}(a)) = a\)</span> の一点に写す. 従って <span class="math inline">\(f_*v\)</span> は <span class="math inline">\(\left. \frac{d}{dt} \right|_{t=0} a = 0\)</span> に相当する.</p>
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.38.0 (20140413.2041)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="228pt" height="280pt" viewBox="0.00 0.00 228.00 280.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 276)">
<title>
%3
</title>
<g id="clust1" class="cluster">
<title>
cluster_1
</title>
<polygon fill="none" stroke="black" points="8,-8 8,-132 212,-132 212,-8 8,-8"/> </g> <g id="clust4" class="cluster">
<title>
cluster_0
</title>
<polygon fill="none" stroke="black" points="20,-140 20,-264 212,-264 212,-140 20,-140"/> </g> <!-- TxM --> <g id="node1" class="node">
<title>
TxM
</title>
<text text-anchor="middle" x="55" y="-30.3" font-family="Times,serif" font-size="14.00">TxM</text> </g> <!-- TxR --> <g id="node2" class="node">
<title>
TxR
</title>
<text text-anchor="middle" x="177" y="-30.3" font-family="Times,serif" font-size="14.00">TxR</text> </g> <!-- TxM&#45;&gt;TxR --> <g id="edge1" class="edge">
<title>
TxM-&gt;TxR
</title>
<path fill="none" stroke="black" d="M82.0382,-34C98.8268,-34 120.905,-34 139.441,-34"/> <polygon fill="black" stroke="black" points="139.598,-37.5001 149.598,-34 139.598,-30.5001 139.598,-37.5001"/> <text text-anchor="middle" x="122" y="-37.8" font-family="Times,serif" font-size="14.00">Txf</text> </g> <!-- Tx(f^&#45;1(a)) --> <g id="node3" class="node">
<title>
Tx(f^-1(a))
</title>
<text text-anchor="middle" x="55" y="-102.3" font-family="Times,serif" font-size="14.00">Tx(f^-1(a))</text> </g> <!-- TxM&#45;&gt;Tx(f^&#45;1(a)) --> <g id="edge2" class="edge">
<title>
TxM-&gt;Tx(f^-1(a))
</title>
<path fill="none" stroke="black" d="M55,-62.3142C55,-70.8607 55,-79.4073 55,-87.9539"/> <polygon fill="black" stroke="black" points="58.5001,-62.2812 55,-52.2812 51.5001,-62.2813 58.5001,-62.2812"/> </g> <!-- 0 --> <g id="node4" class="node">
<title>
0
</title>
<text text-anchor="middle" x="177" y="-102.3" font-family="Times,serif" font-size="14.00">0</text> </g> <!-- TxR&#45;&gt;0 --> <g id="edge3" class="edge">
<title>
TxR-&gt;0
</title>
<path fill="none" stroke="black" d="M177,-62.3142C177,-70.8607 177,-79.4073 177,-87.9539"/> <polygon fill="black" stroke="black" points="180.5,-62.2812 177,-52.2812 173.5,-62.2813 180.5,-62.2812"/> </g> <!-- Tx(f^&#45;1(a))&#45;&gt;0 --> <g id="edge4" class="edge">
<title>
Tx(f^-1(a))-&gt;0
</title>
<path fill="none" stroke="black" d="M94.2987,-106C108.87,-106 125.415,-106 139.787,-106"/> <polygon fill="black" stroke="black" points="139.809,-109.5 149.809,-106 139.809,-102.5 139.809,-109.5"/> <text text-anchor="middle" x="122" y="-109.8" font-family="Times,serif" font-size="14.00">Txf</text> </g> <!-- M --> <g id="node5" class="node">
<title>
M
</title>
<text text-anchor="middle" x="55" y="-162.3" font-family="Times,serif" font-size="14.00">M</text> </g> <!-- R --> <g id="node6" class="node">
<title>
R
</title>
<text text-anchor="middle" x="177" y="-162.3" font-family="Times,serif" font-size="14.00">R</text> </g> <!-- M&#45;&gt;R --> <g id="edge5" class="edge">
<title>
M-&gt;R
</title>
<path fill="none" stroke="black" d="M82.0382,-166C98.8268,-166 120.905,-166 139.441,-166"/> <polygon fill="black" stroke="black" points="139.598,-169.5 149.598,-166 139.598,-162.5 139.598,-169.5"/> <text text-anchor="middle" x="122" y="-169.8" font-family="Times,serif" font-size="14.00">f</text> </g> <!-- f^&#45;1(a) --> <g id="node7" class="node">
<title>
f^-1(a)
</title>
<text text-anchor="middle" x="55" y="-234.3" font-family="Times,serif" font-size="14.00">f^-1(a)</text> </g> <!-- M&#45;&gt;f^&#45;1(a) --> <g id="edge6" class="edge">
<title>
M-&gt;f^-1(a)
</title>
<path fill="none" stroke="black" d="M55,-194.314C55,-202.861 55,-211.407 55,-219.954"/> <polygon fill="black" stroke="black" points="58.5001,-194.281 55,-184.281 51.5001,-194.281 58.5001,-194.281"/> </g> <!-- a --> <g id="node8" class="node">
<title>
a
</title>
<text text-anchor="middle" x="177" y="-234.3" font-family="Times,serif" font-size="14.00">a</text> </g> <!-- R&#45;&gt;a --> <g id="edge7" class="edge">
<title>
R-&gt;a
</title>
<path fill="none" stroke="black" d="M177,-194.314C177,-202.861 177,-211.407 177,-219.954"/> <polygon fill="black" stroke="black" points="180.5,-194.281 177,-184.281 173.5,-194.281 180.5,-194.281"/> </g> <!-- f^&#45;1(a)&#45;&gt;a --> <g id="edge8" class="edge">
<title>
f^-1(a)-&gt;a
</title>
<path fill="none" stroke="black" d="M82.0382,-238C98.8268,-238 120.905,-238 139.441,-238"/> <polygon fill="black" stroke="black" points="139.598,-241.5 149.598,-238 139.598,-234.5 139.598,-241.5"/> <text text-anchor="middle" x="122" y="-241.8" font-family="Times,serif" font-size="14.00">f</text> </g> </g>
</svg>
<p>実は <span class="math inline">\(T_x\)</span> の関手性からも明らか. <span class="math inline">\(f_*v\)</span> は <span class="math inline">\(f^{-1}(a) \to \mathbb{R}\)</span> を <span class="math inline">\(T_x\)</span> で写したものだけど途中で <span class="math inline">\(T_xa = 0\)</span> を通るから.</p>
<h4 id="証明-leftarrow">証明 <span class="math inline">\((\Leftarrow)\)</span></h4>
<p>成分表示 <span class="math inline">\(v = \sum_i v_i \frac{\partial}{\partial x_i}\)</span> について. <span class="math inline">\(f_*v\)</span> は線形変換 <span class="math inline">\((Df) (v_i)\)</span> で表現される.</p>
<p>んー。わからん。</p>
</div>
<div class="thm">
<h4 id="定理-2">定理</h4>
<p>多様体 <span class="math inline">\(M\)</span> とその上の実関数 <span class="math inline">\(f: M \to \mathbb{R}\)</span>. <span class="math inline">\(f^{-1}(a) (= \{x: f(x)=a\})\)</span> が <span class="math inline">\(M\)</span> の部分集合であるとする.</p>
<p><span class="math inline">\(N = f^{-1}(a)\)</span> の上の任意のベクトル <span class="math inline">\(v\)</span> と <span class="math inline">\(\mathrm{grad}(f)\)</span> は直交する. すなわち、 <span class="math display">\[g(v, \mathrm{grad}(f)) = 0\]</span> が成立する.</p>
<p>定義より <span class="math inline">\(\mathrm{grad}(f) = G^{-1} = \sum_{i,j} g^{ij} \frac{\partial f}{\partial x_j} \frac{\partial}{\partial x_i}\)</span> であるのでこれを代入すると</p>
<p><span class="math display">\[g(v, \mathrm{grad}(f))
= \sum_{i,j,k} v_i g_{ij} g^{jk} \frac{\partial f}{\partial x_k}
= \sum_{i,j,k} v_i \frac{\partial f}{\partial x_k}\]</span></p>
<p>補題より <span class="math inline">\(\sum_{i,j,k} v_i \frac{\partial f}{\partial x_k} = 0\)</span> である.</p>
</div>
<!--

  HTML として pandoc -B で include する.

  <H2> を列挙してそれらにリンクを貼った toc を id='toc' に埋め込む.
  markdown で書いてるだろうから例として次のような段落を書けばよい.

```
## INDEX
<div id=toc></div>
```

  used in
  - /memo/gnuplot
  - /memo/linux
  - /memo/imagemagick

-->
<script>
(function() {
  var sections = document.getElementsByTagName('h2');
  var i;
  var OL = document.createElement('ol');
  for (i=0; i < sections.length; ++i) {
    var LI = document.createElement('li');
    var A = document.createElement('a');
    A.innerHTML = sections[i].innerHTML;
    if (A.innerHTML.toUpperCase() == 'INDEX') continue;
    A.href = '#' + i;
    LI.appendChild(A);
    OL.appendChild(LI);

    var PREF = document.createElement('a');
    PREF.name = i;
    sections[i].appendChild(PREF);
  }

  var done = false;
  function work() {
    if (done) return;
    if ( document.getElementById('toc') === null) return; // no toc element
    document.getElementById('toc').appendChild(OL);
    done = true;
  };

  window.onload = work;
  setTimeout(work,800);
}());
</script>
</body>
</html>
