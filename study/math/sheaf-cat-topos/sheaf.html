<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="pandoc">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
  <title>層</title>
  <style type="text/css">code{white-space: pre;}</style>
  <link rel="stylesheet" href="../../../resources/css/c.css">
  <link rel="stylesheet" href="c.css">
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<header>
<h1 class="title">層</h1>
</header>
<h2 id="ペア">ペア</h2>
<p>ペアとは順序のある2つの数からなる組みのことで <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mo>,</mo><mi>b</mi></mrow><annotation encoding="application/x-tex">a, b</annotation></semantics></math> からなるペアを <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">⟨</mo><mi>a</mi><mo>,</mo><mi>b</mi><mo stretchy="false" form="postfix">⟩</mo></mrow><annotation encoding="application/x-tex">\langle a, b \rangle</annotation></semantics></math> と記述する.</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">⟨</mo><mi>a</mi><mo>,</mo><mi>b</mi><mo stretchy="false" form="postfix">⟩</mo><mo>=</mo><mo stretchy="false" form="prefix">⟨</mo><mi>c</mi><mo>,</mo><mi>d</mi><mo stretchy="false" form="postfix">⟩</mo><mo accent="false">⇔</mo><mi>a</mi><mo>=</mo><mi>b</mi><mo>∧</mo><mi>c</mi><mo>=</mo><mi>d</mi></mrow><annotation encoding="application/x-tex">\langle a,b \rangle = \langle c,d \rangle \iff a=b \land c=d</annotation></semantics></math></p>
<h2 id="関数">関数</h2>
<p>2つの集合 <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>,</mo><mi>B</mi></mrow><annotation encoding="application/x-tex">A, B</annotation></semantics></math> について 関数 <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo>:</mo><mi>A</mi><mo accent="false">→</mo><mi>B</mi></mrow><annotation encoding="application/x-tex">f: A \rightarrow B</annotation></semantics></math> とは <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">{</mo><mo stretchy="false" form="prefix">⟨</mo><mi>a</mi><mo>,</mo><mi>b</mi><mo stretchy="false" form="postfix">⟩</mo><mo>:</mo><mi>a</mi><mo>∈</mo><mi>A</mi><mo>,</mo><mi>b</mi><mo>∈</mo><mi>B</mi><mo stretchy="false" form="postfix">}</mo></mrow><annotation encoding="application/x-tex">\{ \langle a, b \rangle : a \in A, b \in B \}</annotation></semantics></math> という集合であって、次の2つを制約として満たすもののことである.</p>
<ol class="incremental" type="1">
<li><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mo>∈</mo><mi>A</mi></mrow><annotation encoding="application/x-tex">a \in A</annotation></semantics></math> について <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">⟨</mo><mi>a</mi><mo>,</mo><msub><mi>b</mi><mn>1</mn></msub><mo stretchy="false" form="postfix">⟩</mo><mo>∈</mo><mi>f</mi></mrow><annotation encoding="application/x-tex">\langle a, b_1 \rangle \in f</annotation></semantics></math> かつ <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">⟨</mo><mi>a</mi><mo>,</mo><msub><mi>b</mi><mn>2</mn></msub><mo stretchy="false" form="postfix">⟩</mo><mo>∈</mo><mi>f</mi></mrow><annotation encoding="application/x-tex">\langle a,b_2 \rangle \in f</annotation></semantics></math> ならば <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>b</mi><mn>1</mn></msub><mo>=</mo><msub><mi>b</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">b_1 = b_2</annotation></semantics></math> (ただ一つに写すこと)</li>
<li><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>∀</mo><mi>a</mi><mo>∈</mo><mi>A</mi></mrow><annotation encoding="application/x-tex">\forall a \in A</annotation></semantics></math> について <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>∃</mo><mi>b</mi><mi>.</mi><mo>∃</mo><mo stretchy="false" form="prefix">⟨</mo><mi>a</mi><mo>,</mo><mi>b</mi><mo stretchy="false" form="postfix">⟩</mo><mo>∈</mo><mi>f</mi></mrow><annotation encoding="application/x-tex">\exists b. \exists \langle a, b \rangle \in f</annotation></semantics></math> (total であること)</li>
</ol>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false" form="prefix">(</mo><mi>a</mi><mo stretchy="false" form="postfix">)</mo><mo>=</mo><mi>b</mi><mo accent="false">⇔</mo><mo stretchy="false" form="prefix">⟨</mo><mi>a</mi><mo>,</mo><mi>b</mi><mo stretchy="false" form="postfix">⟩</mo><mo>∈</mo><mi>f</mi></mrow><annotation encoding="application/x-tex">f(a) = b \iff \langle a,b \rangle \in f</annotation></semantics></math></p>
<p>特殊な場合として、 <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo>:</mo><mi>∅</mi><mo accent="false">→</mo><mi>B</mi></mrow><annotation encoding="application/x-tex">f: \emptyset \rightarrow B</annotation></semantics></math> とは <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo>=</mo><mi>∅</mi></mrow><annotation encoding="application/x-tex">f = \emptyset</annotation></semantics></math> である.</p>
<h3 id="関数の制限">関数の制限</h3>
<p><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo>:</mo><mi>A</mi><mo accent="false">→</mo><mi>B</mi></mrow><annotation encoding="application/x-tex">f: A \rightarrow B</annotation></semantics></math> を <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mi>′</mi><mo>⊆</mo><mi>A</mi></mrow><annotation encoding="application/x-tex">A\prime \subseteq A</annotation></semantics></math> で制限した関数を次のように定義する.</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false" form="prefix">⌈</mo><mi>A</mi><mi>′</mi><mo stretchy="false" form="prefix">(</mo><mo>:</mo><mi>A</mi><mi>′</mi><mo accent="false">→</mo><mi>B</mi><mo stretchy="false" form="postfix">)</mo><mo>=</mo><mo stretchy="false" form="prefix">{</mo><mo stretchy="false" form="prefix">⟨</mo><mi>a</mi><mo>,</mo><mi>b</mi><mo stretchy="false" form="postfix">⟩</mo><mo>:</mo><mi>a</mi><mo>∈</mo><mi>A</mi><mi>′</mi><mo>,</mo><mi>b</mi><mo>=</mo><mi>f</mi><mo stretchy="false" form="prefix">(</mo><mi>a</mi><mo stretchy="false" form="postfix">)</mo><mo stretchy="false" form="postfix">}</mo></mrow><annotation encoding="application/x-tex">f \lceil A\prime (: A\prime \rightarrow B) = \{ \langle a,b \rangle : a \in A\prime, b = f(a) \}</annotation></semantics></math></p>
<h2 id="前層-presheaf">前層 (presheaf)</h2>
<p>位相空間 <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>X</mi><annotation encoding="application/x-tex">X</annotation></semantics></math>, <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>X</mi><annotation encoding="application/x-tex">X</annotation></semantics></math>の開集合全体 <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathvariant="script"><mi>𝒪</mi></mstyle><mo stretchy="false" form="prefix">(</mo><mi>X</mi><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">\mathcal{O}(X)</annotation></semantics></math></p>
<p>二通りの前層の定義を与える. 次にその2つが同等であることを見ていく.</p>
<h3 id="第一の定義">第一の定義</h3>
<p><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>X</mi><annotation encoding="application/x-tex">X</annotation></semantics></math> の上の前層を次の三つ組 <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">(</mo><mi>A</mi><mo>,</mo><mi>E</mi><mo>,</mo><mo stretchy="false" form="postfix">⌉</mo><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">(A,E,\rceil)</annotation></semantics></math> で定義する. 単に <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>A</mi><annotation encoding="application/x-tex">A</annotation></semantics></math> を前層だと言うこともある.</p>
<p>集合 <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>⊆</mo><mi>X</mi></mrow><annotation encoding="application/x-tex">A \subseteq X</annotation></semantics></math>, 関数 <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mo>:</mo><mi>A</mi><mo accent="false">→</mo><mstyle mathvariant="script"><mi>𝒪</mi></mstyle><mo stretchy="false" form="prefix">(</mo><mi>X</mi><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">E: A \rightarrow \mathcal{O}(X)</annotation></semantics></math>, 関数 <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="postfix">⌉</mo><mo>:</mo><mi>A</mi><mo>×</mo><mstyle mathvariant="script"><mi>𝒪</mi></mstyle><mo stretchy="false" form="prefix">(</mo><mi>X</mi><mo stretchy="false" form="postfix">)</mo><mo accent="false">→</mo><mi>A</mi></mrow><annotation encoding="application/x-tex">\rceil: A \times \mathcal{O}(X) \rightarrow A</annotation></semantics></math></p>
<blockquote>
<p>これは一体何を表現したいのか i.e. 何の抽象化であるのか.<br />
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>A</mi><annotation encoding="application/x-tex">A</annotation></semantics></math> の元はドメインを <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>D</mi><mo>⊆</mo><mi>X</mi></mrow><annotation encoding="application/x-tex">D \subseteq X</annotation></semantics></math> にもつ関数である.<br />
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>E</mi><annotation encoding="application/x-tex">E</annotation></semantics></math> は、関数の実際のドメインを取得するためのメソッドである.<br />
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mo stretchy="false" form="postfix">⌉</mo><annotation encoding="application/x-tex">\rceil</annotation></semantics></math> は先程の <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mo stretchy="false" form="prefix">⌈</mo><annotation encoding="application/x-tex">\lceil</annotation></semantics></math> に相当する、制限というメソッドで、新しい関数を作る関数である.</p>
</blockquote>
<p>ただし、以下の4つを満たすこと.</p>
<ol class="incremental" start="0" type="1">
<li>任意の <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mo>,</mo><mi>b</mi><mo>∈</mo><mi>A</mi></mrow><annotation encoding="application/x-tex">a, b \in A</annotation></semantics></math> に対して、<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mo stretchy="false" form="postfix">⌉</mo><mi>∅</mi><mo>=</mo><mi>b</mi><mo stretchy="false" form="postfix">⌉</mo><mi>∅</mi></mrow><annotation encoding="application/x-tex">a \rceil \emptyset = b \rceil \emptyset</annotation></semantics></math></li>
<li><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mo stretchy="false" form="postfix">⌉</mo><mi>E</mi><mi>a</mi><mo>=</mo><mi>a</mi></mrow><annotation encoding="application/x-tex">a \rceil Ea = a</annotation></semantics></math> (<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mo stretchy="false" form="postfix">⌉</mo><annotation encoding="application/x-tex">\rceil</annotation></semantics></math> の結合則は <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>E</mi><annotation encoding="application/x-tex">E</annotation></semantics></math> の適用より弱い)</li>
<li><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mo stretchy="false" form="prefix">(</mo><mi>a</mi><mo stretchy="false" form="postfix">⌉</mo><mi>U</mi><mo stretchy="false" form="postfix">)</mo><mo>=</mo><mi>E</mi><mi>a</mi><mo>∩</mo><mi>U</mi></mrow><annotation encoding="application/x-tex">E (a \rceil U) = E a \cap U</annotation></semantics></math></li>
<li><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">(</mo><mi>a</mi><mo stretchy="false" form="postfix">⌉</mo><mi>U</mi><mo stretchy="false" form="postfix">)</mo><mo stretchy="false" form="postfix">⌉</mo><mi>V</mi><mo>=</mo><mi>a</mi><mo stretchy="false" form="postfix">⌉</mo><mo stretchy="false" form="prefix">(</mo><mi>U</mi><mo>∩</mo><mi>V</mi><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">(a \rceil U) \rceil V = a \rceil (U \cap V)</annotation></semantics></math></li>
</ol>
<p><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>=</mo></mrow><annotation encoding="application/x-tex">A=</annotation></semantics></math> <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>X</mi><annotation encoding="application/x-tex">X</annotation></semantics></math>の開集合をドメインとする連続関数全体、 <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mi>f</mi><mo>=</mo></mrow><annotation encoding="application/x-tex">Ef =</annotation></semantics></math> <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>f</mi><annotation encoding="application/x-tex">f</annotation></semantics></math>のドメイン、 <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false" form="postfix">⌉</mo><mi>U</mi><mo>=</mo><mi>f</mi><mo stretchy="false" form="prefix">⌈</mo><mo stretchy="false" form="prefix">(</mo><mi>U</mi><mo>∩</mo><mi>E</mi><mi>f</mi><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">f \rceil U = f \lceil (U \cap Ef)</annotation></semantics></math> はまさしく、前層の一例である.</p>
<p><em>N.B.</em> 前層における <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mo stretchy="false" form="postfix">⌉</mo><annotation encoding="application/x-tex">\rceil</annotation></semantics></math> の右にくる開集合は左に来る値に寄らず何が来ても良いが、 普通の関数の制限では、右にくる集合は左に来る関数のドメインの部分集合でないといけない.</p>
<h3 id="第二の定義">第二の定義</h3>
<p>次の2つ組 <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">(</mo><mi>F</mi><mo>,</mo><mi>r</mi><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">(F, r)</annotation></semantics></math> を <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>X</mi><annotation encoding="application/x-tex">X</annotation></semantics></math> の上の前層だと定義する. あるいは単に <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>F</mi><annotation encoding="application/x-tex">F</annotation></semantics></math> を前層だと言う.</p>
<p><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathvariant="script"><mi>𝒪</mi></mstyle><mo stretchy="false" form="prefix">(</mo><mi>X</mi><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">\mathcal{O}(X)</annotation></semantics></math> を定義域とする関数 <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>F</mi><annotation encoding="application/x-tex">F</annotation></semantics></math>、 <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>X</mi><annotation encoding="application/x-tex">X</annotation></semantics></math>の開集合であって <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>U</mi><mo>⊆</mo><mi>V</mi></mrow><annotation encoding="application/x-tex">U \subseteq V</annotation></semantics></math> とある <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>U</mi><mo>,</mo><mi>V</mi></mrow><annotation encoding="application/x-tex">U, V</annotation></semantics></math> について <math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>r</mi><mrow><mi>U</mi><mi>V</mi></mrow></msub><mo>:</mo><mi>F</mi><mo stretchy="false" form="prefix">(</mo><mi>V</mi><mo stretchy="false" form="postfix">)</mo><mo accent="false">→</mo><mi>F</mi><mo stretchy="false" form="prefix">(</mo><mi>V</mi><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">r_{UV}: F(V) \rightarrow F(V)</annotation></semantics></math></p>
<p>次の3つが成立すること</p>
<ol class="incremental" type="1">
<li><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>F</mi><mo stretchy="false" form="prefix">(</mo><mi>∅</mi><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">F(\emptyset)</annotation></semantics></math> はシングルトン</li>
<li><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>r</mi><mrow><mi>U</mi><mi>U</mi></mrow></msub><annotation encoding="application/x-tex">r_{UU}</annotation></semantics></math> は恒等写像</li>
<li><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>U</mi><mo>⊆</mo><mi>V</mi><mo>⊆</mo><mi>W</mi><mo accent="false">⇒</mo><msub><mi>r</mi><mrow><mi>U</mi><mi>W</mi></mrow></msub><mo>=</mo><msub><mi>r</mi><mrow><mi>U</mi><mi>V</mi></mrow></msub><mo>∘</mo><msub><mi>r</mi><mrow><mi>V</mi><mi>W</mi></mrow></msub></mrow><annotation encoding="application/x-tex">U\subseteq V \subseteq W \Rightarrow r_{UW} = r_{UV} \circ r_{VW}</annotation></semantics></math></li>
</ol>
<h3 id="第一の定義-rightarrow-第二の定義">第一の定義 <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mo accent="false">⇒</mo><annotation encoding="application/x-tex">\Rightarrow</annotation></semantics></math> 第二の定義</h3>
<p>2つの定義が同等であることを確認する.</p>
<p>前層が <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">(</mo><mi>A</mi><mo>,</mo><mi>E</mi><mo>,</mo><mo stretchy="false" form="postfix">⌉</mo><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">(A, E, \rceil)</annotation></semantics></math> で与えられたときに <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">(</mo><mi>F</mi><mo>,</mo><mi>r</mi><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">(F, r)</annotation></semantics></math> を実際に構成してみせる.</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>F</mi><mo stretchy="false" form="prefix">(</mo><mi>U</mi><mo stretchy="false" form="postfix">)</mo><mo>=</mo><mo stretchy="false" form="prefix">{</mo><mi>f</mi><mo>∈</mo><mi>A</mi><mo>:</mo><mi>E</mi><mi>f</mi><mo>=</mo><mi>U</mi><mo stretchy="false" form="postfix">}</mo></mrow><annotation encoding="application/x-tex">F(U) = \{ f \in A : Ef = U \}</annotation></semantics></math> <math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>r</mi><mrow><mi>U</mi><mi>V</mi></mrow></msub><mo stretchy="false" form="prefix">(</mo><mi>f</mi><mo stretchy="false" form="postfix">)</mo><mo>=</mo><mi>f</mi><mo stretchy="false" form="postfix">⌉</mo><mi>U</mi></mrow><annotation encoding="application/x-tex">r_{UV}(f) = f \rceil U</annotation></semantics></math></p>
<h3 id="第二の定義-rightarrow-第一の定義">第二の定義 <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mo accent="false">⇒</mo><annotation encoding="application/x-tex">\Rightarrow</annotation></semantics></math> 第一の定義</h3>
<p>逆に前層が <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">(</mo><mi>F</mi><mo>,</mo><mi>r</mi><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">(F, r)</annotation></semantics></math> で与えられたとき、 先ほどの全く逆によって構成できる.</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>=</mo><munder><mo>⋃</mo><mrow><mi>U</mi><mo>∈</mo><mstyle mathvariant="script"><mi>𝒪</mi></mstyle><mo stretchy="false" form="prefix">(</mo><mi>X</mi><mo stretchy="false" form="postfix">)</mo></mrow></munder><mi>F</mi><mo stretchy="false" form="prefix">(</mo><mi>U</mi><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">A = \bigcup_{U \in \mathcal{O}(X)} F(U)</annotation></semantics></math> <math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo>∈</mo><mi>F</mi><mo stretchy="false" form="prefix">(</mo><mi>U</mi><mo stretchy="false" form="postfix">)</mo><mo accent="false">⇔</mo><mi>E</mi><mi>f</mi><mo>=</mo><mi>U</mi></mrow><annotation encoding="application/x-tex">f \in F(U) \iff Ef = U</annotation></semantics></math> <math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false" form="postfix">⌉</mo><mi>U</mi><mo>=</mo><msub><mi>r</mi><mrow><mi>V</mi><mi>W</mi></mrow></msub><mo stretchy="false" form="prefix">(</mo><mi>f</mi><mo stretchy="false" form="postfix">)</mo><mtext mathvariant="normal"> where </mtext><mi>V</mi><mo>=</mo><mi>U</mi><mo>∩</mo><mi>W</mi><mo>,</mo><mi>W</mi><mo>=</mo><mi>E</mi><mi>f</mi></mrow><annotation encoding="application/x-tex">f \rceil U = r_{VW}(f) \text{~where~} V = U \cap W, W=Ef</annotation></semantics></math></p>
<h2 id="両立">両立</h2>
<p>前層 <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>A</mi><annotation encoding="application/x-tex">A</annotation></semantics></math> について、 <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo>,</mo><mi>g</mi><mo>∈</mo><mi>A</mi></mrow><annotation encoding="application/x-tex">f,g \in A</annotation></semantics></math> が両立する (compatible) を次で定義する.</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false" form="postfix">⌉</mo><mi>E</mi><mi>g</mi><mo>=</mo><mi>g</mi><mo stretchy="false" form="postfix">⌉</mo><mi>E</mi><mi>f</mi></mrow><annotation encoding="application/x-tex">f \rceil Eg = g \rceil Ef</annotation></semantics></math></p>
<p>直感的には、互いのドメインで関数がぴたりと一致することである.</p>
<p><em>N.B.</em> <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mi>f</mi><mo>∩</mo><mi>E</mi><mi>g</mi><mo>=</mo><mi>∅</mi></mrow><annotation encoding="application/x-tex">Ef \cap Eg = \emptyset</annotation></semantics></math> のときも両立することに註意.</p>
<h2 id="層">層</h2>
<p>前層 <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>A</mi><annotation encoding="application/x-tex">A</annotation></semantics></math> が加えていくつかの条件を満たすとき、それを層だという. やっぱり二通りの定義を与える.</p>
<h3 id="第一の定義-1">第一の定義</h3>
<p><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Φ</mi><mo stretchy="false" form="prefix">(</mo><mi>A</mi><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">\Phi(A)</annotation></semantics></math>: 「<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>A</mi><annotation encoding="application/x-tex">A</annotation></semantics></math> の任意の部分集合 <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>F</mi><annotation encoding="application/x-tex">F</annotation></semantics></math> について 任意の <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo>,</mo><mi>g</mi><mo>∈</mo><mi>F</mi></mrow><annotation encoding="application/x-tex">f,g\in F</annotation></semantics></math> は両立してる」</p>
<p>この命題が成り立ってない場合は層である (????).</p>
<p>成り立つ場合は、<br />
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>A</mi><annotation encoding="application/x-tex">A</annotation></semantics></math> の任意の部分集合<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>F</mi><annotation encoding="application/x-tex">F</annotation></semantics></math>について:</p>
<ol class="incremental" type="1">
<li><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>∀</mo><mi>f</mi><mi>F</mi><mi>.</mi><mspace width="0.222em"></mspace><mi>g</mi><mo stretchy="false" form="postfix">⌉</mo><mi>E</mi><mi>f</mi><mo>=</mo><mi>f</mi></mrow><annotation encoding="application/x-tex">\forall f F .~ g \rceil Ef = f</annotation></semantics></math></li>
<li><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mi>g</mi><mo>=</mo><msub><mo>∪</mo><mrow><mi>f</mi><mo>∈</mo><mi>F</mi></mrow></msub><mi>E</mi><mi>f</mi></mrow><annotation encoding="application/x-tex">Eg = \cup_{f \in F} Ef</annotation></semantics></math></li>
</ol>
<p>を満たす <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>g</mi><mo>∈</mo><mi>A</mi></mrow><annotation encoding="application/x-tex">g \in A</annotation></semantics></math> がただひとつ存在すること. この <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>g</mi><annotation encoding="application/x-tex">g</annotation></semantics></math> を <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>∪</mo><mi>F</mi></mrow><annotation encoding="application/x-tex">\cup F</annotation></semantics></math> と書く.</p>
<p>先ほどの「連続関数全体」は、層でもある例なのであった.</p>
<h3 id="fg-の定義"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">[</mo><mi>f</mi><mo>=</mo><mi>g</mi><mo stretchy="false" form="postfix">]</mo></mrow><annotation encoding="application/x-tex">[f=g]</annotation></semantics></math> の定義</h3>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">[</mo><mi>f</mi><mo>=</mo><mi>g</mi><mo stretchy="false" form="postfix">]</mo><mo>=</mo><mo>⋃</mo><mo stretchy="false" form="prefix">{</mo><mi>U</mi><mo>∈</mo><mstyle mathvariant="script"><mi>𝒪</mi></mstyle><mo stretchy="false" form="prefix">(</mo><mi>X</mi><mo stretchy="false" form="postfix">)</mo><mo>:</mo><mi>f</mi><mo stretchy="false" form="postfix">⌉</mo><mi>U</mi><mo>=</mo><mi>g</mi><mo stretchy="false" form="postfix">⌉</mo><mi>U</mi><mo stretchy="false" form="postfix">}</mo><mo>⊆</mo><mi>X</mi></mrow><annotation encoding="application/x-tex">[f=g] = \bigcup \{ U \in \mathcal{O}(X) : f \rceil U = g \rceil U \} \subseteq X</annotation></semantics></math></p>
<blockquote>
<p>すなわち、<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo>=</mo><mi>g</mi></mrow><annotation encoding="application/x-tex">f=g</annotation></semantics></math> が成立するドメインの最大である. <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">[</mo><mi>f</mi><mo>=</mo><mi>g</mi><mo stretchy="false" form="postfix">]</mo></mrow><annotation encoding="application/x-tex">[f=g]</annotation></semantics></math> は <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo>=</mo><mi>g</mi></mrow><annotation encoding="application/x-tex">f=g</annotation></semantics></math> が正しい truth value だなんて言い方をするらしい.</p>
</blockquote>
<p>以下が成り立つ</p>
<ol class="incremental" type="1">
<li><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>U</mi><mo>⊆</mo><mo stretchy="false" form="prefix">[</mo><mi>f</mi><mo>=</mo><mi>g</mi><mo stretchy="false" form="postfix">]</mo><mo accent="false">⇔</mo><mi>f</mi><mo stretchy="false" form="postfix">⌉</mo><mi>U</mi><mo>=</mo><mi>g</mi><mo stretchy="false" form="postfix">⌉</mo><mi>U</mi></mrow><annotation encoding="application/x-tex">U \subseteq [f=g] \iff f \rceil U = g \rceil U</annotation></semantics></math></li>
<li><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">[</mo><mi>f</mi><mo>=</mo><mi>f</mi><mo stretchy="false" form="postfix">]</mo><mo>=</mo><mi>X</mi></mrow><annotation encoding="application/x-tex">[f=f]=X</annotation></semantics></math></li>
<li><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">[</mo><mi>f</mi><mo>=</mo><mi>g</mi><mo stretchy="false" form="postfix">]</mo><mo>=</mo><mo stretchy="false" form="prefix">[</mo><mi>g</mi><mo>=</mo><mi>f</mi><mo stretchy="false" form="postfix">]</mo></mrow><annotation encoding="application/x-tex">[f=g]=[g=f]</annotation></semantics></math></li>
<li><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">[</mo><mi>f</mi><mo>=</mo><mi>g</mi><mo stretchy="false" form="postfix">]</mo><mo>∩</mo><mo stretchy="false" form="prefix">[</mo><mi>g</mi><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">]</mo><mo>⊆</mo><mo stretchy="false" form="prefix">[</mo><mi>f</mi><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">]</mo></mrow><annotation encoding="application/x-tex">[f=g]\cap [g=h] \subseteq [f=h]</annotation></semantics></math></li>
<li><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">[</mo><mi>f</mi><mo>=</mo><mi>g</mi><mo stretchy="false" form="postfix">]</mo><mo>∩</mo><mi>U</mi><mo>=</mo><mo stretchy="false" form="prefix">[</mo><mi>f</mi><mo stretchy="false" form="postfix">⌉</mo><mi>U</mi><mo>=</mo><mi>g</mi><mo stretchy="false" form="postfix">⌉</mo><mi>U</mi><mo stretchy="false" form="postfix">]</mo><mo>∩</mo><mi>U</mi></mrow><annotation encoding="application/x-tex">[f=g]\cap U = [f\rceil U = g \rceil U] \cap U</annotation></semantics></math></li>
<li><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mi>f</mi><mo>⊆</mo><mi>U</mi><mo accent="false">⇒</mo><mi>f</mi><mo>=</mo><mi>f</mi><mo stretchy="false" form="postfix">⌉</mo><mi>U</mi></mrow><annotation encoding="application/x-tex">Ef \subseteq U \Rightarrow f = f\rceil U</annotation></semantics></math></li>
<li><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">(</mo><mi>E</mi><mi>f</mi><mo>∪</mo><mi>E</mi><mi>g</mi><mo stretchy="false" form="postfix">)</mo><mo>∩</mo><mi>U</mi><mo>⊆</mo><mo stretchy="false" form="prefix">[</mo><mi>f</mi><mo>=</mo><mi>g</mi><mo stretchy="false" form="postfix">]</mo><mo accent="false">→</mo><mi>U</mi><mo>⊆</mo><mo stretchy="false" form="prefix">[</mo><mi>f</mi><mo>=</mo><mi>g</mi><mo stretchy="false" form="postfix">]</mo></mrow><annotation encoding="application/x-tex">(Ef \cup Eg) \cap U \subseteq [f=g] \rightarrow U \subseteq [f=g]</annotation></semantics></math></li>
<li><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">[</mo><mi>f</mi><mo>=</mo><mi>g</mi><mo stretchy="false" form="postfix">]</mo><mo>∩</mo><mi>E</mi><mi>f</mi><mo>⊆</mo><mi>E</mi><mi>g</mi></mrow><annotation encoding="application/x-tex">[f=g] \cap Ef \subseteq Eg</annotation></semantics></math></li>
</ol>
<h3 id="第二の定義-1">第二の定義</h3>
<p>位相空間 <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>S</mi><annotation encoding="application/x-tex">S</annotation></semantics></math> と局所同相写像 <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mo>:</mo><mi>S</mi><mo accent="false">→</mo><mi>X</mi></mrow><annotation encoding="application/x-tex">p: S \rightarrow X</annotation></semantics></math> があるとき、 <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">(</mo><mi>S</mi><mo>,</mo><mi>p</mi><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">(S, p)</annotation></semantics></math> を、あるいは単に <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>S</mi><annotation encoding="application/x-tex">S</annotation></semantics></math> を、<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>X</mi><annotation encoding="application/x-tex">X</annotation></semantics></math>の上の層だという.</p>
<h3 id="第一の定義-rightarrow-第二の定義-1">第一の定義 <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mo accent="false">⇒</mo><annotation encoding="application/x-tex">\Rightarrow</annotation></semantics></math> 第二の定義</h3>
<p>層 <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">(</mo><mi>A</mi><mo>,</mo><mi>E</mi><mo>,</mo><mo stretchy="false" form="postfix">⌉</mo><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">(A,E,\rceil)</annotation></semantics></math> が与えられたとき、</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover><mi>S</mi><mo accent="true">̃</mo></mover><mo>=</mo><mo stretchy="false" form="prefix">{</mo><mo stretchy="false" form="prefix">(</mo><mi>x</mi><mo>,</mo><mi>f</mi><mo stretchy="false" form="postfix">)</mo><mo>:</mo><mi>x</mi><mo>∈</mo><mi>X</mi><mo>,</mo><mi>f</mi><mo>∈</mo><mi>A</mi><mo>,</mo><mi>x</mi><mo>∈</mo><mi>E</mi><mi>f</mi><mo stretchy="false" form="postfix">}</mo></mrow><annotation encoding="application/x-tex">\tilde{S} = \{ (x,f) : x \in X, f \in A, x \in Ef \}</annotation></semantics></math> を定義してこれの上の同値関係を次で定義する.</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">(</mo><mi>x</mi><mo>,</mo><msub><mi>f</mi><mn>1</mn></msub><mo stretchy="false" form="postfix">)</mo><mo>≡</mo><mo stretchy="false" form="prefix">(</mo><mi>x</mi><mo>,</mo><msub><mi>f</mi><mn>2</mn></msub><mo stretchy="false" form="postfix">)</mo><mo accent="false">⇔</mo><mo>∃</mo><mi>U</mi><mo>⊆</mo><mi>X</mi><mi>.</mi><mspace width="0.222em"></mspace><mi>x</mi><mo>∈</mo><mi>U</mi><mo>∧</mo><mi>U</mi><mo>⊆</mo><mo stretchy="false" form="prefix">(</mo><mi>E</mi><msub><mi>f</mi><mn>1</mn></msub><mo>∩</mo><mi>E</mi><msub><mi>f</mi><mn>2</mn></msub><mo stretchy="false" form="postfix">)</mo><mo>∧</mo><msub><mi>f</mi><mn>1</mn></msub><mo stretchy="false" form="postfix">⌉</mo><mi>U</mi><mo>=</mo><msub><mi>f</mi><mn>2</mn></msub><mo stretchy="false" form="postfix">⌉</mo><mi>U</mi></mrow><annotation encoding="application/x-tex">(x,f_1) \equiv (x,f_2) \iff
\exists U \subseteq X .~
x \in U
\land
U \subseteq (Ef_1 \cap Ef_2)
\land
f_1 \rceil U = f_2 \rceil U</annotation></semantics></math> <math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo>≠</mo><mi>y</mi><mo accent="false">⇒</mo><mo stretchy="false" form="prefix">(</mo><mi>x</mi><mo>,</mo><mi>f</mi><mo stretchy="false" form="postfix">)</mo><mo>≠</mo><mo stretchy="false" form="prefix">(</mo><mi>y</mi><mo>,</mo><mi>g</mi><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">x \ne y \Rightarrow (x,f) \ne (y,g)</annotation></semantics></math></p>
<p>つまり、点 <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>x</mi><annotation encoding="application/x-tex">x</annotation></semantics></math> を含んだ台の上で両立すること.</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi><mo>=</mo><mover><mi>S</mi><mo accent="true">̃</mo></mover><mi>/</mi><mo>≡</mo></mrow><annotation encoding="application/x-tex">S = \tilde{S}/\equiv</annotation></semantics></math> とする.</p>
<p>射影関数 <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mo stretchy="false" form="prefix">(</mo><mi>x</mi><mo>,</mo><mi>f</mi><mo stretchy="false" form="postfix">)</mo><mo>=</mo><mi>x</mi></mrow><annotation encoding="application/x-tex">p (x, f) = x</annotation></semantics></math> を定義する.</p>
<p>また <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">(</mo><mi>x</mi><mo>,</mo><mi>f</mi><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">(x,f)</annotation></semantics></math> の <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>x</mi><annotation encoding="application/x-tex">x</annotation></semantics></math> の近傍を <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>S</mi><annotation encoding="application/x-tex">S</annotation></semantics></math> の点の近傍であると定義することで、 <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>S</mi><annotation encoding="application/x-tex">S</annotation></semantics></math> に位相を導入する.</p>
<p><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>S</mi><annotation encoding="application/x-tex">S</annotation></semantics></math> が位相空間で、<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>p</mi><annotation encoding="application/x-tex">p</annotation></semantics></math> が局所同相写像なので、第二の定義の形が構成されたことになる.</p>
<h3 id="第二の定義-rightarrow-第一の定義-1">第二の定義 <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mo accent="false">⇒</mo><annotation encoding="application/x-tex">\Rightarrow</annotation></semantics></math> 第一の定義</h3>
<p>逆に <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">(</mo><mi>S</mi><mo>,</mo><mi>p</mi><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">(S, p)</annotation></semantics></math> が与えられたときに <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">(</mo><mi>A</mi><mo>,</mo><mi>E</mi><mo>,</mo><mo stretchy="false" form="postfix">⌉</mo><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">(A,E,\rceil)</annotation></semantics></math> を構成してみせる.</p>
<ul class="incremental">
<li>連続関数<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>f</mi><annotation encoding="application/x-tex">f</annotation></semantics></math> が <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>U</mi><annotation encoding="application/x-tex">U</annotation></semantics></math>の上の<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>S</mi><annotation encoding="application/x-tex">S</annotation></semantics></math>の断面であるとは <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mo accent="false">⇔</mo><annotation encoding="application/x-tex">\iff</annotation></semantics></math> <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>∀</mo><mi>x</mi><mo>∈</mo><mi>U</mi><mi>.</mi><mspace width="0.222em"></mspace><mi>p</mi><mo stretchy="false" form="prefix">(</mo><mi>f</mi><mo stretchy="false" form="prefix">(</mo><mi>x</mi><mo stretchy="false" form="postfix">)</mo><mo stretchy="false" form="postfix">)</mo><mo>=</mo><mi>x</mi></mrow><annotation encoding="application/x-tex">\forall x \in U .~ p(f(x)) = x</annotation></semantics></math></li>
<li><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Γ</mi><mo stretchy="false" form="prefix">(</mo><mi>U</mi><mo stretchy="false" form="postfix">)</mo><mo>=</mo><mo stretchy="false" form="prefix">{</mo><mi>f</mi><mo>:</mo><mi>断</mi><mi>面</mi><mi>で</mi><mi>あ</mi><mi>る</mi><mi>よ</mi><mi>う</mi><mi>な</mi><mi>連</mi><mi>続</mi><mi>関</mi><mi>数</mi><mo stretchy="false" form="postfix">}</mo></mrow><annotation encoding="application/x-tex">\Gamma(U) = \{ f : 断面であるような連続関数 \}</annotation></semantics></math></li>
</ul>
<p><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false" form="prefix">(</mo><mo>:</mo><mi>U</mi><mo accent="false">→</mo><mi>S</mi><mo stretchy="false" form="postfix">)</mo><mo>∈</mo><mi>Γ</mi><mo stretchy="false" form="prefix">(</mo><mi>U</mi><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">f (: U \rightarrow S) \in \Gamma(U)</annotation></semantics></math> は局所同相写像.</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>=</mo><munder><mo>⋃</mo><mrow><mi>U</mi><mo>∈</mo><mstyle mathvariant="script"><mi>𝒪</mi></mstyle><mo stretchy="false" form="prefix">(</mo><mi>X</mi><mo stretchy="false" form="postfix">)</mo></mrow></munder><mi>Γ</mi><mo stretchy="false" form="prefix">(</mo><mi>U</mi><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">A = \bigcup_{U \in \mathcal{O}(X)} \Gamma(U)</annotation></semantics></math> <math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo>∈</mo><mi>Γ</mi><mo stretchy="false" form="prefix">(</mo><mi>U</mi><mo stretchy="false" form="postfix">)</mo><mo accent="false">⇔</mo><mi>E</mi><mi>f</mi><mo>=</mo><mi>U</mi></mrow><annotation encoding="application/x-tex">f \in \Gamma(U) \iff Ef = U</annotation></semantics></math> <math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false" form="postfix">⌉</mo><mi>V</mi><mo>=</mo><mi>f</mi><mo stretchy="false" form="prefix">⌈</mo><mo stretchy="false" form="prefix">(</mo><mi>V</mi><mo>∩</mo><mi>E</mi><mi>f</mi><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">f \rceil V = f \lceil (V \cap Ef)</annotation></semantics></math></p>
<p>この <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>Γ</mi><annotation encoding="application/x-tex">\Gamma</annotation></semantics></math> から <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">(</mo><mi>F</mi><mo>,</mo><mi>r</mi><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">(F, r)</annotation></semantics></math> も直接作れて: <math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>F</mi><mo stretchy="false" form="prefix">(</mo><mi>U</mi><mo stretchy="false" form="postfix">)</mo><mo>=</mo><mi>Γ</mi><mo stretchy="false" form="prefix">(</mo><mi>U</mi><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">F(U) = \Gamma(U)</annotation></semantics></math> <math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo>∈</mo><mi>Γ</mi><mo stretchy="false" form="prefix">(</mo><mi>U</mi><mo stretchy="false" form="postfix">)</mo><mo>,</mo><mi>V</mi><mo>⊆</mo><mi>U</mi><mo accent="false">⇒</mo><msub><mi>r</mi><mrow><mi>U</mi><mi>V</mi></mrow></msub><mo>∘</mo><mi>f</mi><mo>=</mo><mi>f</mi><mo stretchy="false" form="prefix">⌈</mo><mi>V</mi></mrow><annotation encoding="application/x-tex">f \in \Gamma(U), V \subseteq U \Rightarrow r_{UV} \circ f = f \lceil V</annotation></semantics></math></p>
<h2 id="前層からの誘導">前層からの誘導</h2>
<p>一般の 前層 <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">(</mo><mi>A</mi><mo>,</mo><mi>E</mi><mo>,</mo><mo stretchy="false" form="postfix">⌉</mo><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">(A,E,\rceil)</annotation></semantics></math> が与えられた時に、 次のように層にできる.</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathvariant="script"><mi>ℱ</mi></mstyle><mo>=</mo><mo stretchy="false" form="prefix">{</mo><mi>F</mi><mo>⊆</mo><mi>A</mi><mo>:</mo><mi>F</mi><mtext mathvariant="normal">の元が常に両立してる</mtext><mo stretchy="false" form="postfix">}</mo></mrow><annotation encoding="application/x-tex">\mathcal{F} = \{ F \subseteq A : F \text{の元が常に両立してる} \}</annotation></semantics></math> <math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>F</mi><mo>∈</mo><mstyle mathvariant="script"><mi>ℱ</mi></mstyle><mo>:</mo><mi>E</mi><mi>F</mi><mo>=</mo><munder><mo>⋃</mo><mrow><mi>f</mi><mo>∈</mo><mi>F</mi></mrow></munder><mi>E</mi><mi>f</mi></mrow><annotation encoding="application/x-tex">F \in \mathcal{F}: EF = \bigcup_{f \in F} Ef</annotation></semantics></math> <math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>F</mi><mo stretchy="false" form="postfix">⌉</mo><mi>U</mi><mo>=</mo><mo stretchy="false" form="prefix">{</mo><mi>f</mi><mo stretchy="false" form="postfix">⌉</mo><mi>U</mi><mo>:</mo><mi>f</mi><mo>∈</mo><mi>F</mi><mo stretchy="false" form="postfix">}</mo></mrow><annotation encoding="application/x-tex">F \rceil U = \{ f \rceil U : f \in F \}</annotation></semantics></math></p>
<p><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>F</mi><mn>1</mn></msub><mo>,</mo><msub><mi>F</mi><mn>2</mn></msub><mo>∈</mo><mstyle mathvariant="script"><mi>ℱ</mi></mstyle></mrow><annotation encoding="application/x-tex">F_1, F_2 \in \mathcal{F}</annotation></semantics></math>: <math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>F</mi><mn>1</mn></msub><mo>≡</mo><msub><mi>F</mi><mn>2</mn></msub><mo accent="false">⇔</mo><mo stretchy="false" form="prefix">(</mo><mi>E</mi><msub><mi>F</mi><mn>1</mn></msub><mo>=</mo><mi>E</mi><msub><mi>F</mi><mn>2</mn></msub><mo stretchy="false" form="postfix">)</mo><mo>∧</mo><mo stretchy="false" form="prefix">(</mo><msub><mi>F</mi><mn>1</mn></msub><mo>∪</mo><msub><mi>F</mi><mn>2</mn></msub><mo>∈</mo><mstyle mathvariant="script"><mi>ℱ</mi></mstyle><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">F_1 \equiv F_2 \iff (EF_1 = EF_2) \land (F_1 \cup F_2 \in \mathcal{F})</annotation></semantics></math></p>
<p>とすると <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathvariant="script"><mi>ℱ</mi></mstyle><mi>/</mi><mo>≡</mo></mrow><annotation encoding="application/x-tex">\mathcal{F}/\equiv</annotation></semantics></math> もまた前層になってる. 定義の仕方から層であることも明らか. というわけで <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathvariant="script"><mi>ℱ</mi></mstyle><mi>/</mi><mo>≡</mo></mrow><annotation encoding="application/x-tex">\mathcal{F}/\equiv</annotation></semantics></math> を、「<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>A</mi><annotation encoding="application/x-tex">A</annotation></semantics></math>に誘導された層 (induced sheaf)」という.</p>
<h2 id="omega-の定義"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>Ω</mi><annotation encoding="application/x-tex">\Omega</annotation></semantics></math> の定義</h2>
<p>Hausdorffでない位相空間として <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>Ω</mi><annotation encoding="application/x-tex">\Omega</annotation></semantics></math> なるものを定義する.</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover><mi>Ω</mi><mo accent="true">̃</mo></mover><mo>=</mo><mo stretchy="false" form="prefix">{</mo><mo stretchy="false" form="prefix">(</mo><mi>x</mi><mo>,</mo><mi>U</mi><mo stretchy="false" form="postfix">)</mo><mo>:</mo><mi>x</mi><mo>∈</mo><mi>X</mi><mo>,</mo><mi>U</mi><mo>∈</mo><mstyle mathvariant="script"><mi>𝒪</mi></mstyle><mo stretchy="false" form="prefix">(</mo><mi>X</mi><mo stretchy="false" form="postfix">)</mo><mo stretchy="false" form="postfix">}</mo></mrow><annotation encoding="application/x-tex">\tilde{\Omega} = \{ (x, U) : x \in X, U \in \mathcal{O}(X) \}</annotation></semantics></math></p>
<p>この上の同値関係: <math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">(</mo><mi>x</mi><mo>,</mo><msub><mi>U</mi><mn>1</mn></msub><mo stretchy="false" form="postfix">)</mo><mo>≡</mo><mo stretchy="false" form="prefix">(</mo><mi>x</mi><mo>,</mo><msub><mi>U</mi><mn>2</mn></msub><mo stretchy="false" form="postfix">)</mo><mo accent="false">⇔</mo><mo>∃</mo><mi>V</mi><mi>.</mi><mspace width="0.222em"></mspace><mi>x</mi><mo>∈</mo><mi>V</mi><mo>∧</mo><mo stretchy="false" form="prefix">(</mo><msub><mi>U</mi><mn>1</mn></msub><mo>∩</mo><mi>V</mi><mo stretchy="false" form="postfix">)</mo><mo>=</mo><mo stretchy="false" form="prefix">(</mo><msub><mi>U</mi><mn>2</mn></msub><mo>∩</mo><mi>V</mi><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">(x, U_1) \equiv (x, U_2) \iff \exists V .~ x \in V \land (U_1 \cap V) = (U_2 \cap V)</annotation></semantics></math></p>
<p>で割って、 <math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Ω</mi><mo>=</mo><mover><mi>Ω</mi><mo accent="true">̃</mo></mover><mi>/</mi><mo>≡</mo></mrow><annotation encoding="application/x-tex">\Omega = \tilde{\Omega}/\equiv</annotation></semantics></math> を定義する.</p>
<p>さらに、 <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">(</mo><mi>x</mi><mo>,</mo><mi>U</mi><mo stretchy="false" form="postfix">)</mo><mo>∈</mo><mi>Ω</mi></mrow><annotation encoding="application/x-tex">(x,U) \in \Omega</annotation></semantics></math> の近傍を <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo>∈</mo><mi>X</mi></mrow><annotation encoding="application/x-tex">x \in X</annotation></semantics></math> の近傍で定義することで位相を導入する. <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>Ω</mi><annotation encoding="application/x-tex">\Omega</annotation></semantics></math> は同値関係の定義の仕方から Hausdorff空間ではない.</p>
<p>開集合 <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi><mo>∈</mo><mstyle mathvariant="script"><mi>𝒪</mi></mstyle><mo stretchy="false" form="prefix">(</mo><mi>X</mi><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">S \in \mathcal{O}(X)</annotation></semantics></math> の閉包を <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mover><mi>S</mi><mo accent="true">¯</mo></mover><annotation encoding="application/x-tex">\overline{S}</annotation></semantics></math> と表記する. <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi><mo>\</mo><mi>S</mi></mrow><annotation encoding="application/x-tex">X \setminus S</annotation></semantics></math> は閉集合で <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi><mo>\</mo><mover><mi>S</mi><mo accent="true">¯</mo></mover></mrow><annotation encoding="application/x-tex">X \setminus \overline{S}</annotation></semantics></math> は閉集合な.</p>
<p><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">(</mo><mi>x</mi><mo>,</mo><mi>U</mi><mo stretchy="false" form="postfix">)</mo><mo>∈</mo><mi>Ω</mi></mrow><annotation encoding="application/x-tex">(x,U) \in \Omega</annotation></semantics></math>:</p>
<ul class="incremental">
<li><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo>∈</mo><mi>U</mi></mrow><annotation encoding="application/x-tex">x \in U</annotation></semantics></math> のとき、<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">(</mo><mi>x</mi><mo>,</mo><mi>U</mi><mo stretchy="false" form="postfix">)</mo><mo>≡</mo><mo stretchy="false" form="prefix">(</mo><mi>x</mi><mo>,</mo><mi>X</mi><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">(x,U) \equiv (x,X)</annotation></semantics></math></li>
<li><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo>∈</mo><mi>X</mi><mo>\</mo><mover><mi>U</mi><mo accent="true">¯</mo></mover></mrow><annotation encoding="application/x-tex">x \in X \setminus \overline{U}</annotation></semantics></math> のとき、<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">(</mo><mi>x</mi><mo>,</mo><mi>U</mi><mo stretchy="false" form="postfix">)</mo><mo>≡</mo><mo stretchy="false" form="prefix">(</mo><mi>x</mi><mo>,</mo><mi>∅</mi><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">(x,U) \equiv (x, \emptyset)</annotation></semantics></math></li>
</ul>
<p><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>x</mi><mn>1</mn></msub><mo>∈</mo><mover><mi>U</mi><mo accent="true">¯</mo></mover><mo>\</mo><mi>U</mi></mrow><annotation encoding="application/x-tex">x_1 \in \overline{U} \setminus U</annotation></semantics></math>, <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>x</mi><mn>2</mn></msub><mo>∈</mo><mi>U</mi></mrow><annotation encoding="application/x-tex">x_2 \in U</annotation></semantics></math> について、 <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">(</mo><msub><mi>x</mi><mn>1</mn></msub><mo>,</mo><mi>U</mi><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">(x_1, U)</annotation></semantics></math> と <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">(</mo><msub><mi>x</mi><mn>2</mn></msub><mo>,</mo><mi>U</mi><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">(x_2, U)</annotation></semantics></math> とは異なる開集合で分別できず、Hausdorffではない.</p>
<p><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mo stretchy="false" form="prefix">(</mo><mi>x</mi><mo>,</mo><mi>U</mi><mo stretchy="false" form="postfix">)</mo><mo>=</mo><mi>x</mi></mrow><annotation encoding="application/x-tex">p(x,U) = x</annotation></semantics></math> という写像を持って、<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">(</mo><mi>Ω</mi><mo>,</mo><mi>p</mi><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">(\Omega, p)</annotation></semantics></math> は層です.</p>
<h3 id="先程述べたsp-の構成から-aerceilの構成を真似してみると">先程述べた、<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">(</mo><mi>S</mi><mo>,</mo><mi>p</mi><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">(S,p)</annotation></semantics></math> の構成から <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">(</mo><mi>A</mi><mo>,</mo><mi>E</mi><mo>,</mo><mo stretchy="false" form="postfix">⌉</mo><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">(A,E,\rceil)</annotation></semantics></math>の構成を真似してみると、</h3>
<p><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>U</mi><annotation encoding="application/x-tex">U</annotation></semantics></math>の上の<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>Ω</mi><annotation encoding="application/x-tex">\Omega</annotation></semantics></math>の断面は <math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Γ</mi><mo stretchy="false" form="prefix">(</mo><mi>U</mi><mo stretchy="false" form="postfix">)</mo><mo>=</mo><mo stretchy="false" form="prefix">{</mo><mi>f</mi><mo stretchy="false" form="prefix">(</mo><mo>:</mo><mi>U</mi><mo accent="false">→</mo><mi>Ω</mi><mo stretchy="false" form="postfix">)</mo><mo>:</mo><mi>x</mi><mo>∈</mo><mi>U</mi><mo>,</mo><mi>p</mi><mo stretchy="false" form="prefix">(</mo><mi>f</mi><mo stretchy="false" form="prefix">(</mo><mi>x</mi><mo stretchy="false" form="postfix">)</mo><mo stretchy="false" form="postfix">)</mo><mo>=</mo><mi>x</mi><mo stretchy="false" form="postfix">}</mo><mo>=</mo><mo stretchy="false" form="prefix">{</mo><mi>f</mi><mo>:</mo><mi>V</mi><mo>∈</mo><mstyle mathvariant="script"><mi>𝒪</mi></mstyle><mo stretchy="false" form="prefix">(</mo><mi>X</mi><mo stretchy="false" form="postfix">)</mo><mo>,</mo><mi>f</mi><mo stretchy="false" form="prefix">(</mo><mi>x</mi><mo stretchy="false" form="postfix">)</mo><mo>≡</mo><mo stretchy="false" form="prefix">(</mo><mi>x</mi><mo>,</mo><mi>V</mi><mo stretchy="false" form="postfix">)</mo><mo stretchy="false" form="postfix">}</mo></mrow><annotation encoding="application/x-tex">\Gamma(U) = \{ f (: U \rightarrow \Omega) : x \in U, p(f(x)) = x \} = \{ f : V \in \mathcal{O}(X), f(x) \equiv (x, V) \}</annotation></semantics></math></p>
<p><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>∀</mo><mi>x</mi><mo>∈</mo><mi>U</mi><mi>.</mi><mspace width="0.222em"></mspace><mi>f</mi><mo stretchy="false" form="prefix">(</mo><mi>x</mi><mo stretchy="false" form="postfix">)</mo><mo>≡</mo><mo stretchy="false" form="prefix">(</mo><mi>x</mi><mo>,</mo><mi>V</mi><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">\forall x \in U.~ f(x) \equiv (x, V)</annotation></semantics></math> となるようにすればいいんだけど、 <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>V</mi><mo>⊆</mo><mi>U</mi></mrow><annotation encoding="application/x-tex">V \subseteq U</annotation></semantics></math> っていう条件をつけると、 <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">(</mo><mi>x</mi><mo>,</mo><msub><mi>V</mi><mn>1</mn></msub><mo stretchy="false" form="postfix">)</mo><mo>≡</mo><mo stretchy="false" form="prefix">(</mo><mi>x</mi><mo>,</mo><msub><mi>V</mi><mn>2</mn></msub><mo stretchy="false" form="postfix">)</mo><mo accent="false">⇔</mo><msub><mi>V</mi><mn>1</mn></msub><mo>=</mo><msub><mi>V</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">(x,V_1) \equiv (x,V_2) \iff V_1 = V_2</annotation></semantics></math> より <math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Γ</mi><mo stretchy="false" form="prefix">(</mo><mi>U</mi><mo stretchy="false" form="postfix">)</mo><mo>=</mo><mo stretchy="false" form="prefix">{</mo><mi>f</mi><mo>:</mo><mi>V</mi><mo>∈</mo><mstyle mathvariant="script"><mi>𝒪</mi></mstyle><mo stretchy="false" form="prefix">(</mo><mi>X</mi><mo stretchy="false" form="postfix">)</mo><mo>,</mo><mi>V</mi><mo>⊆</mo><mi>U</mi><mo>,</mo><mi>f</mi><mo stretchy="false" form="prefix">(</mo><mi>x</mi><mo stretchy="false" form="postfix">)</mo><mo>=</mo><mo stretchy="false" form="prefix">(</mo><mi>x</mi><mo>,</mo><mi>V</mi><mo stretchy="false" form="postfix">)</mo><mo stretchy="false" form="postfix">}</mo></mrow><annotation encoding="application/x-tex">\Gamma(U) = \{ f : V \in \mathcal{O}(X), V \subseteq U, f(x) = (x, V) \}</annotation></semantics></math> とできる.</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>=</mo><mo>⋃</mo><mi>Γ</mi><mo stretchy="false" form="prefix">(</mo><mi>U</mi><mo stretchy="false" form="postfix">)</mo><mo>=</mo><mo stretchy="false" form="prefix">{</mo><mi>f</mi><mo>:</mo><mi>U</mi><mo>,</mo><mi>V</mi><mo>∈</mo><mstyle mathvariant="script"><mi>𝒪</mi></mstyle><mo stretchy="false" form="prefix">(</mo><mi>X</mi><mo stretchy="false" form="postfix">)</mo><mo>,</mo><mo>∀</mo><mi>x</mi><mo>∈</mo><mi>U</mi><mi>.</mi><mi>f</mi><mo stretchy="false" form="prefix">(</mo><mi>x</mi><mo stretchy="false" form="postfix">)</mo><mo>=</mo><mo stretchy="false" form="prefix">(</mo><mi>x</mi><mo>,</mo><mi>V</mi><mo stretchy="false" form="postfix">)</mo><mo stretchy="false" form="postfix">}</mo></mrow><annotation encoding="application/x-tex">A = \bigcup \Gamma(U) = \{ f : U,V \in \mathcal{O}(X), \forall x \in U . f(x) = (x, V) \}</annotation></semantics></math> が層になる. <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>A</mi><annotation encoding="application/x-tex">A</annotation></semantics></math>の元は2つの <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>U</mi><mo>,</mo><mi>V</mi><mo>∈</mo><mstyle mathvariant="script"><mi>𝒪</mi></mstyle><mo stretchy="false" form="prefix">(</mo><mi>X</mi><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">U,V \in \mathcal{O}(X)</annotation></semantics></math> に対応してるので <math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Ω</mi><mo>=</mo><mo stretchy="false" form="prefix">{</mo><mo stretchy="false" form="prefix">(</mo><mi>V</mi><mo>,</mo><mi>U</mi><mo stretchy="false" form="postfix">)</mo><mo>:</mo><mi>V</mi><mo>,</mo><mi>U</mi><mo>∈</mo><mstyle mathvariant="script"><mi>𝒪</mi></mstyle><mo stretchy="false" form="prefix">(</mo><mi>X</mi><mo stretchy="false" form="postfix">)</mo><mo>,</mo><mi>V</mi><mo>⊆</mo><mi>U</mi><mo stretchy="false" form="postfix">}</mo></mrow><annotation encoding="application/x-tex">\Omega = \{ (V,U) : V,U \in \mathcal{O}(X), V \subseteq U \}</annotation></semantics></math></p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mo stretchy="false" form="prefix">(</mo><mi>V</mi><mo>,</mo><mi>U</mi><mo stretchy="false" form="postfix">)</mo><mo>=</mo><mi>U</mi></mrow><annotation encoding="application/x-tex">E(V,U) = U</annotation></semantics></math> <math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">(</mo><mi>V</mi><mo>,</mo><mi>U</mi><mo stretchy="false" form="postfix">)</mo><mo stretchy="false" form="postfix">⌉</mo><mi>W</mi><mo>=</mo><mo stretchy="false" form="prefix">(</mo><mi>V</mi><mo>∩</mo><mi>W</mi><mo>,</mo><mi>U</mi><mo>∩</mo><mi>W</mi><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">(V,U) \rceil W = (V \cap W, U \cap W)</annotation></semantics></math></p>
<h2 id="層から層への射">層から層への射</h2>
<p><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>X</mi><annotation encoding="application/x-tex">X</annotation></semantics></math>の上の2つの層 <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">(</mo><msub><mi>Y</mi><mn>1</mn></msub><mo>,</mo><msub><mi>p</mi><mn>1</mn></msub><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">(Y_1, p_1)</annotation></semantics></math> と <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">(</mo><msub><mi>Y</mi><mn>2</mn></msub><mo>,</mo><msub><mi>p</mi><mn>2</mn></msub><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">(Y_2, p_2)</annotation></semantics></math> とがあるとき、 下図のような可換図式を作る連続関数: <math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo>:</mo><msub><mi>Y</mi><mn>1</mn></msub><mo accent="false">→</mo><msub><mi>Y</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">f : Y_1 \rightarrow Y_2</annotation></semantics></math> を層から層への射だという. すなわち <math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>p</mi><mn>1</mn></msub><mo>=</mo><msub><mi>p</mi><mn>2</mn></msub><mo>∘</mo><mi>f</mi></mrow><annotation encoding="application/x-tex">p_1 = p_2 \circ f</annotation></semantics></math></p>
<figure>
<img src="./img/sheaf.0.png" />
</figure>
<p><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">(</mo><msub><mi>Y</mi><mn>1</mn></msub><mo>,</mo><msub><mi>p</mi><mn>1</mn></msub><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">(Y_1, p_1)</annotation></semantics></math> および <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">(</mo><msub><mi>Y</mi><mn>2</mn></msub><mo>,</mo><msub><mi>p</mi><mn>2</mn></msub><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">(Y_2, p_2)</annotation></semantics></math> を、第一の定義で <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">(</mo><mi>A</mi><mo>,</mo><mi>E</mi><mo>,</mo><mo stretchy="false" form="postfix">⌉</mo><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">(A,E,\rceil)</annotation></semantics></math> と <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">(</mo><mi>B</mi><mo>,</mo><mi>E</mi><mo>,</mo><mo stretchy="false" form="postfix">⌉</mo><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">(B,E,\rceil)</annotation></semantics></math> とに書き換えてみる. このとき <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>f</mi><annotation encoding="application/x-tex">f</annotation></semantics></math> はいかに表現されるか.</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mtable><mtr><mtd columnalign="right"><msub><mi>Γ</mi><mi>A</mi></msub><mo stretchy="false" form="prefix">(</mo><mi>U</mi><mo stretchy="false" form="postfix">)</mo></mtd><mtd columnalign="left"><mo>=</mo><mo stretchy="false" form="prefix">{</mo><mi>a</mi><mo>:</mo><msub><mi>p</mi><mn>1</mn></msub><mo stretchy="false" form="prefix">(</mo><mi>a</mi><mo stretchy="false" form="prefix">(</mo><mi>x</mi><mo stretchy="false" form="postfix">)</mo><mo stretchy="false" form="postfix">)</mo><mo>=</mo><mi>x</mi><mo stretchy="false" form="postfix">}</mo></mtd></mtr><mtr><mtd columnalign="right"></mtd><mtd columnalign="left"><mo>=</mo><mo stretchy="false" form="prefix">{</mo><mi>a</mi><mo>:</mo><msub><mi>p</mi><mn>2</mn></msub><mo stretchy="false" form="prefix">(</mo><mi>f</mi><mo stretchy="false" form="prefix">(</mo><mi>a</mi><mo stretchy="false" form="prefix">(</mo><mi>x</mi><mo stretchy="false" form="postfix">)</mo><mo stretchy="false" form="postfix">)</mo><mo stretchy="false" form="postfix">)</mo><mo>=</mo><mi>x</mi><mo stretchy="false" form="postfix">}</mo></mtd></mtr><mtr><mtd columnalign="right"></mtd><mtd columnalign="left"><mo>=</mo><mo stretchy="false" form="prefix">{</mo><mi>a</mi><mo>:</mo><msub><mi>p</mi><mn>2</mn></msub><mo stretchy="false" form="prefix">(</mo><mo stretchy="false" form="prefix">(</mo><mi>f</mi><mo>∘</mo><mi>a</mi><mo stretchy="false" form="postfix">)</mo><mo stretchy="false" form="prefix">(</mo><mi>x</mi><mo stretchy="false" form="postfix">)</mo><mo stretchy="false" form="postfix">)</mo><mo stretchy="false" form="postfix">)</mo><mo>=</mo><mi>x</mi><mo stretchy="false" form="postfix">}</mo></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{align}
\Gamma_A(U) &amp; = \{ a : p_1(a(x)) = x \}\\
&amp; = \{ a : p_2(f(a(x))) = x \}\\
&amp; = \{ a : p_2((f \circ a)(x))) = x \}
\end{align}</annotation></semantics></math></p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mtable><mtr><mtd columnalign="right"><msub><mi>Γ</mi><mi>B</mi></msub><mo stretchy="false" form="prefix">(</mo><mi>U</mi><mo stretchy="false" form="postfix">)</mo></mtd><mtd columnalign="left"><mo>=</mo><mo stretchy="false" form="prefix">{</mo><mi>b</mi><mo>:</mo><msub><mi>p</mi><mn>2</mn></msub><mo stretchy="false" form="prefix">(</mo><mi>b</mi><mo stretchy="false" form="prefix">(</mo><mi>x</mi><mo stretchy="false" form="postfix">)</mo><mo stretchy="false" form="postfix">)</mo><mo>=</mo><mi>x</mi><mo stretchy="false" form="postfix">}</mo></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{align}
\Gamma_B(U) &amp; = \{ b : p_2(b(x)) = x \}
\end{align}</annotation></semantics></math></p>
<p>従って、<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mo>∈</mo><mi>A</mi><mo accent="false">⇔</mo><mo stretchy="false" form="prefix">(</mo><mi>f</mi><mo>∘</mo><mi>a</mi><mo stretchy="false" form="postfix">)</mo><mo>∈</mo><mi>B</mi></mrow><annotation encoding="application/x-tex">a \in A \iff (f \circ a) \in B</annotation></semantics></math> です. かなり紛らわしいけど、<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo>∘</mo><mi>a</mi></mrow><annotation encoding="application/x-tex">f \circ a</annotation></semantics></math> を <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false" form="prefix">(</mo><mi>a</mi><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">f(a)</annotation></semantics></math> とかくことにする. 後者の <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>f</mi><annotation encoding="application/x-tex">f</annotation></semantics></math> は前者の <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>f</mi><annotation encoding="application/x-tex">f</annotation></semantics></math> とは違う写像で <math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo>:</mo><mi>A</mi><mo accent="false">→</mo><mi>B</mi></mrow><annotation encoding="application/x-tex">f : A \rightarrow B</annotation></semantics></math></p>
<p><a name="arr-definition-of-sheaf1"></a> 次の2つを満たす. <math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mi>f</mi><mo stretchy="false" form="prefix">(</mo><mi>a</mi><mo stretchy="false" form="postfix">)</mo><mo>=</mo><mi>E</mi><mi>a</mi></mrow><annotation encoding="application/x-tex">Ef(a) = Ea</annotation></semantics></math> <math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false" form="prefix">(</mo><mi>a</mi><mo stretchy="false" form="postfix">⌉</mo><mi>U</mi><mo stretchy="false" form="postfix">)</mo><mo>=</mo><mi>f</mi><mo stretchy="false" form="prefix">(</mo><mi>a</mi><mo stretchy="false" form="postfix">)</mo><mo stretchy="false" form="postfix">⌉</mo><mi>U</mi></mrow><annotation encoding="application/x-tex">f (a\rceil U) = f(a) \rceil U</annotation></semantics></math></p>
<p>ドメインも射も保存される.</p>
<h2 id="omegaの性質"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>Ω</mi><annotation encoding="application/x-tex">\Omega</annotation></semantics></math>の性質</h2>
<p><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">(</mo><mi>X</mi><mo>,</mo><mi>i</mi><msub><mi>d</mi><mi>X</mi></msub><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">(X, id_X)</annotation></semantics></math> は明らかに <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>X</mi><annotation encoding="application/x-tex">X</annotation></semantics></math>上の層である. この層を <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mn>1</mn><mi>X</mi></msub><annotation encoding="application/x-tex">1_X</annotation></semantics></math> とか <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mn>1</mn><annotation encoding="application/x-tex">1</annotation></semantics></math> と書く.</p>
<p><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>X</mi><annotation encoding="application/x-tex">X</annotation></semantics></math>の上の層 <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">(</mo><mi>Y</mi><mo>,</mo><mi>p</mi><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">(Y,p)</annotation></semantics></math> から層1への射は唯一つ存在する. なぜならば: <math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mo>=</mo><mi>i</mi><msub><mi>d</mi><mi>X</mi></msub><mo>∘</mo><mi>f</mi><mo accent="false">⇔</mo><mi>f</mi><mo>=</mo><mi>p</mi></mrow><annotation encoding="application/x-tex">p = id_X \circ f \iff f = p</annotation></semantics></math></p>
<p>局所同相写像 <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>t</mi><mo>:</mo><mi>X</mi><mo accent="false">→</mo><mi>Ω</mi></mrow><annotation encoding="application/x-tex">t: X \rightarrow \Omega</annotation></semantics></math> を次のように定義する: <math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>t</mi><mo stretchy="false" form="prefix">(</mo><mi>x</mi><mo stretchy="false" form="postfix">)</mo><mo>=</mo><mo stretchy="false" form="prefix">(</mo><mi>x</mi><mo>,</mo><mi>X</mi><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">t(x) = (x, X)</annotation></semantics></math></p>
<p>これは <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>t</mi><mo>:</mo><mn>1</mn><mo accent="false">→</mo><mi>Ω</mi></mrow><annotation encoding="application/x-tex">t: 1 \rightarrow \Omega</annotation></semantics></math> という層から層への射でもある.</p>
<p><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>X</mi><annotation encoding="application/x-tex">X</annotation></semantics></math>上の層 <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">(</mo><mi>Y</mi><mo>,</mo><mi>p</mi><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">(Y, p)</annotation></semantics></math> は普通の関数の制限でもって <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">(</mo><msub><mi>Y</mi><mn>0</mn></msub><mo>,</mo><msub><mi>p</mi><mn>0</mn></msub><mo>=</mo><mi>p</mi><mo stretchy="false" form="prefix">⌈</mo><msub><mi>Y</mi><mn>0</mn></msub><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">(Y_0, p_0=p \lceil Y_0)</annotation></semantics></math> (ただし <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Y</mi><mn>0</mn></msub><mo>⊆</mo><mi>Y</mi></mrow><annotation encoding="application/x-tex">Y_0 \subseteq Y</annotation></semantics></math>) という別な層を作れる. <math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mo>:</mo><mi>Y</mi><mo accent="false">→</mo><mi>X</mi></mrow><annotation encoding="application/x-tex">p: Y \rightarrow X</annotation></semantics></math> <math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>p</mi><mn>0</mn></msub><mo>:</mo><msub><mi>Y</mi><mn>0</mn></msub><mo accent="false">→</mo><mi>X</mi></mrow><annotation encoding="application/x-tex">p_0: Y_0 \rightarrow X</annotation></semantics></math> <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi><mi>d</mi><mo>:</mo><msub><mi>Y</mi><mn>0</mn></msub><mo accent="false">→</mo><mi>Y</mi></mrow><annotation encoding="application/x-tex">id: Y_0 \rightarrow Y</annotation></semantics></math> という恒等写像は <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>Y</mi><mn>0</mn></msub><annotation encoding="application/x-tex">Y_0</annotation></semantics></math>から<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>Y</mi><annotation encoding="application/x-tex">Y</annotation></semantics></math>への射である.</p>
<p><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi><mo>∈</mo><mi>Y</mi></mrow><annotation encoding="application/x-tex">y \in Y</annotation></semantics></math>, <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>y</mi><annotation encoding="application/x-tex">y</annotation></semantics></math>の近傍 <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>U</mi><mo>⊆</mo><mi>Y</mi></mrow><annotation encoding="application/x-tex">U \subseteq Y</annotation></semantics></math>, <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>U</mi><mn>0</mn></msub><mo>=</mo><mi>U</mi><mo>∩</mo><msub><mi>Y</mi><mn>0</mn></msub></mrow><annotation encoding="application/x-tex">U_0 = U \cap Y_0</annotation></semantics></math>.<br />
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo>=</mo><mi>p</mi><mo stretchy="false" form="prefix">(</mo><mi>y</mi><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">x = p(y)</annotation></semantics></math>, <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>V</mi><mn>0</mn></msub><mo>=</mo><mi>p</mi><mo stretchy="false" form="prefix">(</mo><msub><mi>U</mi><mn>0</mn></msub><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">V_0 = p(U_0)</annotation></semantics></math> 射 <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo>:</mo><mi>Y</mi><mo accent="false">→</mo><mi>Ω</mi></mrow><annotation encoding="application/x-tex">f: Y \rightarrow \Omega</annotation></semantics></math> <math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false" form="prefix">(</mo><mi>y</mi><mo stretchy="false" form="postfix">)</mo><mo>=</mo><mo stretchy="false" form="prefix">(</mo><mi>x</mi><mo>,</mo><msub><mi>V</mi><mn>0</mn></msub><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">f(y) = (x, V_0)</annotation></semantics></math> を定義すると、</p>
<figure>
<img src="./img/sheaf.1.png" />
</figure>
<p>が可換である. 先に述べたように、<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Y</mi><mn>0</mn></msub><mo accent="false">→</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">Y_0 \rightarrow 1</annotation></semantics></math> という射は <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>p</mi><annotation encoding="application/x-tex">p</annotation></semantics></math> 唯一つである.</p>
<p>さて、次が可換であるような <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>X</mi><annotation encoding="application/x-tex">X</annotation></semantics></math> 上の層 <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">(</mo><mi>Z</mi><mo>,</mo><msub><mi>p</mi><mi>Z</mi></msub><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">(Z, p_Z)</annotation></semantics></math> 及び射 <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>g</mi><mo>,</mo><mi>h</mi></mrow><annotation encoding="application/x-tex">g, h</annotation></semantics></math> を仮定する.</p>
<figure>
<img src="./img/sheaf.2.png" />
</figure>
<p>これが可換であるとはすなわち、 <math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo>∘</mo><mi>g</mi><mo>=</mo><mi>t</mi><mo>∘</mo><mi>h</mi></mrow><annotation encoding="application/x-tex">f \circ g = t \circ h</annotation></semantics></math> とあること. <math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>t</mi><mo>∘</mo><mi>h</mi><mo>=</mo><mi>t</mi><mo>∘</mo><msub><mi>p</mi><mi>Z</mi></msub><mo>=</mo><mi>λ</mi><mi>z</mi><mi>.</mi><mspace width="0.222em"></mspace><mo stretchy="false" form="prefix">(</mo><msub><mi>p</mi><mi>Z</mi></msub><mo stretchy="false" form="prefix">(</mo><mi>z</mi><mo stretchy="false" form="postfix">)</mo><mo>,</mo><mi>X</mi><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">t \circ h = t \circ p_Z = \lambda z .~ (p_Z(z), X)</annotation></semantics></math> <math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo>∘</mo><mi>g</mi><mo>=</mo><mi>λ</mi><mi>z</mi><mi>.</mi><mspace width="0.222em"></mspace><mo stretchy="false" form="prefix">(</mo><msub><mi>p</mi><mi>Z</mi></msub><mo stretchy="false" form="prefix">(</mo><mi>z</mi><mo stretchy="false" form="postfix">)</mo><mo>,</mo><mi>X</mi><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">f \circ g = \lambda z .~ (p_Z(z), X)</annotation></semantics></math> <math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false" form="prefix">(</mo><mi>g</mi><mo stretchy="false" form="prefix">(</mo><mi>z</mi><mo stretchy="false" form="postfix">)</mo><mo stretchy="false" form="postfix">)</mo><mo>=</mo><mo stretchy="false" form="prefix">(</mo><msub><mi>p</mi><mi>Z</mi></msub><mo stretchy="false" form="prefix">(</mo><mi>z</mi><mo stretchy="false" form="postfix">)</mo><mo>,</mo><mi>X</mi><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">f(g(z)) = (p_Z(z), X)</annotation></semantics></math></p>
<p><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo>=</mo><msub><mi>p</mi><mi>Z</mi></msub><mo stretchy="false" form="prefix">(</mo><mi>z</mi><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">x = p_Z(z)</annotation></semantics></math>, <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi><mo>=</mo><mi>g</mi><mo stretchy="false" form="prefix">(</mo><mi>z</mi><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">y = g(z)</annotation></semantics></math> とおくと、 <math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false" form="prefix">(</mo><mi>y</mi><mo stretchy="false" form="postfix">)</mo><mo>=</mo><mo stretchy="false" form="prefix">(</mo><mi>x</mi><mo>,</mo><mi>X</mi><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">f(y) = (x, X)</annotation></semantics></math></p>
<p><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>f</mi><annotation encoding="application/x-tex">f</annotation></semantics></math>の定義から <math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false" form="prefix">(</mo><mi>y</mi><mo stretchy="false" form="postfix">)</mo><mo>=</mo><mo stretchy="false" form="prefix">(</mo><mi>p</mi><mo stretchy="false" form="prefix">(</mo><mi>y</mi><mo stretchy="false" form="postfix">)</mo><mo>,</mo><mi>p</mi><mo stretchy="false" form="prefix">(</mo><mi>U</mi><mo stretchy="false" form="prefix">(</mo><mi>y</mi><mo stretchy="false" form="postfix">)</mo><mo>∩</mo><msub><mi>Y</mi><mn>0</mn></msub><mo stretchy="false" form="postfix">)</mo><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">f(y) = (p(y), p(U(y) \cap Y_0))</annotation></semantics></math></p>
<p>したがって <math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mo stretchy="false" form="prefix">(</mo><mi>y</mi><mo stretchy="false" form="postfix">)</mo><mo>=</mo><mi>x</mi></mrow><annotation encoding="application/x-tex">p(y) = x</annotation></semantics></math> <math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mo stretchy="false" form="prefix">(</mo><mi>y</mi><mo stretchy="false" form="postfix">)</mo><mo>⊆</mo><mi>p</mi><mo stretchy="false" form="prefix">(</mo><mi>U</mi><mo stretchy="false" form="prefix">(</mo><mi>y</mi><mo stretchy="false" form="postfix">)</mo><mo>∩</mo><msub><mi>Y</mi><mn>0</mn></msub><mo stretchy="false" form="postfix">)</mo><mo accent="false">⇔</mo><mi>y</mi><mo>∈</mo><msub><mi>Y</mi><mn>0</mn></msub><mo accent="false">⇔</mo><mi>g</mi><mo stretchy="false" form="prefix">(</mo><mi>z</mi><mo stretchy="false" form="postfix">)</mo><mo>∈</mo><msub><mi>Y</mi><mn>0</mn></msub></mrow><annotation encoding="application/x-tex">p(y) \subseteq p(U(y) \cap Y_0) \iff y \in Y_0 \iff g(z) \in Y_0</annotation></semantics></math></p>
<p>特に2つ目から、 <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>g</mi><annotation encoding="application/x-tex">g</annotation></semantics></math> は <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>g</mi><mo>:</mo><mi>Z</mi><mo accent="false">→</mo><msub><mi>Y</mi><mn>0</mn></msub></mrow><annotation encoding="application/x-tex">g: Z \rightarrow Y_0</annotation></semantics></math> という射にもなっていることがわかる. 先ほどの可換図式から、<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Z</mi><mo accent="false">→</mo><msub><mi>Y</mi><mn>0</mn></msub></mrow><annotation encoding="application/x-tex">Z \rightarrow Y_0</annotation></semantics></math> という射が唯一つ導かれること.</p>
<figure>
<img src="./img/sheaf.3.png" />
</figure>
<h3 id="pullback">pullback</h3>
<p>先に出てきた図式をより一般化する. <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>X</mi><annotation encoding="application/x-tex">X</annotation></semantics></math>の上の4つの層 <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Y</mi><mn>1</mn></msub><mo>,</mo><msub><mi>Y</mi><mn>2</mn></msub><mo>,</mo><msub><mi>Y</mi><mn>3</mn></msub><mo>,</mo><msub><mi>Y</mi><mn>4</mn></msub></mrow><annotation encoding="application/x-tex">Y_1, Y_2, Y_3, Y_4</annotation></semantics></math> に次のような射があるとする:</p>
<figure>
<img src="./img/sheaf.4.png" />
</figure>
<p>この図式が</p>
<p><img src="./img/sheaf.5.png" /> の pullback であるとは、 任意の <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">(</mo><mi>Z</mi><mo>,</mo><mi>m</mi><mo>:</mo><mi>Z</mi><mo accent="false">→</mo><msub><mi>Y</mi><mn>2</mn></msub><mo>,</mo><mi>ℓ</mi><mo>:</mo><mi>Z</mi><mo accent="false">→</mo><msub><mi>Y</mi><mn>3</mn></msub><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">(Z, m: Z \rightarrow Y_2, \ell: Z \rightarrow Y_3)</annotation></semantics></math> について <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Z</mi><mo accent="false">→</mo><msub><mi>Y</mi><mn>4</mn></msub></mrow><annotation encoding="application/x-tex">Z \rightarrow Y_4</annotation></semantics></math> が唯一つ存在すること.</p>
<figure>
<img src="./img/sheaf.6.png" />
</figure>
<h2 id="層の直積">層の直積</h2>
<p><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>X</mi><annotation encoding="application/x-tex">X</annotation></semantics></math>上の2つの層 <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">(</mo><msub><mi>Y</mi><mn>1</mn></msub><mo>,</mo><msub><mi>p</mi><mn>1</mn></msub><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">(Y_1, p_1)</annotation></semantics></math>, <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">(</mo><msub><mi>Y</mi><mn>2</mn></msub><mo>,</mo><msub><mi>p</mi><mn>2</mn></msub><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">(Y_2, p_2)</annotation></semantics></math> の直積を定義する. つまり、この2つから導かれる新しい <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>X</mi><annotation encoding="application/x-tex">X</annotation></semantics></math>上の層 <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Y</mi><mn>1</mn></msub><mo>×</mo><msub><mi>Y</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">Y_1 \times Y_2</annotation></semantics></math> を定義する: <math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Y</mi><mn>1</mn></msub><mo>×</mo><msub><mi>Y</mi><mn>2</mn></msub><mo>=</mo><mo stretchy="false" form="prefix">{</mo><mo stretchy="false" form="prefix">(</mo><msub><mi>y</mi><mn>1</mn></msub><mo>,</mo><msub><mi>y</mi><mn>2</mn></msub><mo stretchy="false" form="postfix">)</mo><mo>:</mo><msub><mi>y</mi><mn>1</mn></msub><mo>∈</mo><msub><mi>Y</mi><mn>1</mn></msub><mo>,</mo><msub><mi>y</mi><mn>2</mn></msub><mo>∈</mo><msub><mi>Y</mi><mn>2</mn></msub><mo>,</mo><msub><mi>p</mi><mn>1</mn></msub><mo stretchy="false" form="prefix">(</mo><msub><mi>y</mi><mn>1</mn></msub><mo stretchy="false" form="postfix">)</mo><mo>=</mo><msub><mi>p</mi><mn>2</mn></msub><mo stretchy="false" form="prefix">(</mo><msub><mi>y</mi><mn>2</mn></msub><mo stretchy="false" form="postfix">)</mo><mo stretchy="false" form="postfix">}</mo></mrow><annotation encoding="application/x-tex">Y_1 \times Y_2 = \{ (y_1, y_2) : y_1 \in Y_1, y_2 \in Y_2, p_1(y_1) = p_2(y_2) \}</annotation></semantics></math> <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mo stretchy="false" form="prefix">(</mo><msub><mi>y</mi><mn>1</mn></msub><mo>,</mo><msub><mi>y</mi><mn>2</mn></msub><mo stretchy="false" form="postfix">)</mo><mo>=</mo><msub><mi>p</mi><mn>1</mn></msub><mo stretchy="false" form="prefix">(</mo><msub><mi>y</mi><mn>1</mn></msub><mo stretchy="false" form="postfix">)</mo><mo>=</mo><msub><mi>p</mi><mn>2</mn></msub><mo stretchy="false" form="prefix">(</mo><msub><mi>y</mi><mn>2</mn></msub><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">p(y_1,y_2) = p_1(y_1) = p_2(y_2)</annotation></semantics></math> とおけば、これはこの直積の為の局所同相写像. <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Y</mi><mn>1</mn></msub><mo>×</mo><msub><mi>Y</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">Y_1 \times Y_2</annotation></semantics></math> に位相を導入するために近傍を定義したい.</p>
<p><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">(</mo><msub><mi>y</mi><mn>1</mn></msub><mo>,</mo><msub><mi>y</mi><mn>2</mn></msub><mo stretchy="false" form="postfix">)</mo><mo>∈</mo><msub><mi>Y</mi><mn>1</mn></msub><mo>×</mo><msub><mi>Y</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">(y_1, y_2) \in Y_1 \times Y_2</annotation></semantics></math>:<br />
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>x</mi><mn>0</mn></msub><mo>=</mo><msub><mi>p</mi><mn>1</mn></msub><mo stretchy="false" form="prefix">(</mo><msub><mi>y</mi><mn>1</mn></msub><mo stretchy="false" form="postfix">)</mo><mo>=</mo><msub><mi>p</mi><mn>2</mn></msub><mo stretchy="false" form="prefix">(</mo><msub><mi>y</mi><mn>2</mn></msub><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">x_0 = p_1(y_1) = p_2(y_2)</annotation></semantics></math><br />
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>y</mi><mn>1</mn></msub><annotation encoding="application/x-tex">y_1</annotation></semantics></math> の近傍 <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>U</mi><mn>1</mn></msub><annotation encoding="application/x-tex">U_1</annotation></semantics></math>, <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>x</mi><mn>0</mn></msub><annotation encoding="application/x-tex">x_0</annotation></semantics></math> の近傍 <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>V</mi><mn>1</mn></msub><annotation encoding="application/x-tex">V_1</annotation></semantics></math>: <math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>p</mi><mn>1</mn></msub><mo>:</mo><msub><mi>U</mi><mn>1</mn></msub><mo accent="false">→</mo><msub><mi>V</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">p_1: U_1 \rightarrow V_1</annotation></semantics></math></p>
<p><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>y</mi><mn>2</mn></msub><annotation encoding="application/x-tex">y_2</annotation></semantics></math> の近傍 <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>U</mi><mn>2</mn></msub><annotation encoding="application/x-tex">U_2</annotation></semantics></math>, <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>x</mi><mn>0</mn></msub><annotation encoding="application/x-tex">x_0</annotation></semantics></math> の近傍 <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>V</mi><mn>2</mn></msub><annotation encoding="application/x-tex">V_2</annotation></semantics></math>: <math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>p</mi><mn>2</mn></msub><mo>:</mo><msub><mi>U</mi><mn>2</mn></msub><mo accent="false">→</mo><msub><mi>V</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">p_2: U_2 \rightarrow V_2</annotation></semantics></math></p>
<p><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>V</mi><mo>=</mo><msub><mi>V</mi><mn>1</mn></msub><mo>∩</mo><msub><mi>V</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">V = V_1 \cap V_2</annotation></semantics></math>: <math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>U</mi><mo stretchy="false" form="prefix">(</mo><msub><mi>y</mi><mn>1</mn></msub><mo>,</mo><msub><mi>y</mi><mn>2</mn></msub><mo stretchy="false" form="postfix">)</mo><mo>=</mo><mo stretchy="false" form="prefix">{</mo><mo stretchy="false" form="prefix">(</mo><msubsup><mi>p</mi><mn>1</mn><mrow><mo>−</mo><mn>1</mn></mrow></msubsup><mo stretchy="false" form="prefix">(</mo><mi>x</mi><mo stretchy="false" form="postfix">)</mo><mo>,</mo><msubsup><mi>p</mi><mn>2</mn><mrow><mo>−</mo><mn>1</mn></mrow></msubsup><mo stretchy="false" form="prefix">(</mo><mi>x</mi><mo stretchy="false" form="postfix">)</mo><mo stretchy="false" form="postfix">)</mo><mo>:</mo><mi>x</mi><mo>∈</mo><mi>V</mi><mo stretchy="false" form="postfix">}</mo></mrow><annotation encoding="application/x-tex">U(y_1, y_2) = \{ ( p_1^{-1}(x), p_2^{-1}(x) ) : x \in V \}</annotation></semantics></math> これを <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Y</mi><mn>1</mn></msub><mo>×</mo><msub><mi>Y</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">Y_1 \times Y_2</annotation></semantics></math> 上の近傍と定義する.<br />
要するに<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>p</mi><annotation encoding="application/x-tex">p</annotation></semantics></math>の行き先での近傍.</p>
<p>いわゆる射影関数を以ってして、次の射を考えることができる: <math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>π</mi><mn>1</mn></msub><mo>:</mo><msub><mi>Y</mi><mn>1</mn></msub><mo>×</mo><msub><mi>Y</mi><mn>2</mn></msub><mo accent="false">→</mo><msub><mi>Y</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">\pi_1 : Y_1 \times Y_2 \rightarrow Y_1</annotation></semantics></math> <math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>π</mi><mn>2</mn></msub><mo>:</mo><msub><mi>Y</mi><mn>1</mn></msub><mo>×</mo><msub><mi>Y</mi><mn>2</mn></msub><mo accent="false">→</mo><msub><mi>Y</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">\pi_2 : Y_1 \times Y_2 \rightarrow Y_2</annotation></semantics></math></p>
<p><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>X</mi><annotation encoding="application/x-tex">X</annotation></semantics></math>上の層 <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>Z</mi><annotation encoding="application/x-tex">Z</annotation></semantics></math> 及び射 <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo>,</mo><mi>g</mi></mrow><annotation encoding="application/x-tex">f, g</annotation></semantics></math> を追加するとき、 下のように可換にする 射 <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>h</mi><mo>:</mo><mi>Z</mi><mo accent="false">→</mo><msub><mi>Y</mi><mn>1</mn></msub><mo>×</mo><msub><mi>Y</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">h: Z \rightarrow Y_1 \times Y_2</annotation></semantics></math> が唯一つあることを確認する.</p>
<figure>
<img src="./img/sheaf.7.png" />
</figure>
<p><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>z</mi><mo>∈</mo><mi>Z</mi></mrow><annotation encoding="application/x-tex">z \in Z</annotation></semantics></math>: <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>p</mi><mn>1</mn></msub><mo stretchy="false" form="prefix">(</mo><mi>f</mi><mo stretchy="false" form="prefix">(</mo><mi>z</mi><mo stretchy="false" form="postfix">)</mo><mo stretchy="false" form="postfix">)</mo><mo>=</mo><msub><mi>p</mi><mn>2</mn></msub><mo stretchy="false" form="prefix">(</mo><mi>g</mi><mo stretchy="false" form="prefix">(</mo><mi>z</mi><mo stretchy="false" form="postfix">)</mo><mo stretchy="false" form="postfix">)</mo><mo>=</mo><mi>p</mi><mo stretchy="false" form="prefix">(</mo><mi>z</mi><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">p_1(f(z)) = p_2(g(z)) = p(z)</annotation></semantics></math> であるので (N.B. 層から層への射の定義そのものである). <math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">(</mo><mi>f</mi><mo stretchy="false" form="prefix">(</mo><mi>z</mi><mo stretchy="false" form="postfix">)</mo><mo>,</mo><mi>g</mi><mo stretchy="false" form="prefix">(</mo><mi>z</mi><mo stretchy="false" form="postfix">)</mo><mo stretchy="false" form="postfix">)</mo><mo>∈</mo><msub><mi>Y</mi><mn>1</mn></msub><mo>×</mo><msub><mi>Y</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">(f(z), g(z)) \in Y_1 \times Y_2</annotation></semantics></math> であって、 <math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>h</mi><mo stretchy="false" form="prefix">(</mo><mi>z</mi><mo stretchy="false" form="postfix">)</mo><mo>=</mo><mo stretchy="false" form="prefix">(</mo><mi>f</mi><mo stretchy="false" form="prefix">(</mo><mi>z</mi><mo stretchy="false" form="postfix">)</mo><mo>,</mo><mi>g</mi><mo stretchy="false" form="prefix">(</mo><mi>z</mi><mo stretchy="false" form="postfix">)</mo><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">h(z) = (f(z), g(z))</annotation></semantics></math> は射である. しかも唯一である ( <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>h</mi><mi>′</mi><mo stretchy="false" form="prefix">(</mo><mi>z</mi><mo stretchy="false" form="postfix">)</mo><mo>=</mo><mo stretchy="false" form="prefix">(</mo><msub><mi>y</mi><mn>1</mn></msub><mo>,</mo><msub><mi>y</mi><mn>2</mn></msub><mo stretchy="false" form="postfix">)</mo><mo>∈</mo><msub><mi>Y</mi><mn>1</mn></msub><mo>×</mo><msub><mi>Y</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">h\prime(z) = (y_1, y_2) \in Y_1 \times Y_2</annotation></semantics></math>. <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>π</mi><mn>1</mn></msub><mo>∘</mo><mi>h</mi><mi>′</mi><mo>=</mo><mi>f</mi></mrow><annotation encoding="application/x-tex">\pi_1 \circ h\prime = f</annotation></semantics></math> より <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>y</mi><mn>1</mn></msub><mo>=</mo><mi>f</mi><mo stretchy="false" form="prefix">(</mo><mi>z</mi><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">y_1 = f(z)</annotation></semantics></math>. 同様に <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>y</mi><mn>2</mn></msub><mo>=</mo><mi>g</mi><mo stretchy="false" form="prefix">(</mo><mi>z</mi><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">y_2 = g(z)</annotation></semantics></math>. 結局 <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>h</mi><mi>′</mi><mo>=</mo><mi>h</mi></mrow><annotation encoding="application/x-tex">h&#39; = h</annotation></semantics></math>).</p>
<h3 id="集合バージョンの直積">集合バージョンの直積</h3>
<p>今定義した直積は、 層 <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">(</mo><mi>A</mi><mo>,</mo><mi>E</mi><mo>,</mo><mo stretchy="false" form="postfix">⌉</mo><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">(A, E, \rceil)</annotation></semantics></math>, <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">(</mo><mi>B</mi><mo>,</mo><mi>E</mi><mo>,</mo><mo stretchy="false" form="postfix">⌉</mo><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">(B,E,\rceil)</annotation></semantics></math> については次のように書ける.</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>×</mo><mi>B</mi><mo>=</mo><mo stretchy="false" form="prefix">{</mo><mo stretchy="false" form="prefix">(</mo><mi>a</mi><mo>,</mo><mi>b</mi><mo stretchy="false" form="postfix">)</mo><mo>:</mo><mi>E</mi><mi>a</mi><mo>=</mo><mi>E</mi><mi>b</mi><mo stretchy="false" form="postfix">}</mo></mrow><annotation encoding="application/x-tex">A \times B = \{(a,b) : Ea = Eb \}</annotation></semantics></math> <math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">(</mo><mi>a</mi><mo>,</mo><mi>b</mi><mo stretchy="false" form="postfix">)</mo><mo stretchy="false" form="postfix">⌉</mo><mi>U</mi><mo>=</mo><mo stretchy="false" form="prefix">(</mo><mi>a</mi><mo stretchy="false" form="postfix">⌉</mo><mi>U</mi><mo>,</mo><mi>b</mi><mo stretchy="false" form="postfix">⌉</mo><mi>U</mi><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">(a,b) \rceil U = (a \rceil U, b \rceil U)</annotation></semantics></math> <math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mo stretchy="false" form="prefix">(</mo><mi>a</mi><mo>,</mo><mi>b</mi><mo stretchy="false" form="postfix">)</mo><mo>=</mo><mi>E</mi><mi>a</mi><mo>=</mo><mi>E</mi><mi>b</mi></mrow><annotation encoding="application/x-tex">E(a,b) = Ea = Eb</annotation></semantics></math></p>
<h2 id="層の巾-冪">層の巾 (冪)</h2>
<p><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>X</mi><annotation encoding="application/x-tex">X</annotation></semantics></math>上の2つの層 <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">(</mo><mi>A</mi><mo>,</mo><mi>E</mi><mo>,</mo><mo stretchy="false" form="postfix">⌉</mo><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">(A,E,\rceil)</annotation></semantics></math>, <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">(</mo><mi>B</mi><mo>,</mo><mi>E</mi><mo>,</mo><mo stretchy="false" form="postfix">⌉</mo><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">(B,E,\rceil)</annotation></semantics></math> から導かれる層 <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi>B</mi><mi>A</mi></msup><annotation encoding="application/x-tex">B^A</annotation></semantics></math> を定義する. <math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mtable><mtr><mtd columnalign="right"><msup><mi>B</mi><mi>A</mi></msup><mo>=</mo><mo stretchy="false" form="prefix">{</mo></mtd><mtd columnalign="left"><mo stretchy="false" form="prefix">(</mo><mi>f</mi><mo>,</mo><mi>V</mi><mo stretchy="false" form="postfix">)</mo><mo>:</mo><mi>f</mi><mo>:</mo><mi>A</mi><mo accent="false">→</mo><mi>B</mi><mo>,</mo><mi>V</mi><mo>∈</mo><mstyle mathvariant="script"><mi>𝒪</mi></mstyle><mo stretchy="false" form="prefix">(</mo><mi>X</mi><mo stretchy="false" form="postfix">)</mo><mo>,</mo></mtd></mtr><mtr><mtd columnalign="right"></mtd><mtd columnalign="left"><mo>∀</mo><mi>a</mi><mo>∈</mo><mi>A</mi><mi>.</mi><mi>E</mi><mi>f</mi><mo stretchy="false" form="prefix">(</mo><mi>a</mi><mo stretchy="false" form="postfix">)</mo><mo>=</mo><mi>V</mi><mo>∩</mo><mi>E</mi><mi>a</mi></mtd></mtr><mtr><mtd columnalign="right"></mtd><mtd columnalign="left"><mo>∀</mo><mi>a</mi><mo>∈</mo><mi>A</mi><mi>.</mi><mo>∀</mo><mi>U</mi><mo>∈</mo><mstyle mathvariant="script"><mi>𝒪</mi></mstyle><mo stretchy="false" form="prefix">(</mo><mi>X</mi><mo stretchy="false" form="postfix">)</mo><mi>.</mi><mi>f</mi><mo stretchy="false" form="prefix">(</mo><mi>a</mi><mo stretchy="false" form="postfix">⌉</mo><mi>U</mi><mo stretchy="false" form="postfix">)</mo><mo>=</mo><mi>f</mi><mo stretchy="false" form="prefix">(</mo><mi>a</mi><mo stretchy="false" form="postfix">)</mo><mo stretchy="false" form="postfix">⌉</mo><mi>U</mi></mtd><mtd columnalign="right"><mo stretchy="false" form="postfix">}</mo></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{align}
B^A = \{ &amp; (f, V) : f: A \rightarrow B, V \in \mathcal{O}(X),\\
&amp; \forall a \in A. Ef(a)=V \cap Ea\\
&amp; \forall a \in A. \forall U \in \mathcal{O}(X). f(a\rceil U) = f(a) \rceil U
&amp; \}
\end{align}</annotation></semantics></math></p>
<p><em>N.B.</em> 定義中の <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>f</mi><annotation encoding="application/x-tex">f</annotation></semantics></math> はあくまで関数であって一般に射ではない.</p>
<blockquote>
<p>明らかに、<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi>B</mi><mi>A</mi></msup><annotation encoding="application/x-tex">B^A</annotation></semantics></math> ってのは層による層としての関数の再定義</p>
</blockquote>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mo stretchy="false" form="prefix">(</mo><mi>f</mi><mo>,</mo><mi>V</mi><mo stretchy="false" form="postfix">)</mo><mo>=</mo><mi>V</mi></mrow><annotation encoding="application/x-tex">E(f,V) = V</annotation></semantics></math> と定義する. <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>V</mi><annotation encoding="application/x-tex">V</annotation></semantics></math> というデータは <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>E</mi><annotation encoding="application/x-tex">E</annotation></semantics></math> に持たせることにして、単に <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>B</mi><mi>A</mi></msup><mo>=</mo><mo stretchy="false" form="prefix">{</mo><mi>f</mi><mo>:</mo><mi>.</mi><mi>.</mi><mi>.</mi><mo stretchy="false" form="postfix">}</mo></mrow><annotation encoding="application/x-tex">B^A = \{ f : ... \}</annotation></semantics></math> として再定義することにする. <math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mi>f</mi><mo>=</mo><mi>V</mi></mrow><annotation encoding="application/x-tex">Ef = V</annotation></semantics></math></p>
<p>(これって <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">(</mo><mi>f</mi><mo>,</mo><msub><mi>V</mi><mn>1</mn></msub><mo stretchy="false" form="postfix">)</mo><mo>,</mo><mo stretchy="false" form="prefix">(</mo><mi>f</mi><mo>,</mo><msub><mi>V</mi><mn>2</mn></msub><mo stretchy="false" form="postfix">)</mo><mo>∈</mo><msup><mi>B</mi><mi>A</mi></msup><mo accent="false">⇒</mo><msub><mi>V</mi><mn>1</mn></msub><mo>=</mo><msub><mi>V</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">(f,V_1),(f,V_2)\in B^A \Rightarrow V_1 = V_2</annotation></semantics></math> じゃないと、<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>E</mi><annotation encoding="application/x-tex">E</annotation></semantics></math> が関数にならないから死ぬ定義だよね?)</p>
<p><a name="power-sheaf-condition"></a> <math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo>∈</mo><msup><mi>B</mi><mi>A</mi></msup><mspace width="0.222em"></mspace><mo accent="false">⇔</mo><mspace width="0.222em"></mspace><mi>E</mi><mi>f</mi><mo stretchy="false" form="prefix">(</mo><mi>a</mi><mo stretchy="false" form="postfix">)</mo><mo>=</mo><mi>E</mi><mi>f</mi><mo>∩</mo><mi>E</mi><mi>a</mi><mspace width="0.222em"></mspace><mo>∧</mo><mspace width="0.222em"></mspace><mi>f</mi><mo stretchy="false" form="prefix">(</mo><mi>a</mi><mo stretchy="false" form="postfix">⌉</mo><mi>U</mi><mo stretchy="false" form="postfix">)</mo><mo>=</mo><mi>f</mi><mo stretchy="false" form="prefix">(</mo><mi>a</mi><mo stretchy="false" form="postfix">)</mo><mo stretchy="false" form="postfix">⌉</mo><mi>U</mi></mrow><annotation encoding="application/x-tex">f \in B^A
~ \iff ~
Ef(a) = Ef \cap Ea
~ \land ~
f(a\rceil U) = f(a) \rceil U</annotation></semantics></math></p>
<p><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mo stretchy="false" form="postfix">⌉</mo><annotation encoding="application/x-tex">\rceil</annotation></semantics></math> を次のように定義する: <math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">(</mo><mi>f</mi><mo stretchy="false" form="postfix">⌉</mo><mi>U</mi><mo stretchy="false" form="postfix">)</mo><mo stretchy="false" form="prefix">(</mo><mi>a</mi><mo stretchy="false" form="postfix">)</mo><mo>=</mo><mi>f</mi><mo stretchy="false" form="prefix">(</mo><mi>a</mi><mo stretchy="false" form="postfix">)</mo><mo stretchy="false" form="postfix">⌉</mo><mi>U</mi></mrow><annotation encoding="application/x-tex">(f \rceil U)(a) = f(a) \rceil U</annotation></semantics></math> <math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mo stretchy="false" form="prefix">(</mo><mi>f</mi><mo stretchy="false" form="postfix">⌉</mo><mi>U</mi><mo stretchy="false" form="postfix">)</mo><mo>=</mo><mi>E</mi><mi>f</mi><mo>∩</mo><mi>U</mi></mrow><annotation encoding="application/x-tex">E(f \rceil U) = Ef \cap U</annotation></semantics></math></p>
<p>このように定義するとちゃんと層の<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mo stretchy="false" form="postfix">⌉</mo><annotation encoding="application/x-tex">\rceil</annotation></semantics></math>になっている. つまり</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false" form="postfix">⌉</mo><mi>U</mi><mo>:</mo><mi>A</mi><mo accent="false">→</mo><mi>B</mi></mrow><annotation encoding="application/x-tex">f \rceil U: A \rightarrow B</annotation></semantics></math> であって、 <math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false" form="postfix">⌉</mo><mi>U</mi><mo>∈</mo><msup><mi>B</mi><mi>A</mi></msup></mrow><annotation encoding="application/x-tex">f \rceil U \in B^A</annotation></semantics></math> である (これを示すためには先程の <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo>∈</mo><msup><mi>B</mi><mi>A</mi></msup><mo accent="false">⇔</mo><mi>.</mi><mi>.</mi><mi>.</mi></mrow><annotation encoding="application/x-tex">f \in B^A \iff ...</annotation></semantics></math> を使う).</p>
<h3 id="ev"><code>ev</code></h3>
<p>関数適用を射 <math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>e</mi><mi>v</mi><mo>:</mo><mi>A</mi><mo>×</mo><msup><mi>B</mi><mi>A</mi></msup><mo accent="false">→</mo><mi>B</mi></mrow><annotation encoding="application/x-tex">ev: A \times B^A \rightarrow B</annotation></semantics></math> <math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>e</mi><mi>v</mi><mo stretchy="false" form="prefix">(</mo><mi>a</mi><mo>,</mo><mi>f</mi><mo stretchy="false" form="postfix">)</mo><mo>=</mo><mi>f</mi><mo stretchy="false" form="prefix">(</mo><mi>a</mi><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">ev (a, f) = f(a)</annotation></semantics></math> として定義する. <code>ev</code> は <code>evaluation</code> の略である.</p>
<p>射であることを確認しよう.</p>
<p><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">(</mo><mi>A</mi><mo>,</mo><mi>E</mi><mo>,</mo><mo stretchy="false" form="postfix">⌉</mo><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">(A,E,\rceil)</annotation></semantics></math>版の射は <a href="#arr-definition-of-sheaf1">この2つ</a> を満たせば良いのであった.</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mo stretchy="false" form="prefix">(</mo><mi>e</mi><mi>v</mi><mo stretchy="false" form="prefix">(</mo><mi>a</mi><mo>,</mo><mi>f</mi><mo stretchy="false" form="postfix">)</mo><mo stretchy="false" form="postfix">)</mo><mo>=</mo><mi>E</mi><mo stretchy="false" form="prefix">(</mo><mi>f</mi><mo stretchy="false" form="prefix">(</mo><mi>a</mi><mo stretchy="false" form="postfix">)</mo><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">E(ev(a,f)) = E(f(a))</annotation></semantics></math> <math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">(</mo><mi>a</mi><mo>,</mo><mi>f</mi><mo stretchy="false" form="postfix">)</mo><mo>∈</mo><mi>A</mi><mo>×</mo><msup><mi>B</mi><mi>A</mi></msup><mo accent="false">⇔</mo><mi>E</mi><mo stretchy="false" form="prefix">(</mo><mi>a</mi><mo>,</mo><mi>f</mi><mo stretchy="false" form="postfix">)</mo><mo>=</mo><mi>E</mi><mi>a</mi><mo>=</mo><mi>E</mi><mi>f</mi><mo>=</mo><mi>E</mi><mi>f</mi><mo stretchy="false" form="prefix">(</mo><mi>a</mi><mo stretchy="false" form="postfix">)</mo><mi>.</mi></mrow><annotation encoding="application/x-tex">(a, f) \in A \times B^A \iff E(a,f) = Ea = Ef = Ef(a).</annotation></semantics></math> 従って、 <math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mo stretchy="false" form="prefix">(</mo><mi>a</mi><mo>,</mo><mi>f</mi><mo stretchy="false" form="postfix">)</mo><mo>=</mo><mi>E</mi><mo stretchy="false" form="prefix">(</mo><mi>e</mi><mi>v</mi><mo stretchy="false" form="prefix">(</mo><mi>a</mi><mo>,</mo><mi>f</mi><mo stretchy="false" form="postfix">)</mo><mo stretchy="false" form="postfix">)</mo><mi>.</mi></mrow><annotation encoding="application/x-tex">E(a, f) = E(ev(a,f)).</annotation></semantics></math></p>
<p>また、 <math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>e</mi><mi>v</mi><mo stretchy="false" form="prefix">(</mo><mo stretchy="false" form="prefix">(</mo><mi>a</mi><mo>,</mo><mi>f</mi><mo stretchy="false" form="postfix">)</mo><mo stretchy="false" form="postfix">⌉</mo><mi>U</mi><mo stretchy="false" form="postfix">)</mo><mo>=</mo><mo stretchy="false" form="prefix">(</mo><mi>a</mi><mo stretchy="false" form="postfix">⌉</mo><mi>U</mi><mo>,</mo><mi>f</mi><mo stretchy="false" form="postfix">⌉</mo><mi>U</mi><mo stretchy="false" form="postfix">)</mo><mo>=</mo><mo stretchy="false" form="prefix">(</mo><mi>f</mi><mo stretchy="false" form="postfix">⌉</mo><mi>U</mi><mo stretchy="false" form="postfix">)</mo><mo stretchy="false" form="prefix">(</mo><mi>a</mi><mo stretchy="false" form="postfix">⌉</mo><mi>U</mi><mo stretchy="false" form="postfix">)</mo><mo>=</mo><mi>f</mi><mo stretchy="false" form="prefix">(</mo><mi>a</mi><mo stretchy="false" form="postfix">⌉</mo><mi>U</mi><mo stretchy="false" form="postfix">)</mo><mo stretchy="false" form="postfix">⌉</mo><mi>U</mi><mo>=</mo><mi>f</mi><mo stretchy="false" form="prefix">(</mo><mi>a</mi><mo stretchy="false" form="postfix">)</mo><mo stretchy="false" form="postfix">⌉</mo><mi>U</mi></mrow><annotation encoding="application/x-tex">ev((a,f) \rceil U) = (a \rceil U, f \rceil U) = (f \rceil U)(a \rceil U) = f(a \rceil U) \rceil U = f(a) \rceil U</annotation></semantics></math> <math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>e</mi><mi>v</mi><mo stretchy="false" form="prefix">(</mo><mi>a</mi><mo>,</mo><mi>f</mi><mo stretchy="false" form="postfix">)</mo><mo stretchy="false" form="postfix">⌉</mo><mi>U</mi><mo>=</mo><mi>f</mi><mo stretchy="false" form="prefix">(</mo><mi>a</mi><mo stretchy="false" form="postfix">)</mo><mo stretchy="false" form="postfix">⌉</mo><mi>U</mi><mi>.</mi></mrow><annotation encoding="application/x-tex">ev(a,f) \rceil U = f(a) \rceil U.</annotation></semantics></math> 従って、 <math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>e</mi><mi>v</mi><mo stretchy="false" form="prefix">(</mo><mo stretchy="false" form="prefix">(</mo><mi>a</mi><mo>,</mo><mi>f</mi><mo stretchy="false" form="postfix">)</mo><mo stretchy="false" form="postfix">⌉</mo><mi>U</mi><mo stretchy="false" form="postfix">)</mo><mo>=</mo><mi>e</mi><mi>v</mi><mo stretchy="false" form="prefix">(</mo><mi>a</mi><mo>,</mo><mi>f</mi><mo stretchy="false" form="postfix">)</mo><mo stretchy="false" form="postfix">⌉</mo><mi>U</mi></mrow><annotation encoding="application/x-tex">ev((a,f) \rceil U) = ev(a,f) \rceil U</annotation></semantics></math></p>
<p>とあって、<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>e</mi><mi>v</mi></mrow><annotation encoding="application/x-tex">ev</annotation></semantics></math> が射であることがわかる.</p>
<h3 id="さて">さて</h3>
<p><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>X</mi><annotation encoding="application/x-tex">X</annotation></semantics></math> の上の層 <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>,</mo><mi>B</mi><mo>,</mo><mi>C</mi></mrow><annotation encoding="application/x-tex">A,B,C</annotation></semantics></math>, 射 <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>g</mi><mo>:</mo><mi>A</mi><mo>×</mo><mi>C</mi><mo accent="false">→</mo><mi>B</mi></mrow><annotation encoding="application/x-tex">g: A \times C \rightarrow B</annotation></semantics></math> が与えられたときに、 射 <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover><mi>g</mi><mo accent="true">^</mo></mover><mo>:</mo><mi>C</mi><mo accent="false">→</mo><msup><mi>B</mi><mi>A</mi></msup></mrow><annotation encoding="application/x-tex">\hat{g}: C \rightarrow B^A</annotation></semantics></math> を導く.</p>
<p><img src="./img/sheaf.8.png" /> 図式にする意味あんまないな.</p>
<p><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>c</mi><mo>∈</mo><mi>C</mi></mrow><annotation encoding="application/x-tex">c \in C</annotation></semantics></math> に対して: <math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false" form="prefix">(</mo><mi>a</mi><mo stretchy="false" form="postfix">)</mo><mo>=</mo><mi>g</mi><mo stretchy="false" form="prefix">(</mo><mi>a</mi><mo stretchy="false" form="postfix">⌉</mo><mi>E</mi><mi>a</mi><mo>∩</mo><mi>E</mi><mi>c</mi><mo>,</mo><mi>c</mi><mo stretchy="false" form="postfix">⌉</mo><mi>E</mi><mi>a</mi><mo>∩</mo><mi>E</mi><mi>c</mi><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">f(a) = g(a \rceil Ea \cap Ec, c \rceil Ea \cap Ec)</annotation></semantics></math> なる関数 (射ではない) <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>f</mi><annotation encoding="application/x-tex">f</annotation></semantics></math> を対応附ける.</p>
<p>確認すると、 <math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mo stretchy="false" form="prefix">(</mo><mi>a</mi><mo stretchy="false" form="postfix">⌉</mo><mi>E</mi><mi>a</mi><mo>∩</mo><mi>E</mi><mi>c</mi><mo stretchy="false" form="postfix">)</mo><mo>=</mo><mi>E</mi><mi>a</mi><mo>∩</mo><mi>E</mi><mi>c</mi><mo>=</mo><mi>E</mi><mo stretchy="false" form="prefix">(</mo><mi>c</mi><mo stretchy="false" form="postfix">⌉</mo><mi>E</mi><mi>a</mi><mo>∩</mo><mi>E</mi><mi>c</mi><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">E(a \rceil Ea \cap Ec) = Ea \cap Ec = E(c \rceil Ea \cap Ec)</annotation></semantics></math> であるので <math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">(</mo><mi>a</mi><mo stretchy="false" form="postfix">⌉</mo><mi>E</mi><mi>a</mi><mo>∩</mo><mi>E</mi><mi>c</mi><mo>,</mo><mi>c</mi><mo stretchy="false" form="postfix">⌉</mo><mi>E</mi><mi>a</mi><mo>∩</mo><mi>E</mi><mi>c</mi><mo stretchy="false" form="postfix">)</mo><mo>∈</mo><mi>A</mi><mo>×</mo><mi>C</mi></mrow><annotation encoding="application/x-tex">(a \rceil Ea \cap Ec, c \rceil Ea \cap Ec) \in A \times C</annotation></semantics></math> として存在する.</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mi>f</mi><mo stretchy="false" form="prefix">(</mo><mi>a</mi><mo stretchy="false" form="postfix">)</mo><mo>=</mo><mi>E</mi><mi>g</mi><mo stretchy="false" form="prefix">(</mo><mi>a</mi><mi>′</mi><mo>,</mo><mi>c</mi><mi>′</mi><mo stretchy="false" form="postfix">)</mo><mo>=</mo><mi>E</mi><mo stretchy="false" form="prefix">(</mo><mi>a</mi><mi>′</mi><mo>,</mo><mi>c</mi><mi>′</mi><mo stretchy="false" form="postfix">)</mo><mo>=</mo><mi>E</mi><mi>a</mi><mi>′</mi><mo>=</mo><mi>E</mi><mi>a</mi><mo>∩</mo><mi>E</mi><mi>c</mi></mrow><annotation encoding="application/x-tex">Ef(a) = Eg(a&#39;, c&#39;) = E(a&#39;, c&#39;) = Ea&#39; = Ea \cap Ec</annotation></semantics></math></p>
<p><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mi>f</mi><mo>=</mo><mi>E</mi><mi>c</mi></mrow><annotation encoding="application/x-tex">Ef = Ec</annotation></semantics></math> とすると <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo>∈</mo><msup><mi>A</mi><mi>B</mi></msup></mrow><annotation encoding="application/x-tex">f \in A^B</annotation></semantics></math> であることを確認する. 必要十分条件は <a href="#power-sheaf-condition">こんなん</a> であった.</p>
<p><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mi>f</mi><mo stretchy="false" form="prefix">(</mo><mi>a</mi><mo stretchy="false" form="postfix">)</mo><mo>=</mo><mi>E</mi><mi>f</mi><mo>∩</mo><mi>E</mi><mi>a</mi><mo>=</mo><mi>E</mi><mi>c</mi><mo>∩</mo><mi>E</mi><mi>a</mi></mrow><annotation encoding="application/x-tex">Ef(a) = Ef \cap Ea = Ec \cap Ea</annotation></semantics></math> は定義から明らか.</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mtable><mtr><mtd columnalign="right"><mi>f</mi><mo stretchy="false" form="prefix">(</mo><mi>a</mi><mo stretchy="false" form="postfix">⌉</mo><mi>U</mi><mo stretchy="false" form="postfix">)</mo></mtd><mtd columnalign="left"><mo>=</mo><mi>g</mi><mo stretchy="false" form="prefix">(</mo><mi>a</mi><mi>′</mi><mo stretchy="false" form="postfix">⌉</mo><mi>U</mi><mo>,</mo><mi>c</mi><mi>′</mi><mo stretchy="false" form="postfix">⌉</mo><mi>U</mi><mo stretchy="false" form="postfix">)</mo></mtd></mtr><mtr><mtd columnalign="right"></mtd><mtd columnalign="left"><mo>=</mo><mi>g</mi><mo stretchy="false" form="prefix">(</mo><mi>a</mi><mi>′</mi><mo>,</mo><mi>c</mi><mi>′</mi><mo stretchy="false" form="postfix">)</mo><mo stretchy="false" form="postfix">⌉</mo><mi>U</mi></mtd><mtd columnalign="right"><mo>=</mo><mi>f</mi><mo stretchy="false" form="prefix">(</mo><mi>a</mi><mo stretchy="false" form="postfix">)</mo><mo stretchy="false" form="postfix">⌉</mo><mi>U</mi></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{align}
f(a \rceil U) &amp; = g(a&#39; \rceil U, c&#39; \rceil U)\\
&amp; = g(a&#39;, c&#39;) \rceil U &amp; = f(a) \rceil U
\end{align}</annotation></semantics></math></p>
<p>というわけで <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo>∈</mo><msup><mi>A</mi><mi>B</mi></msup></mrow><annotation encoding="application/x-tex">f \in A^B</annotation></semantics></math> である.</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover><mi>g</mi><mo accent="true">^</mo></mover><mo>:</mo><mi>C</mi><mo accent="false">→</mo><msup><mi>A</mi><mi>B</mi></msup></mrow><annotation encoding="application/x-tex">\hat{g}: C \rightarrow A^B</annotation></semantics></math> <math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover><mi>g</mi><mo accent="true">^</mo></mover><mo stretchy="false" form="prefix">(</mo><mi>c</mi><mo stretchy="false" form="postfix">)</mo><mo>=</mo><mi>f</mi></mrow><annotation encoding="application/x-tex">\hat{g}(c) = f</annotation></semantics></math> は関数として定義できる. 次にこれが射であることを示す. すなわち次の2つを示す. <math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mover><mi>g</mi><mo accent="true">^</mo></mover><mo stretchy="false" form="prefix">(</mo><mi>c</mi><mo stretchy="false" form="postfix">)</mo><mo>=</mo><mi>E</mi><mi>c</mi></mrow><annotation encoding="application/x-tex">E \hat{g}(c) = Ec</annotation></semantics></math> <math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover><mi>g</mi><mo accent="true">^</mo></mover><mo stretchy="false" form="prefix">(</mo><mi>c</mi><mo stretchy="false" form="postfix">⌉</mo><mi>U</mi><mo stretchy="false" form="postfix">)</mo><mo>=</mo><mover><mi>g</mi><mo accent="true">^</mo></mover><mo stretchy="false" form="prefix">(</mo><mi>c</mi><mo stretchy="false" form="postfix">)</mo><mo stretchy="false" form="postfix">⌉</mo><mi>U</mi></mrow><annotation encoding="application/x-tex">\hat{g}(c \rceil U) = \hat{g}(c) \rceil U</annotation></semantics></math></p>
<p>ひとつ目は <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mover><mi>g</mi><mo accent="true">^</mo></mover><mo stretchy="false" form="prefix">(</mo><mi>c</mi><mo stretchy="false" form="postfix">)</mo><mo>=</mo><mi>E</mi><mi>f</mi><mo>=</mo><mi>E</mi><mi>c</mi></mrow><annotation encoding="application/x-tex">E\hat{g}(c) = Ef = Ec</annotation></semantics></math> だから明らか.<br />
ふたつ目もまぁ、示せるでしょう.</p>
<p><img src="./img/sheaf.9.png" /> こう書けるわけ！</p>
<p>ここで、<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo>×</mo><mi>g</mi></mrow><annotation encoding="application/x-tex">f \times g</annotation></semantics></math> とは <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>λ</mi><mo stretchy="false" form="prefix">(</mo><mi>a</mi><mo>,</mo><mi>c</mi><mo stretchy="false" form="postfix">)</mo><mi>.</mi><mspace width="0.222em"></mspace><mo stretchy="false" form="prefix">(</mo><mi>f</mi><mo stretchy="false" form="prefix">(</mo><mi>a</mi><mo stretchy="false" form="postfix">)</mo><mo>,</mo><mi>g</mi><mo stretchy="false" form="prefix">(</mo><mi>c</mi><mo stretchy="false" form="postfix">)</mo><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">\lambda (a, c) .~ (f(a), g(c))</annotation></semantics></math> のことで、 これ自体ももちろん射である.</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mo stretchy="false" form="prefix">(</mo><mover><mi>g</mi><mo accent="true">^</mo></mover><mo stretchy="false" form="prefix">(</mo><mi>c</mi><mo stretchy="false" form="postfix">)</mo><mo stretchy="false" form="prefix">(</mo><mi>a</mi><mo stretchy="false" form="postfix">)</mo><mo stretchy="false" form="postfix">)</mo><mo>=</mo><mi>E</mi><mi>f</mi><mo stretchy="false" form="prefix">(</mo><mi>a</mi><mo stretchy="false" form="postfix">)</mo><mo>=</mo><mi>E</mi><mi>f</mi><mo>∩</mo><mi>E</mi><mi>a</mi><mo>=</mo><mi>E</mi><mi>c</mi><mo>∩</mo><mi>E</mi><mi>a</mi></mrow><annotation encoding="application/x-tex">E(\hat{g}(c)(a)) = Ef(a) = Ef \cap Ea = Ec \cap Ea</annotation></semantics></math> <math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>g</mi><mo stretchy="false" form="prefix">(</mo><mi>a</mi><mo>,</mo><mi>c</mi><mo stretchy="false" form="postfix">)</mo><mo>=</mo><mi>e</mi><mi>v</mi><mo stretchy="false" form="prefix">(</mo><mi>a</mi><mo>,</mo><mi>f</mi><mo stretchy="false" form="postfix">)</mo><mo>=</mo><mi>f</mi><mo stretchy="false" form="prefix">(</mo><mi>a</mi><mo stretchy="false" form="postfix">)</mo><mo>=</mo><mo stretchy="false" form="prefix">(</mo><mover><mi>g</mi><mo accent="true">^</mo></mover><mo stretchy="false" form="prefix">(</mo><mi>c</mi><mo stretchy="false" form="postfix">)</mo><mo stretchy="false" form="postfix">)</mo><mo stretchy="false" form="prefix">(</mo><mi>a</mi><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">g(a,c) = ev(a,f) = f(a) = (\hat{g}(c))(a)</annotation></semantics></math></p>
<p><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mover><mi>g</mi><mo accent="true">^</mo></mover><annotation encoding="application/x-tex">\hat{g}</annotation></semantics></math> の唯一性は以上から示されるものである.</p>
<h2 id="空間性トポス">空間性トポス</h2>
<p>位相空間 <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>X</mi><annotation encoding="application/x-tex">X</annotation></semantics></math> の上の層全体を <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi><mi>o</mi><mi>p</mi><mo stretchy="false" form="prefix">(</mo><mi>X</mi><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">Top(X)</annotation></semantics></math> と書いて空間性トポス (spatial topos) と呼ぶ. 2つの位相空間 <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi><mo>,</mo><mi>Y</mi></mrow><annotation encoding="application/x-tex">X, Y</annotation></semantics></math> の間の連続関数 <math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo>:</mo><mi>X</mi><mo accent="false">→</mo><mi>Y</mi></mrow><annotation encoding="application/x-tex">f: X \rightarrow Y</annotation></semantics></math> があるとき、この関数は <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi><mi>o</mi><mi>p</mi><mo stretchy="false" form="prefix">(</mo><mi>X</mi><mo stretchy="false" form="postfix">)</mo><mo>,</mo><mi>T</mi><mi>o</mi><mi>p</mi><mo stretchy="false" form="prefix">(</mo><mi>Y</mi><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">Top(X), Top(Y)</annotation></semantics></math> の間にどんな関係を与えるかを調べることにする.</p>
<h3 id="層-ft-の定義">層 <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>f</mi><mo>*</mo></msup><mi>T</mi></mrow><annotation encoding="application/x-tex">f^*T</annotation></semantics></math> の定義</h3>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>f</mi><mo>*</mo></msup><mo>:</mo><mi>T</mi><mi>o</mi><mi>p</mi><mo stretchy="false" form="prefix">(</mo><mi>Y</mi><mo stretchy="false" form="postfix">)</mo><mo accent="false">→</mo><mi>T</mi><mi>o</mi><mi>p</mi><mo stretchy="false" form="prefix">(</mo><mi>X</mi><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">f^*: Top(Y) \rightarrow Top(X)</annotation></semantics></math> <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi><mi>o</mi><mi>p</mi><mo stretchy="false" form="prefix">(</mo><mi>Y</mi><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">Top(Y)</annotation></semantics></math> の元たる層 <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">(</mo><mi>T</mi><mo>,</mo><mi>p</mi><mo>:</mo><mi>T</mi><mo accent="false">→</mo><mi>Y</mi><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">(T, p: T \rightarrow Y)</annotation></semantics></math> について <math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>f</mi><mo>*</mo></msup><mi>T</mi><mo>=</mo><msup><mi>f</mi><mo>*</mo></msup><mo stretchy="false" form="prefix">(</mo><mi>T</mi><mo stretchy="false" form="postfix">)</mo><mo>=</mo><mo stretchy="false" form="prefix">{</mo><mo stretchy="false" form="prefix">(</mo><mi>x</mi><mo>,</mo><mi>t</mi><mo stretchy="false" form="postfix">)</mo><mo>:</mo><mi>x</mi><mo>∈</mo><mi>X</mi><mo>,</mo><mi>t</mi><mo>∈</mo><mi>T</mi><mo>,</mo><mi>f</mi><mo stretchy="false" form="prefix">(</mo><mi>x</mi><mo stretchy="false" form="postfix">)</mo><mo>=</mo><mi>p</mi><mo stretchy="false" form="prefix">(</mo><mi>t</mi><mo stretchy="false" form="postfix">)</mo><mo stretchy="false" form="postfix">}</mo></mrow><annotation encoding="application/x-tex">f^*T = f^*(T) = \{ (x, t) : x \in X, t \in T, f(x) = p(t) \}</annotation></semantics></math> と定義する.</p>
<p><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">(</mo><msup><mi>f</mi><mo>*</mo></msup><mi>T</mi><mo>,</mo><msub><mi>π</mi><mn>1</mn></msub><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">(f^*T, \pi_1)</annotation></semantics></math> は確かに <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>X</mi><annotation encoding="application/x-tex">X</annotation></semantics></math>上の層である.</p>
<fieldset>
<legend>Prop</legend> <math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>f</mi><mo>*</mo></msup><mo stretchy="false" form="prefix">(</mo><msub><mi>T</mi><mn>1</mn></msub><mo>×</mo><msub><mi>T</mi><mn>2</mn></msub><mo stretchy="false" form="postfix">)</mo><mo>≃</mo><msup><mi>f</mi><mo>*</mo></msup><mo stretchy="false" form="prefix">(</mo><msub><mi>T</mi><mn>1</mn></msub><mo stretchy="false" form="postfix">)</mo><mo>×</mo><msup><mi>f</mi><mo>*</mo></msup><mo stretchy="false" form="prefix">(</mo><msub><mi>T</mi><mn>2</mn></msub><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">f^*(T_1 \times T_2) \simeq f^*(T_1) \times f^*(T_2)</annotation></semantics></math> 両辺の同型を言ってる. 具体的には <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">(</mo><mi>x</mi><mo>,</mo><mo stretchy="false" form="prefix">(</mo><msub><mi>t</mi><mn>1</mn></msub><mo>,</mo><msub><mi>t</mi><mn>2</mn></msub><mo stretchy="false" form="postfix">)</mo><mo stretchy="false" form="postfix">)</mo><mo>≃</mo><mo stretchy="false" form="prefix">(</mo><mo stretchy="false" form="prefix">(</mo><mi>x</mi><mo>,</mo><msub><mi>t</mi><mn>1</mn></msub><mo stretchy="false" form="postfix">)</mo><mo>,</mo><mo stretchy="false" form="prefix">(</mo><mi>x</mi><mo>,</mo><msub><mi>t</mi><mn>2</mn></msub><mo stretchy="false" form="postfix">)</mo><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">(x, (t_1, t_2)) \simeq ((x, t_1), (x, t_2))</annotation></semantics></math> ということ.
</fieldset>
<h3 id="射-fg-の定義">射 <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>f</mi><mo>*</mo></msup><mi>g</mi></mrow><annotation encoding="application/x-tex">f^*g</annotation></semantics></math> の定義</h3>
<p><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo>:</mo><mi>X</mi><mo accent="false">→</mo><mi>Y</mi></mrow><annotation encoding="application/x-tex">f: X \rightarrow Y</annotation></semantics></math>, <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>T</mi><mn>1</mn></msub><mo>,</mo><msub><mi>T</mi><mn>2</mn></msub><mo>∈</mo><mi>T</mi><mi>o</mi><mi>p</mi><mo stretchy="false" form="prefix">(</mo><mi>Y</mi><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">T_1, T_2 \in Top(Y)</annotation></semantics></math>, <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>g</mi><mo>:</mo><msub><mi>T</mi><mn>1</mn></msub><mo accent="false">→</mo><msub><mi>T</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">g: T_1 \rightarrow T_2</annotation></semantics></math> が与えられた時、</p>
<p>射: <math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>f</mi><mo>*</mo></msup><mi>g</mi><mo>:</mo><msup><mi>f</mi><mo>*</mo></msup><msub><mi>T</mi><mn>1</mn></msub><mo accent="false">→</mo><msup><mi>f</mi><mo>*</mo></msup><msub><mi>T</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">f^*g: f^*T_1 \rightarrow f^*T_2</annotation></semantics></math> <math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>f</mi><mo>*</mo></msup><mi>g</mi><mo stretchy="false" form="prefix">(</mo><mi>x</mi><mo>,</mo><msub><mi>t</mi><mn>1</mn></msub><mo stretchy="false" form="postfix">)</mo><mo>=</mo><mo stretchy="false" form="prefix">(</mo><mi>x</mi><mo>,</mo><mi>g</mi><mo stretchy="false" form="prefix">(</mo><msub><mi>t</mi><mn>1</mn></msub><mo stretchy="false" form="postfix">)</mo><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">f^*g (x, t_1) = (x, g(t_1))</annotation></semantics></math> を定義する. (<code>mapSnd g</code> だな)</p>
<figure>
<img src="./img/sheaf.10.png" />
</figure>
<p><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>f</mi><annotation encoding="application/x-tex">f</annotation></semantics></math> は連続であれば任意の関数であるが、 <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>g</mi><annotation encoding="application/x-tex">g</annotation></semantics></math> は射であるので局所同相であるため、<br />
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>f</mi><mo>*</mo></msup><mi>g</mi></mrow><annotation encoding="application/x-tex">f^*g</annotation></semantics></math> もまた、局所同相である (<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>f</mi><annotation encoding="application/x-tex">f</annotation></semantics></math>はあくまでもドメインに影響するだけ).</p>
<h3 id="層-f_s-の定義">層 <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>f</mi><mo>*</mo></msub><mi>S</mi></mrow><annotation encoding="application/x-tex">f_*S</annotation></semantics></math> の定義</h3>
<p>層 <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">(</mo><mi>S</mi><mo>,</mo><mi>p</mi><mo>:</mo><mi>S</mi><mo accent="false">→</mo><mi>X</mi><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">(S, p: S \rightarrow X)</annotation></semantics></math>、 関数 <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo>:</mo><mi>X</mi><mo accent="false">→</mo><mi>Y</mi></mrow><annotation encoding="application/x-tex">f: X \rightarrow Y</annotation></semantics></math> が与えられたとき、 <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>Y</mi><annotation encoding="application/x-tex">Y</annotation></semantics></math>の上の層 <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>f</mi><mo>*</mo></msub><mi>S</mi></mrow><annotation encoding="application/x-tex">f_*S</annotation></semantics></math> を定義する.</p>
<p>層<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>S</mi><annotation encoding="application/x-tex">S</annotation></semantics></math>についての<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>U</mi><mo>∈</mo><mstyle mathvariant="script"><mi>𝒪</mi></mstyle><mo stretchy="false" form="prefix">(</mo><mi>X</mi><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">U \in \mathcal{O}(X)</annotation></semantics></math>上の断面全体: <math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Γ</mi><mo stretchy="false" form="prefix">(</mo><mi>U</mi><mo stretchy="false" form="postfix">)</mo><mo>=</mo><mo stretchy="false" form="prefix">{</mo><mi>連</mi><mi>続</mi><mi>関</mi><mi>数</mi><mspace width="0.222em"></mspace><mi>a</mi><mo>:</mo><mo>∀</mo><mi>x</mi><mo>∈</mo><mi>U</mi><mi>.</mi><mspace width="0.222em"></mspace><mi>p</mi><mo stretchy="false" form="prefix">(</mo><mi>a</mi><mo stretchy="false" form="prefix">(</mo><mi>x</mi><mo stretchy="false" form="postfix">)</mo><mo stretchy="false" form="postfix">)</mo><mo>=</mo><mi>x</mi><mo stretchy="false" form="postfix">}</mo></mrow><annotation encoding="application/x-tex">\Gamma(U) = \{ 連続関数~ a : \forall x \in U.~ p(a(x)) = x \}</annotation></semantics></math> を用いて、 <math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>f</mi><mo>*</mo></msub><mi>S</mi><mo>=</mo><mo stretchy="false" form="prefix">{</mo><mo stretchy="false" form="prefix">(</mo><mi>a</mi><mo>,</mo><mi>y</mi><mo stretchy="false" form="postfix">)</mo><mo>:</mo><mo>∃</mo><mi>V</mi><mo>∈</mo><mstyle mathvariant="script"><mi>𝒪</mi></mstyle><mo stretchy="false" form="prefix">(</mo><mi>Y</mi><mo stretchy="false" form="postfix">)</mo><mi>.</mi><mspace width="0.222em"></mspace><mi>y</mi><mo>∈</mo><mi>V</mi><mo>∧</mo><mi>a</mi><mo>∈</mo><mi>Γ</mi><mo stretchy="false" form="prefix">(</mo><msup><mi>f</mi><mrow><mo>−</mo><mn>1</mn></mrow></msup><mo stretchy="false" form="prefix">(</mo><mi>V</mi><mo stretchy="false" form="postfix">)</mo><mo stretchy="false" form="postfix">)</mo><mo stretchy="false" form="postfix">}</mo></mrow><annotation encoding="application/x-tex">f_*S = \{ (a, y) : \exists V \in \mathcal{O}(Y) .~ y \in V \land a \in \Gamma(f^{-1}(V)) \}</annotation></semantics></math> ただし同値関係 <math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">(</mo><msub><mi>a</mi><mn>1</mn></msub><mo>,</mo><mi>y</mi><mo stretchy="false" form="postfix">)</mo><mo>≡</mo><mo stretchy="false" form="prefix">(</mo><msub><mi>a</mi><mn>2</mn></msub><mo>,</mo><mi>y</mi><mo stretchy="false" form="postfix">)</mo><mo accent="false">⇔</mo><mo>∃</mo><mi>V</mi><mo>∈</mo><mstyle mathvariant="script"><mi>𝒪</mi></mstyle><mo stretchy="false" form="prefix">(</mo><mi>Y</mi><mo stretchy="false" form="postfix">)</mo><mi>.</mi><mspace width="0.222em"></mspace><mi>y</mi><mo>∈</mo><mi>V</mi><mo>∧</mo><msub><mi>a</mi><mn>1</mn></msub><mo stretchy="false" form="prefix">⌈</mo><msup><mi>f</mi><mrow><mo>−</mo><mn>1</mn></mrow></msup><mo stretchy="false" form="prefix">(</mo><mi>V</mi><mo stretchy="false" form="postfix">)</mo><mo>=</mo><msub><mi>a</mi><mn>2</mn></msub><mo stretchy="false" form="prefix">⌈</mo><msup><mi>f</mi><mrow><mo>−</mo><mn>1</mn></mrow></msup><mo stretchy="false" form="prefix">(</mo><mi>V</mi><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">(a_1, y) \equiv (a_2, y) \iff
\exists V \in \mathcal{O}(Y) .~
y \in V \land
a_1 \lceil f^{-1}(V)
=
a_2 \lceil f^{-1}(V)</annotation></semantics></math> を定義して、これで割っておく. <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>f</mi><mo>*</mo></msub><mi>S</mi></mrow><annotation encoding="application/x-tex">f_*S</annotation></semantics></math> のための局所同相写像として、 <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mo stretchy="false" form="prefix">(</mo><mi>a</mi><mo>,</mo><mi>y</mi><mo stretchy="false" form="postfix">)</mo><mo>=</mo><mi>y</mi></mrow><annotation encoding="application/x-tex">p(a,y) = y</annotation></semantics></math> を用いる. 近傍は <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>y</mi><annotation encoding="application/x-tex">y</annotation></semantics></math> の近傍で定義する. 以上を以って、 <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>f</mi><mo>*</mo></msub><mi>S</mi></mrow><annotation encoding="application/x-tex">f_*S</annotation></semantics></math> は層である.</p>
<p><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi><mo>∈</mo><mi>V</mi></mrow><annotation encoding="application/x-tex">y \in V</annotation></semantics></math> かつ <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>f</mi><mrow><mo>−</mo><mn>1</mn></mrow></msup><mo stretchy="false" form="prefix">(</mo><mi>V</mi><mo stretchy="false" form="postfix">)</mo><mo>=</mo><mi>∅</mi></mrow><annotation encoding="application/x-tex">f^{-1}(V) = \emptyset</annotation></semantics></math> なる <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>V</mi><annotation encoding="application/x-tex">V</annotation></semantics></math> が存在するとき、<br />
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Γ</mi><mo stretchy="false" form="prefix">(</mo><mi>∅</mi><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">\Gamma(\emptyset)</annotation></semantics></math> は空集合なる関数唯一つからなるシングルトンである. <math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">(</mo><mi>∅</mi><mo>,</mo><mi>y</mi><mo stretchy="false" form="postfix">)</mo><mo>∈</mo><msub><mi>f</mi><mo>*</mo></msub><mi>S</mi></mrow><annotation encoding="application/x-tex">(\emptyset, y) \in f_*S</annotation></semantics></math></p>
<h3 id="射-f_g-の定義">射 <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>f</mi><mo>*</mo></msub><mi>g</mi></mrow><annotation encoding="application/x-tex">f_*g</annotation></semantics></math> の定義</h3>
<p>今度は単に <code>fstMap g</code> で定義する: <math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>f</mi><mo>*</mo></msub><mi>g</mi><mo>:</mo><msub><mi>f</mi><mo>*</mo></msub><msub><mi>S</mi><mn>1</mn></msub><mo accent="false">→</mo><msub><mi>f</mi><mo>*</mo></msub><msub><mi>S</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">f_*g: f_*S_1 \rightarrow f_*S_2</annotation></semantics></math> <math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">(</mo><msub><mi>f</mi><mo>*</mo></msub><mi>g</mi><mo stretchy="false" form="postfix">)</mo><mo stretchy="false" form="prefix">(</mo><mi>a</mi><mo>,</mo><mi>y</mi><mo stretchy="false" form="postfix">)</mo><mo>=</mo><mo stretchy="false" form="prefix">(</mo><mi>g</mi><mo stretchy="false" form="prefix">(</mo><mi>a</mi><mo stretchy="false" form="postfix">)</mo><mo>,</mo><mi>y</mi><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">(f_*g)(a, y) = (g(a), y)</annotation></semantics></math></p>
<h2 id="hom-の定義"><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>H</mi><mi>o</mi><mi>m</mi></mrow><annotation encoding="application/x-tex">Hom</annotation></semantics></math> の定義</h2>
<p>層 <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>A</mi><annotation encoding="application/x-tex">A</annotation></semantics></math> から <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>B</mi><annotation encoding="application/x-tex">B</annotation></semantics></math> への射全体を <math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>H</mi><mi>o</mi><mi>m</mi><mo stretchy="false" form="prefix">(</mo><mi>A</mi><mo>,</mo><mi>B</mi><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">Hom(A, B)</annotation></semantics></math> と書くことにする.</p>
<h2 id="大切な定理">大切な定理</h2>
<p><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>X</mi><annotation encoding="application/x-tex">X</annotation></semantics></math> 上の層 <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">(</mo><mi>S</mi><mo>,</mo><mi>p</mi><mo>:</mo><mi>S</mi><mo accent="false">→</mo><mi>X</mi><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">(S, p: S \rightarrow X)</annotation></semantics></math>,<br />
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>Y</mi><annotation encoding="application/x-tex">Y</annotation></semantics></math> 上の層 <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">(</mo><mi>T</mi><mo>,</mo><mi>p</mi><mo>:</mo><mi>T</mi><mo accent="false">→</mo><mi>Y</mi><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">(T, p: T \rightarrow Y)</annotation></semantics></math> とする.</p>
<p>連続関数 <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo>:</mo><mi>X</mi><mo accent="false">→</mo><mi>Y</mi></mrow><annotation encoding="application/x-tex">f: X \rightarrow Y</annotation></semantics></math> によって,<br />
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>f</mi><mo>*</mo></msup><mi>T</mi></mrow><annotation encoding="application/x-tex">f^*T</annotation></semantics></math> は <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>X</mi><annotation encoding="application/x-tex">X</annotation></semantics></math> 上の層,<br />
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>f</mi><mo>*</mo></msub><mi>S</mi></mrow><annotation encoding="application/x-tex">f_*S</annotation></semantics></math> は <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>Y</mi><annotation encoding="application/x-tex">Y</annotation></semantics></math> 上の層である.</p>
<fieldset>
<legend>定理</legend> <math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>H</mi><mi>o</mi><mi>m</mi><mo stretchy="false" form="prefix">(</mo><mi>T</mi><mo>,</mo><msub><mi>f</mi><mo>*</mo></msub><mi>S</mi><mo stretchy="false" form="postfix">)</mo><mo>≃</mo><mi>H</mi><mi>o</mi><mi>m</mi><mo stretchy="false" form="prefix">(</mo><msup><mi>f</mi><mo>*</mo></msup><mi>T</mi><mo>,</mo><mi>S</mi><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">Hom(T, f_*S) \simeq Hom(f^*T, S)</annotation></semantics></math>
</fieldset>
<p>射 <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>g</mi><mo>∈</mo><mi>H</mi><mi>o</mi><mi>m</mi><mo stretchy="false" form="prefix">(</mo><mi>T</mi><mo>,</mo><msub><mi>f</mi><mo>*</mo></msub><mi>S</mi><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">g \in Hom(T, f_*S)</annotation></semantics></math> に一対一で 射 <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>g</mi><mi>#</mi></msup><mo>∈</mo><mi>H</mi><mi>o</mi><mi>m</mi><mo stretchy="false" form="prefix">(</mo><msup><mi>f</mi><mo>*</mo></msup><mi>T</mi><mo>,</mo><mi>S</mi><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">g^\# \in Hom(f^*T, S)</annotation></semantics></math> を対応附けることでこれを証明する.</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>g</mi><mo>:</mo><mi>T</mi><mo accent="false">→</mo><msub><mi>f</mi><mo>*</mo></msub><mi>S</mi></mrow><annotation encoding="application/x-tex">g: T \rightarrow f_*S</annotation></semantics></math> <math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>g</mi><mo stretchy="false" form="prefix">(</mo><mi>t</mi><mo stretchy="false" form="postfix">)</mo><mo>=</mo><mo stretchy="false" form="prefix">(</mo><mi>a</mi><mo>,</mo><mi>y</mi><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">g(t) = (a, y)</annotation></semantics></math></p>
<p>についてある <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>V</mi><mo>∈</mo><mi>O</mi><mo stretchy="false" form="prefix">(</mo><mi>Y</mi><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">V \in O(Y)</annotation></semantics></math> が存在して次の3つが成立するのであった: <math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mo>∈</mo><mi>Γ</mi><mo stretchy="false" form="prefix">(</mo><msup><mi>f</mi><mrow><mo>−</mo><mn>1</mn></mrow></msup><mo stretchy="false" form="prefix">(</mo><mi>V</mi><mo stretchy="false" form="postfix">)</mo><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">a \in \Gamma(f^{-1}(V))</annotation></semantics></math> <math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi><mo>∈</mo><mi>V</mi></mrow><annotation encoding="application/x-tex">y \in V</annotation></semantics></math> <math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mo stretchy="false" form="prefix">(</mo><mi>t</mi><mo stretchy="false" form="postfix">)</mo><mo>=</mo><mi>y</mi></mrow><annotation encoding="application/x-tex">p(t) = y</annotation></semantics></math></p>
<p>最後のは <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>g</mi><annotation encoding="application/x-tex">g</annotation></semantics></math> が射であることから. で、肝心の <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi>g</mi><mi>#</mi></msup><annotation encoding="application/x-tex">g^\#</annotation></semantics></math> を次で定義する:</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>g</mi><mi>#</mi></msup><mo>:</mo><msup><mi>f</mi><mo>*</mo></msup><mi>T</mi><mo accent="false">→</mo><mi>S</mi></mrow><annotation encoding="application/x-tex">g^\#: f^*T \rightarrow S</annotation></semantics></math> <math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>g</mi><mi>#</mi></msup><mo stretchy="false" form="prefix">(</mo><mi>x</mi><mo>,</mo><mi>t</mi><mo stretchy="false" form="postfix">)</mo><mo>=</mo><mi>a</mi><mo stretchy="false" form="prefix">(</mo><mi>x</mi><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">g^\#(x, t) = a(x)</annotation></semantics></math></p>
<blockquote>
<p>適当なことを言うと、 <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>g</mi><annotation encoding="application/x-tex">g</annotation></semantics></math> は <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>t</mi><annotation encoding="application/x-tex">t</annotation></semantics></math> を <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">(</mo><mi>a</mi><mo>,</mo><mi>y</mi><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">(a,y)</annotation></semantics></math> に写すのだけど、 <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>y</mi><annotation encoding="application/x-tex">y</annotation></semantics></math>は<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mo stretchy="false" form="prefix">(</mo><mi>t</mi><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">p(t)</annotation></semantics></math> に等しいので、結局 <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>t</mi><annotation encoding="application/x-tex">t</annotation></semantics></math> 以上の情報を持ってない. <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>g</mi><annotation encoding="application/x-tex">g</annotation></semantics></math> は <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>t</mi><mo accent="false">↦</mo><mi>a</mi></mrow><annotation encoding="application/x-tex">t \mapsto a</annotation></semantics></math> のデータしか含まれない. <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi>g</mi><mi>#</mi></msup><annotation encoding="application/x-tex">g^\#</annotation></semantics></math> を見ると、 <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">(</mo><mi>x</mi><mo>,</mo><mi>t</mi><mo stretchy="false" form="postfix">)</mo><mo accent="false">↦</mo><mi>a</mi><mo stretchy="false" form="prefix">(</mo><mi>x</mi><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">(x,t) \mapsto a(x)</annotation></semantics></math> になってる. <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>x</mi><annotation encoding="application/x-tex">x</annotation></semantics></math> を <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>a</mi><annotation encoding="application/x-tex">a</annotation></semantics></math> に適用してしまってるのが気になるけど、 両辺から <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>x</mi><annotation encoding="application/x-tex">x</annotation></semantics></math> のデータをちょうど引き算できて <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>t</mi><mo accent="false">↦</mo><mi>x</mi></mrow><annotation encoding="application/x-tex">t \mapsto x</annotation></semantics></math> になるのなら、 <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi>g</mi><mi>#</mi></msup><annotation encoding="application/x-tex">g^\#</annotation></semantics></math> がデータとして持つ情報量は <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>g</mi><annotation encoding="application/x-tex">g</annotation></semantics></math> に等しい.</p>
</blockquote>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mo stretchy="false" form="prefix">(</mo><msup><mi>g</mi><mi>#</mi></msup><mo stretchy="false" form="prefix">(</mo><mi>x</mi><mo>,</mo><mi>t</mi><mo stretchy="false" form="postfix">)</mo><mo stretchy="false" form="postfix">)</mo><mo>=</mo><mrow><mo stretchy="true" form="prefix">(</mo><mi>p</mi><mo stretchy="false" form="prefix">(</mo><mi>a</mi><mo stretchy="false" form="prefix">(</mo><mi>x</mi><mo stretchy="false" form="postfix">)</mo><mo stretchy="false" form="postfix">)</mo><mo>=</mo><mi>x</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo>=</mo><mi>p</mi><mo stretchy="false" form="prefix">(</mo><mi>x</mi><mo>,</mo><mi>t</mi><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">p(g^\#(x,t)) = \left( p(a(x)) = x \right) = p(x,t)</annotation></semantics></math> であるので、 <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi>g</mi><mi>#</mi></msup><annotation encoding="application/x-tex">g^\#</annotation></semantics></math> が連続関数であることだけ確認すれば射であることが示される. なんかまあ近傍をとっていけばそうなる.</p>
<p>一対一であることの証明。略。</p>
</body>
</html>
