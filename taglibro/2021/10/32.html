<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="description" content="Fri 01 Oct 2021, Mon 04 Oct 2021, Tue 05 Oct 2021, WSL2, ホスト Windows, Powershell, WSL2, ホスト Windows, PowerShell, Fri 08 Oct 2021, Thu 14 Oct 2021, Sat 16 Oct 2021, 月 18 10月 2021, Wed 20 Oct 2021, Tue 26 Oct 2021, Thu 28 Oct 2021, 2021/10/31" />
  <meta property="og:url" content="http://cympfh.cc/taglibro">
  <meta property="og:title" content="月報 2021/10" />
  <meta property="og:description" content="Fri 01 Oct 2021, Mon 04 Oct 2021, Tue 05 Oct 2021, WSL2, ホスト Windows, Powershell, WSL2, ホスト Windows, PowerShell, Fri 08 Oct 2021, Thu 14 Oct 2021, Sat 16 Oct 2021, 月 18 10月 2021, Wed 20 Oct 2021, Tue 26 Oct 2021, Thu 28 Oct 2021, 2021/10/31" />
  <meta property="og:image" content="http://cympfh.cc/resources/img/identicon.png" />
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:site" content="@cympfh" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>月報 2021/10</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="../../resources/css/c.css" />
  <link rel="stylesheet" href="../../../resources/css/c.css" />
  <link rel="stylesheet" href="../../../resources/css/youtube.css" />
  <link rel="stylesheet" href="../../../resources/css/web_emb.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>
</head>
<body>
  <div class="taglibro">
<header class="page-header">
    <a href='../../index.html'><i class="fas fa-fast-backward"></i></a>
</header>
<header>
<h1 class="title">月報 2021/10</h1>
</header>
<h2 id="fri-01-oct-2021">Fri 01 Oct 2021</h2>
<h3 id="section">23:48:10</h3>
<ul>
<li>ぬきたし1をクリアした</li>
</ul>
<h2 id="mon-04-oct-2021">Mon 04 Oct 2021</h2>
<h3 id="section-1">15:28:11</h3>
今日のインターネット
<blockquote class="twitter-tweet">
<p lang="ja" dir="ltr">
</p>
<a href="https://twitter.com/jingbay/status/1444843252650237953"></a>
</blockquote>
<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
<p>不安な人間と統合失調症の区別なんて曖昧なんだろうな. この人の素性は知らないですけど.</p>
<h2 id="tue-05-oct-2021">Tue 05 Oct 2021</h2>
<h3 id="section-2">22:20:41</h3>
<p>WSL2上でsshd</p>
<p>WSL2上の設定は普通の Ubuntu で ssh サーバ建てるのと同じ. systemctl コマンドだと駄目だったので service コマンドで扱う.</p>
<pre class="console"><code>## WSL2
$ sudo apt install openssh-server

$ sudo systemctl status ssh
System has not been booted with systemd as init system (PID 1). Can&#39;t operate.

$ sudo service ssh status
 * sshd is running

$ curl -sL https://github.com/cympfh.keys &gt; ~/.ssh/authorized_keys
$ sudo service ssh restart
 * Restarting OpenBSD Secure Shell server sshd</code></pre>
<p>Windows から見た WSL の IP は WSL2 上で</p>
<pre class="console"><code>$ ifconfig | awk &#39;BEGIN{f=0}/eth0/{f=1}/^$/{f=0}f&#39;</code></pre>
<p>これの inet のとこにある <code>172...</code> みたいな IP.</p>
<p>ただし, ホスト Windows からだと <code>localhost</code> ででもアクセスできてしまう.</p>
<pre class="console"><code>## ホスト Windows, Powershell
$ ssh ${USER}@localhost</code></pre>
<p>しかし外のマシンからでは直接アクセスできないので, ホスト Windows で 22 番ポートをフォワーディングしてやればよい.</p>
<div class="web-emb" data-meta-title="【メモ】WSL2上のsshサーバに外部から接続する | Takeshi Yonezu" data-meta-image="https://tkyonezu.com/wp-content/uploads/2020/11/main-11-e1607474985371.jpg" data-meta-description="Windows10にWSL2を設定してUbuntuをインストールしている状態で、sshサーバーを起動して外部のコンピューターから接続することができます。 ただし、WSL2の内部ではホストとなるWindows10とは違うネットワークが使われているためにポートフォワードする必要があります。sshであれば22/tcpをポートフォワードするように設定します。 ところが、WSL2のネットワークは起動する度にアドレスが変更されてしまいますので、固定的にポートフォワードを設定するだけではsshサーバーに到達することができません。 そこで、Windows10とWSL2にインストールしたUbuntuに動的にポー" data-meta-url="https://tkyonezu.com/windows10/%E3%80%90%E3%83%A1%E3%83%A2%E3%80%91wsl2%E4%B8%8A%E3%81%AEssh%E3%82%B5%E3%83%BC%E3%83%90%E3%81%AB%E5%A4%96%E9%83%A8%E3%81%8B%E3%82%89%E6%8E%A5%E7%B6%9A%E3%81%99%E3%82%8B/">
<p><a href="https://tkyonezu.com/windows10/%E3%80%90%E3%83%A1%E3%83%A2%E3%80%91wsl2%E4%B8%8A%E3%81%AEssh%E3%82%B5%E3%83%BC%E3%83%90%E3%81%AB%E5%A4%96%E9%83%A8%E3%81%8B%E3%82%89%E6%8E%A5%E7%B6%9A%E3%81%99%E3%82%8B/">【メモ】WSL2上のsshサーバに外部から接続する | Takeshi Yonezu</a></p>
</div>
<pre class="console"><code>## WSL2
$ sudo cat &lt;&lt;EOM &gt; /usr/local/bin/wsl.ssh_port_forward.sh

##!/bin/bash

IP=$(ifconfig eth0 | grep &#39;inet &#39; | awk &#39;{ print $2 }&#39;)

echo Fowarding ${IP}:22
netsh.exe interface portproxy delete v4tov4 listenport=22
netsh.exe interface portproxy add v4tov4 listenport=22 connectport=22 connectaddress=${IP}

exit 0
EOM

$ sudo chmod +x /usr/local/bin/wsl.ssh_port_forward.sh</code></pre>
<p>これを Windows 側から実行したい.</p>
<pre class="console"><code>## ホスト Windows, PowerShell
$ wsl --exec bash /usr/local/bin/wsl.ssh_port_forward.sh</code></pre>
<p>これで外の環境からは直接見えてるはずのホスト Windows に向かって SSH すればよい. Windows の IP は Powershell から ipconfig して <code>192.168...</code> っぽいものを探す.</p>
ここらへんの話はブログにまとめておいた.
<div class="web-emb" data-meta-title="Windows/WSL2 で自宅サーバを建てる - Kita" data-meta-image="https://cdn-ak.f.st-hatena.com/images/fotolife/c/cympfh/20211022/20211022154908.png" data-meta-description="TL;DR やれば出来る子 構成 Windows10 WSL2 (Ubuntu 20.04) Intro 2019年あたりからWSLが実用的になりつつあり, それまで基本的には Linux (特にUbuntu）, 仕事用は Mac で生きていた私にも Windows を見直そうという潮流がやってきた. Windows/WSL(2) での生き方はこう. GUIGUI したもの（webブラウジング, Slack, Discord 等）は Windows ネイティブ ターミナルしたものは, Windows Terminal + WSL いわゆる開発は全てここで完結している VcXsrv で Wind…" data-meta-url="https://cympfh.hatenadiary.com/entry/2021/10/22/164151">
<p><a href="https://cympfh.hatenadiary.com/entry/2021/10/22/164151">Windows/WSL2 で自宅サーバを建てる - Kita</a></p>
</div>
<h2 id="fri-08-oct-2021">Fri 08 Oct 2021</h2>
<h3 id="section-3">12:51:32</h3>
最もシンプルなソートアルゴリズム
<div class="web-emb" data-meta-title="Is this the simplest (and most surprising) sorting algorithm ever?" data-meta-image="" data-meta-description="We present an extremely simple sorting algorithm. It may look like it isobviously wrong, but we prove that it is in fact correct. We compare it withother simple sorting algorithms, and analyse some of its curious properties." data-meta-url="https://arxiv.org/abs/2110.01111">
<p><a href="https://arxiv.org/abs/2110.01111">Is this the simplest (and most surprising) sorting algorithm ever?</a></p>
</div>
<div class="sourceCode" id="cb6"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb6-1" title="1"><span class="kw">def</span> i_cant_believe_it_can_sort(a: List[<span class="bu">int</span>]):</a>
<a class="sourceLine" id="cb6-2" title="2">    <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="bu">len</span>(a)):</a>
<a class="sourceLine" id="cb6-3" title="3">        <span class="cf">for</span> j <span class="kw">in</span> <span class="bu">range</span>(<span class="bu">len</span>(a)):</a>
<a class="sourceLine" id="cb6-4" title="4">            <span class="cf">if</span> a[i] <span class="op">&lt;</span> a[j]:</a>
<a class="sourceLine" id="cb6-5" title="5">                <span class="co"># swap</span></a>
<a class="sourceLine" id="cb6-6" title="6">                tmp <span class="op">=</span> a[i]</a>
<a class="sourceLine" id="cb6-7" title="7">                a[i] <span class="op">=</span> a[j]</a>
<a class="sourceLine" id="cb6-8" title="8">                a[j] <span class="op">=</span> tmp</a></code></pre></div>
<p>これで <strong>昇順</strong> にソートされる.</p>
<h2 id="thu-14-oct-2021">Thu 14 Oct 2021</h2>
<h3 id="section-4">13:30:06</h3>
<p>こないだ、プライムビデオで屍人荘の殺人見た. 思ってるのと違ったけど主人公の女の子が可愛かったので良かったね.</p>
<h3 id="section-5">17:08:26</h3>
<p>Windows マシンをSAMBAサーバにしたい. Linux サーバをそれにする方法ばっかりがぐぐるとヒットする.</p>
<div class="web-emb" data-meta-title="Windows 10でNASが見えなくなりSambaを有効化して解決" data-meta-image="https://blog.makotokw.com/wp-content/themes/makotokw2021/assets/images/ogp_default.png" data-meta-description="Windows 10で気がついたらNASに接続できなくなっていた。たまにしかNASを使っていなかったので、いつから起きていたか不明。調べるといろいろな解決方法がインターネット上で公開されている。その中から「Sambaのク […]" data-meta-url="https://blog.makotokw.com/2017/12/26/windows10-samba-nas/">
<p><a href="https://blog.makotokw.com/2017/12/26/windows10-samba-nas/">Windows 10でNASが見えなくなりSambaを有効化して解決</a></p>
</div>
<p>“Windowsの機能の有効化または無効化” にあった. デフォルトではクライアントにはチェックが入ってたけど、サーバの方にはチェックが入ってなかったので入れた. またOS再起動かとヒヤヒヤしたが, その必要はなく, 黙ってSAMBAサーバが立ち上がったようで別のマシンからアクセスできた. 必要なユーザー情報はOSのログイン情報と同じで, 私の場合は microsoft アカウントのユーザー名とパスワードになっていた. アクセス先は勝手にルート的なところ（直下にCドライブとかDドライブとかが並んでる）になっている. しかし各ドライブにはアクセス権がないと怒られた.</p>
<p><a href="https://www.dell.com/support/kbdoc/ja-jp/000175311/%E3%83%87%E3%83%AB%E8%A3%BD%E3%83%AC%E3%83%BC%E3%82%B6%E3%83%BC%E3%83%97%E3%83%AA%E3%83%B3%E3%82%BF%E3%81%A7smb-%E3%82%B5%E3%83%BC%E3%83%90-%E3%83%A1%E3%83%83%E3%82%BB%E3%83%BC%E3%82%B8-%E3%83%96%E3%83%AD%E3%83%83%E3%82%AF-%E3%82%B9%E3%82%AD%E3%83%A3%E3%83%B3%E3%82%92%E3%81%99%E3%82%8B%E3%81%9F%E3%82%81%E3%81%ABpc%E3%81%BE%E3%81%9F%E3%81%AF%E3%82%B5%E3%83%BC%E3%83%90%E3%82%92%E8%A8%AD%E5%AE%9A%E3%81%99%E3%82%8B%E6%96%B9%E6%B3%95#Four">Access Denied</a></p>
<p>ここの “Windows Server 2012” の説明の通りでよい. 共有したいフォルダを右クリック, プロパティから共有に関する設定がある. これがsambaに関する設定であるらしい. フルアクセスを許可すれば良い.</p>
<h3 id="section-6">17:19:00</h3>
<p>ubuntu 使いが arch wiki を参照するように, Windows 使いは Windows Server で調べると良いかもしれない</p>
<h2 id="sat-16-oct-2021">Sat 16 Oct 2021</h2>
<h3 id="section-7">00:43:32</h3>
<p>常識とはなにか. 個々人が生きる中で培ってきたルールの集合. 例えば, 外に出るときは服を着て靴を履いたほうが良いとかいったルール. ここではルールの集合または, その中の一つのルールのことを指して常識と呼ぶことにする. 当然次のことが言える.</p>
<ol type="1">
<li>異なる人物が持つ常識は同じとは限らない
<ul>
<li>外出するのに靴を履くことを常識としない人間がいるのは想像に難くない</li>
</ul></li>
<li>近い環境で育った人間の持つ常識は近い
<ul>
<li>“遠い/近い” は直感的な意味で使ってる</li>
<li>同じ日本人ならそれだけである程度近い常識を持っているし, 育った地区が同じであれば, 更には生みの親が同じ（つまり兄弟）であればなお一層近い常識を持っている</li>
</ul></li>
</ol>
<p>コミュニティとはなにか. 人間の集合のこと.</p>
<p>コミュニティの文化とはなにか. コミュニティに属する個々人の常識のその緩やかな共通集合のこと. “緩やかな” といったのは, 厳密に100%の人間が持ってる常識ではなくて80%くらいが持ってればそれなりに強い文化だから. 仮に 80% 以上の人間が持ってる常識のことを, そのコミュニティにおける 80% 文化と呼ぼう. 100% 文化はほとんど空集合に近いだろう.</p>
<p>「人間とはこうあるべき」という形式に書き換えることが出来るルールを真人間ルールと呼ぼう. ある文化の中の真人間ルールだけを取り出したものは, その文化における真人間の理想像である. 仮に 80% 文化を考えて, その中の真人間像を完全に常識の中に持っている人間のことを, 真人間という.</p>
<p>この定義のポイントは常識というのは「ルールを知っていること」だけだとしていて, 実践しているかどうかは問いていない. こうしている理由はある. 常識というルールセットの中には矛盾するルールが含まれうるからだ. 「外出時は靴を履きましょう」は日常的には実践されるとしても, 災害時には無視してもよいというルールも持っている方が便利だ. 知っていることと実践することには開きがある. 今の例で言えば, ルールを緻密にすれば完全に実践できるかもしれない. つまり, 「<strong>日常では</strong> 外出時は靴を履きましょう」 と修正すればよい. しかし, 人間がそんな緻密なルールを念頭にして生活しているとは到底思えない. 玄関で靴を履くときに, 今は日常か非常事態か考えるかより, 普通はもっと他の有意義なこと, 例えば今は晴れているが午後は雨が降るだろうかとか, そういったことを考えるはずだからだ.</p>
<ul>
<li>ありえるルール全ての集合 <span class="math inline">\(R\)</span>
<ul>
<li>本当に何でも良い規則</li>
</ul></li>
<li>人間全ての集合 <span class="math inline">\(P\)</span></li>
<li>人間 <span class="math inline">\(p \in P\)</span> が持っている常識 <span class="math inline">\(R_p \subset R\)</span></li>
<li>コミュニティ <span class="math inline">\(C \subset P\)</span>
<ul>
<li>有限集合</li>
</ul></li>
<li>コミュニティ <span class="math inline">\(C\)</span> の文化 <span class="math inline">\(Cl^C_q = \{ r \in R \mid \#\{ p \in C \mid r \in R_p \} \geq q \}\)</span>
<ul>
<li><span class="math inline">\(0 \leq q \leq 1\)</span>
<ul>
<li>仮に文化の強度と呼ぼう</li>
</ul></li>
<li>特に <span class="math inline">\(Cl^C_0 = R\)</span></li>
<li>特に <span class="math inline">\(Cl^C_1 = \bigcap_{p \in C} R_p\)</span></li>
</ul></li>
</ul>
<h2 id="月-18-10月-2021">月 18 10月 2021</h2>
<h3 id="section-8">18:52:30</h3>
GNU screen 4.2.0 で罫線の表示が崩れる.
<div class="web-emb" data-meta-title="GNU Screen 4.2.0にしたら罫線表示がぶっ壊れた" data-meta-image="https://anond.hatelabo.jp/images/og-image-1500.gif" data-meta-description="原因はcjkwidthというパッチが取り込まれたことだった。.screenにcjkwidthoffという1行を加えれば以前と同じように表示される。これは一体何の役に立つ…" data-meta-url="https://anond.hatelabo.jp/20140512183601">
<p><a href="https://anond.hatelabo.jp/20140512183601">GNU Screen 4.2.0にしたら罫線表示がぶっ壊れた</a></p>
</div>
<p>役立った. ありがとう匿名はてなダイアリー.</p>
<h2 id="wed-20-oct-2021">Wed 20 Oct 2021</h2>
<h3 id="section-9">19:36:27</h3>
<p>有限情報 / 無限情報</p>
<p>有限の記述量で表現される情報を有限情報という, そうでない情報を無限情報という, といった用語はない.</p>
<h2 id="tue-26-oct-2021">Tue 26 Oct 2021</h2>
<h3 id="section-10">17:31:48</h3>
<p>最近、日報を書くのをサボってたからまとめて書く.</p>
<p>先週の16日の土曜日、高尾山に登った. 8月末に登ったときには不甲斐なく登り始めて３０分程度で気分が悪く挫折したわけだが、 その時は朝ごはんを抜いたのが原因だったと考えて、今回は念入りに朝ごはんを二回食べた. そして前回は稲荷ルートで登ろうとしてたのだが、今回は曇りがちょうど心地よく、なんせ次の日の天気予報が雨なくらいに湿気ていたので、これは六号路が良いだろうと考えてそうした. 快適に登れた. 山頂にはあまりに多くの人だかりがいて、早めに撤退した. 稲荷ルートで下った.</p>
<p>先週の17日の日曜日、アキバに行った. 西澤五ミリ展を見た. うなぎを食べた. アキバに来たら毎回うなぎを食べているかもしれない. ブックオフのPS2コーナーを眺めてICOを1600円で購入した.</p>
<p>毎日ICOを少しずつ進めて、昨日の夜についにクリアした. 人と一緒に進めて、謎解きパートは結局ほとんど相手の人に解いてもらってしまった. 攻略サイトを見ないという制約を設けていたくせに、人に解いてもらってた.</p>
<p>ただの脱出パズル+アクションに、いわば足枷ともなる女の子の存在があるのが面白い. 女の子と手をつないでないとセーブもさせてくれないというのが良い. 情緒があって.</p>
<h2 id="thu-28-oct-2021">Thu 28 Oct 2021</h2>
<h3 id="section-11">13:14:44</h3>
<p>自然発生言語学</p>
<h2 id="section-12">2021/10/31</h2>
<p>12時に起きた. いつもの小学校に投票に行った. 東京は一日雨だった. よく傘をさして投票に行ってる記憶がある. その足で江東試験場まで行って運転免許証の更新に行った. 日曜日にいくものじゃなかった. テーマパークのように混雑していた. 免許はついにゴールドになった.</p>
<footer>
    <p class="is-pulled-right">
    @cympfh / cympfh@gmail.com
    </p>
</footer>
<!--

  以下を埋め込むと H2 タグを列挙してそれぞれへのリンクにする.
  ただし "INDEX" は除外する.

    <div id=toc></div>


  H2, H3 タグまでを列挙するには以下を埋め込む.

    <div id=toc-level-2></div>

-->
<script>
(function() {

  function naming(obj, name) {
      var PREF = document.createElement('a');
      PREF.name = name;
      obj.appendChild(PREF);
  }

  function level1() {

    var sections = document.getElementsByTagName('h2');
    var OL = document.createElement('ol');
    for (var i=0; i < sections.length; ++i) {
      var LI = document.createElement('li');
      var A = document.createElement('a');
      A.innerHTML = sections[i].innerHTML;
      if (A.innerHTML.toUpperCase() == 'INDEX') continue;
      A.href = '#' + i;
      LI.appendChild(A);
      OL.appendChild(LI);
      naming(sections[i], i);
      // var PREF = document.createElement('a');
      // PREF.name = i;
      // sections[i].appendChild(PREF);
    }

    return OL;
  }

  function level2() {

    var sections = document.querySelectorAll('h2,h3');
    var tree = [];
    for (var i = 0; i < sections.length; ++i) {
      if (sections[i].tagName == 'H2') {
        if (sections[i].innerHTML.toUpperCase() === 'INDEX') continue;
        tree.push([sections[i]]);
      } else {
        if (tree.length > 0) {
          tree[tree.length-1].push(sections[i]);
        } else {
          tree.push([sections[i]]);
        }
      }
    }

    var OL = document.createElement('ol');
    for (var i = 0; i < tree.length; ++i) {

      // h2-level
      var LI = document.createElement('li');
      var A = document.createElement('a');
      A.innerHTML = tree[i][0].innerHTML;
      A.href = '#' + i;
      naming(tree[i][0], i);
      LI.appendChild(A);

      // h3-level
      if (tree[i].length > 1) {
        var OL_sub = document.createElement('ol');
        for (var j = 1; j < tree[i].length; ++j) {
          var LI_sub = document.createElement('li');
          var A = document.createElement('a');
          A.innerHTML = tree[i][j].innerHTML;
          A.href = `#${i}-${j}`;
          naming(tree[i][j], `${i}-${j}`);
          LI_sub.appendChild(A);
          OL_sub.appendChild(LI_sub);
        }
        LI.appendChild(OL_sub);
      }

      OL.appendChild(LI);
    }

    return OL;
  }

  function append_toc() {
    if (document.getElementById('toc')) {
      document.getElementById('toc').appendChild(level1());
    }
    if (document.getElementById('toc-level-2')) {
      document.getElementById('toc-level-2').appendChild(level2());
    }
  }

  window.addEventListener('DOMContentLoaded', append_toc, false);
}());
</script>
  </div>
  <script src="../../../resources/js/youtube.js"></script>
  <script src="../../../resources/js/web_emb.js"></script>
</body>
</html>
