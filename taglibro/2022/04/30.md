# 月報 2022/04

## Sat 02 Apr 2022

### 01:34:41

"夢で得た知識" というものがある.
夢の中で見聞きして得た知識のことだ.
もちろん正しいとは限らない.
荒唐無稽であればよいのだが, そうでないと一見本当の知識と区別がつかない.
本物の知識と混ざり合ってわからなくなる.

### 21:36:00

正しく考えた結果得られた結論が, どれだけ自分にとって不都合でも受け入れる, それも誠実な態度ではある.
しかし気をつけることがある.
考えるという行為で用いたはずの理論は所詮は人間が人間のために都合よく設計したものだ.
（まさか生まれ備わって持った絶対の思考法があるなんてことはないはずだ.）
ということは, 都合の悪い結論が得られたらその理論の採用を取りやめにしても良い.
これは全く不誠実なことではなく, 賢い営みだ.
実は普通にやっていることでもある.

### 21:40:10

Markdown コンパイラを書いている.
コンパイラなどと言っても, Markdown 構造というのは HTML 構造の中に単純に埋め込めるよう設計されているので,
パーザだけが大変であって, それより後ろは特段難しいことはない.

私は日常的に markdown で物を書いていて, これを他に変換する場合には pandoc を使っている.
私はワガママなのでここに拡張文法を入れたくなった.

[cympfh/mdc](https://github.com/cympfh/mdc) は, 拡張文法付き Markdown を食わすと,
プレーン Markdown を吐くようなコンパイラである.
これを使っていた.
中身はというとコンパイラというにはおそまつな, 拡張した文法だけを正規表現で取り出して, 単純な置き換えをしているだけだ.
Ruby スクリプトとして書かれている.
ほとんどいつも期待通りに動いてくれているが, Markdown として正しく解釈してないので何が起こるか分からない.
スクリプトの中身はおぞましいことになっていて, これ以上拡張したいと思えない有様になっている.
他への依存も含まれているので第三者がいきなりこれを動かすのも難しい.

今書いてるコードはまだ手元にしかない.
喫茶店や喫茶店代わりに使ってるファーストフード店の中でしか作業しないルールで毎日少しずつ書き進めている.
今日ようやく, 入れ子になったリストをパースでき, テーブルがパースできるようになった.
テーブルといえば, 私の認識が正しければ
オリジナルの Markdown の仕様は
[これ](https://daringfireball.net/projects/markdown/syntax) で,
テーブルの記法はここに含まれていない.
まともな Markdown の仕様といえる [CommonMark](https://commonmark.org/) にもやはりテーブルは含まれてないはずだ.
テーブルの例としては Raw HTML を埋め込んでるものがあるだけだ.
というわけで実態としては各自が拡張文法として用意しているわけだが, GitHub style の
[それ](https://docs.github.com/en/get-started/writing-on-github/getting-started-with-writing-and-formatting-on-github/basic-writing-and-formatting-syntax)
が一般的だと思う.
というかこれを仕様だと思って改めて見直すことにしようと思った.
今改めて見るとたくさん漏れがある.

- 実装状況 _(2022/05/06 時点)_
  - [x] Headings
  - [x] Style: CommonMark に準拠する, できるだけ
    - [x] Emphasis, Italic [2022/04/03 (Sun) 17:05]
      - シングル `*`, シングル `_` で括る
    - [x] Strong, Bold [2022/04/03 (Sun) 17:05]
      - ダブル `**`, ダブル `__` で括る
    - [x] Deleted (Striked) [2022/04/03 (Sun) 17:05]
      - シングル `~`, ダブル `~~`
    - [x] Emphasis && Strong [2022/04/03 (Sun) 17:05]
      - `***`
    - [x] Nested Style [2022/04/03 (Sun) 18:27]
      - `**A _B_**` が通るようにする
  - [x] Quoting [2022/04/03 (Sun) 17:11]
  - [x] Code block
  - [x] Links
  - [x] Images
  - [x] Lists [2022/04/03 (Sun) 17:38]
    - [x] Nested Lists
    - [x] Task Lists [2022/04/03 (Sun) 17:38]
      - `[ ]` と `[x]`
  - [x] emoji
    - 簡単に使えるライブラリがあったらそれに乗っかる
    - [emojis](https://crates.io/crates/emojis) を使ってる. Github の emoji shortcode が使える
  - [x] Paragraph
    - 空行またはEOFまでを区切りにする
  - [ ] Footnotes
    - いる？？
  - [x] 文末にスペース２個で改行
  - [x] Comments [2022/04/03 (Sun) 03:29]
    - `<!-- ... -->`
  - [x] Escaping characters
- Issues:
  - [x] プレーンテキスト中の空白と改行のとりあつかい [2022/04/03 (Sun) 18:49]
    - `a   b c` は `a b c` とレンダリングすればOKだが今は空白を特別扱いしてないので保たれる
      - 空白区切りでテキストをトークナイズする
    - 改行文字が消える
      - 逆に改行だけでトークナイズしてたので改行文字は消える
      - 消えていいみたいなのでこれはこのまま
      - 空白２つで終わってたら改行を残す

### 23:37:03

"第21号・じゃがいもの発芽防止に放射線"

{{https://www.ies.or.jp/publicity_j/mini_hyakka/21/mini21.html}}

(UTF-8 で書かれた web に慣れすぎて文字化けすることを考えてなかった)

## Sat 9 Apr 2022

秋葉原を散歩した.
気温を見ると22度だったらしいが, 日差しが強くて夏の様だった.
人が多くて疲れた. 安心宿でお風呂に入って二時間くらい unidoc を触ってた.
安心宿はカプセルホテルなのだが, お風呂場がついていて, フリードリンクのあるラウンジが作業場所として便利.
他に席が空いてるのに隣に座ってくる人が怖くて退散した.
その後また散歩して, ブックオフで NOëL というPSゲームを290円で買った.
盤面に傷があるのをレジの人に注意されたが, 290円でいちいち返品しないだろうなと思って受け流した.

## Sun 10 Apr 2022

### 12:17

夢日記。ルービックキューブが硬くて回せなくなった。潤滑剤が固まったのかと思って分解して拭いた。パーツがあまりに複雑で二度と組み立てられなかった

### unidoc

来月に今月分のブログを書くまでには, それ自体をコンパイル可能な状態にしておきたい.

### 15:55:44

アマガミについて.
今は七咲逢ルートを完璧に攻略すべく, 七咲逢以外の女の子とほとんど話さなかった.
主人公及びこのゲームはそれでも時々は勝手に別な子と接点を持たせたり, 主人公は浮気なところがあったり,
そして女の子が自分と離れた遠くに行ってしまう様を描くことで, プレイヤーに未練を抱かせる.
次はこの子を攻略してやるぞ, という気持ち, 罪悪感を抱かせる.
プレイヤーが女の子を攻略してると錯覚しがちだが、実際にはさらに間接的で、女の子を攻略せんとする主人公を操作してるだけ.

### 17:25:30

アマガミ七咲ルート終わり.
全部やろうとするとかなりボリュームありそうだ.

## Mon 11 Apr 2022

### 03:10:29

unidoc に MathJax を入れてかなり欲しい物が出来つつある.
pandoc で言うところの `--css`, `-A`, `-B` くらいがあれば, もう自分のブログで使う範囲では便利に使えそうだ.

{{https://ja.wikipedia.org/wiki/%E7%97%85%E7%9A%84%E7%A7%91%E5%AD%A6}}

## Mon 18 Apr 2022

### 13:11:55

夢日記。今の家を手放しで古い家に住んでた。お風呂があまりに汚いので悲しくなった。

### 14:21:02

自分を大切にするということは例えば百合の間に挟まるといったことを言う

### 18:46:22

お金で得る楽しみしか知らない人は、労働で苦しんだ以上の楽しみを得られないので、人生マイナスで終わる可能性大ですね

### 20:45:38

耳にピアスする人ってヘッドホンしないんだろうか。しないんだろう

## Wed 20 Apr 2022
### 12:26:04

### vim の起動が遅いときにやること

- `vim -u NONE` で一度 `.vimrc` を参照しない場合の起動速度を確認する
- `vim --startuptime foo` でプロファイルを見る
  - `foo` というファイルにプロファイル結果が出る
  - clipboard に難がある場合 (WSL 等仮想環境?)
    - vim は起動時に setup clipboard をし, ここにタイムアウト 30 秒がある

## Fri 22 Apr 2022
### 17:35:01

> 生きてる魚は死んだ魚よりも金になる.

"鍋に弾丸を受けながら"

## Sun 24 Apr 2022
### 01:52:43

あったはずだけど消えた楽曲.
y0c1e, "わたしは幸せになりましょう".

"Let Me Be With You" からの "見つけて Happy life".

まだ消えてない楽曲.
"夏は子どもたちのために".

{{https://soundcloud.com/y0c1e/gvkqi3faegdh}}

"ほうかごまわりみち"

{{https://soundcloud.com/y0c1e/pananarama}}

### 01:54:48

上を書くために unidoc に SoundCloud の埋め込みプレイヤーをハードコーディングした.

```markdown
{{https://soundcloud.com/.*/.*}}
```

と書くとこれが埋め込みプレイヤーになる.
このフォーマットは積極的に URL の内容を見ていい感じの埋め込みにする.

## Mon 25 Apr 2022
### 11:13:25

目だけ覚めて, 自分の寝息を聞くことに成功した.

夢日記。刑務所に入って施設の案内を受けた。他の人は各々悪さをしてたけど見ないふりをした。案外不自由ない生活ができそうだったので安心して本棚を整理をした。

## Thu 28 Apr 2022
### 13:51:35

#### "母" がつく数理科学用語とその言い換え

- 母集団
  - population
- 母平均
  - population mean
- 母分散
  - population variance
- 母数
  - parameter
- 分母
  - denominator
- 母関数
  - generating function
  - 生成関数

## Fri 29 Apr 2022
### 01:59:21

「値上げせずに頑張ってます」みたいなことを企業が言うのが美徳になっている.
これは社員の給与を上げないことを良しとしているわけだから本当は悪徳極まりない.
仕方がないので消費税が上がっている.

消費税を上げるくらいならその分, すべての流通が値上がりするほうが直接人間に還元される.
