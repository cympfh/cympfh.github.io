<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="pandoc">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
  <title>層・圏・トポス - 層</title>
  <style type="text/css">code{white-space: pre;}</style>
  <link rel="stylesheet" href="../resources/css/c.css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<header>
<h1 class="title">層・圏・トポス - 層</h1>
</header>
<p class="date" style="text-align: right">
2017-11-12 (Sun.)
</p>
<div class="is-pulled-right">
<p><a class='tag is-red' href=index.html#数学>数学</a></p>
</div>
<h2 id="index">index</h2>
<div id="toc">

</div>
<p><span class="math display">\[\def\O{\mathcal{O}}\]</span></p>
<h2 id="前層-preshaef">前層 (preshaef)</h2>
<p>二通りの定義を与える.</p>
<h3 id="定義1">定義1</h3>
<div class="thm">
<p>位相空間 <span class="math inline">\(X\)</span> の <strong>前層</strong> とは、 集合 <span class="math inline">\(A\)</span>, 関数 <span class="math inline">\(E: A \rightarrow \O(X)\)</span>, 関数 <span class="math inline">\(\rceil: A \times \O(X) \rightarrow A\)</span> からなる三組 <span class="math inline">\((A, E, \rceil)\)</span> であって次のようなもの.</p>
<ol start="0" type="1">
<li>任意の <span class="math inline">\(a, b \in A\)</span> に対して、<span class="math inline">\(a \rceil \emptyset = b \rceil \emptyset\)</span></li>
<li><span class="math inline">\(a \rceil Ea = a\)</span> (<span class="math inline">\(\rceil\)</span> の結合則は <span class="math inline">\(E\)</span> の適用より弱い)</li>
<li><span class="math inline">\(E (a \rceil U) = E a \cap U\)</span></li>
<li><span class="math inline">\((a \rceil U) \rceil V = a \rceil (U \cap V)\)</span></li>
</ol>
</div>
<h4 id="例">例</h4>
<p>関数の集合 <span class="math inline">\(A\)</span>, 関数の定義域を与える手続き <span class="math inline">\(E\)</span>, (広い意味での) 関数の定義域の制限 <span class="math inline">\(\rceil\)</span>.</p>
<blockquote>
<p>明らかに前層とはこれを抽象化したものである</p>
</blockquote>
<h3 id="定義2">定義2</h3>
<div class="thm">
<p>位相空間 <span class="math inline">\(X\)</span> の <strong>前層</strong> とは、 <span class="math inline">\(X\)</span> の開集合を適当な集合の集合 <span class="math inline">\(\mathcal{A}\)</span> に写すような <span class="math display">\[F : \O(X) \to \mathcal{A}\]</span> 及び <span class="math inline">\(U,V \in \O(X)\)</span> について <span class="math inline">\(U \subseteq V\)</span> ならば <span class="math display">\[r_{UV} : F(V) \to F(U)\]</span> が定まっているようなもの. これらの <span class="math inline">\(\left(F, r = \{ r_{UV} : U, V \in \O(X) \}\right)\)</span> を前層だという. ただし次を要請する.</p>
<ol start="0" type="1">
<li><span class="math inline">\(F(\emptyset)\)</span> は単集合</li>
<li><span class="math inline">\(r_{UU}\)</span> は恒等写像</li>
<li><span class="math inline">\(U \subseteq V \subseteq W\)</span> のとき <span class="math inline">\(r_{UW} = r_{UV} \circ r_{VW}\)</span></li>
</ol>
</div>
<p>これら2つの定義が等価であることを確認する.</p>
<h3 id="定義1-rightarrow-定義2">定義1 <span class="math inline">\(\Rightarrow\)</span> 定義2</h3>
<div class="thm">
<p>前層が <span class="math inline">\((A,E,\rceil)\)</span> で与えられた時、次で定義2を構成できる.</p>
<ol type="1">
<li><span class="math inline">\(F(U) = \{ f \in A : Ef = U \}\)</span></li>
<li><span class="math inline">\(r_{UV}(f) = f \rceil U\)</span></li>
</ol>
</div>
<p>要請を満たすことを確認する.</p>
<ol start="0" type="1">
<li><span class="math inline">\(F(\emptyset) = \{ f : Ef = \emptyset \}\)</span> は単集合か?
<ul>
<li><span class="math inline">\(f = f \rceil (Ef)\)</span> より <span class="math inline">\(f \in F(\emptyset) \Rightarrow f = f \rceil \emptyset\)</span></li>
<li><span class="math inline">\(F(\emptyset)\)</span> が 2つ以上の要素をもって <span class="math inline">\(f,g\)</span> がそうであるとき、
<ul>
<li><span class="math inline">\(f = f\rceil \emptyset = g\rceil \emptyset = g\)</span></li>
<li>従って、<span class="math inline">\(F(\emptyset)\)</span> は要素を高々1つしか持たない</li>
</ul></li>
<li>また <span class="math inline">\(F(\emptyset)\)</span> は空集合でもない
<ul>
<li>任意の <span class="math inline">\(a\)</span> について
<ul>
<li><span class="math inline">\(E(a \rceil \emptyset) = Ea \cap \emptyset = \emptyset\)</span></li>
</ul></li>
<li>であるので、<span class="math inline">\((a \rceil \emptyset) \in F(\emptyset)\)</span></li>
</ul></li>
</ul></li>
<li><span class="math inline">\(r_{UU}\)</span> は恒等写像か?
<ul>
<li>明らか</li>
</ul></li>
<li><span class="math inline">\(r_{UW} = r_{UV} \circ r_{VW}\)</span>
<ul>
<li><span class="math inline">\(r_{VW} : F(W) \to F(V)\)</span></li>
<li><span class="math inline">\(r_{UV} : F(V) \to F(U)\)</span></li>
<li><span class="math inline">\(f \in F(W) = \{ f : Ef = W \}\)</span> について
<ul>
<li><span class="math inline">\(r_{VW}(f) = f \rceil V\)</span></li>
<li><span class="math inline">\((r_{UV} \circ r_{VW}(f) = (f \rceil V) \rceil U = f \rceil (V \cap U) = f \rceil U = r_{UV}(f)\)</span></li>
</ul></li>
</ul></li>
</ol>
<p>というわけでok.</p>
<h3 id="定義2-rightarrow-定義1">定義2 <span class="math inline">\(\Rightarrow\)</span> 定義1</h3>
<div class="thm">
<p>逆に前層が <span class="math inline">\((F, r)\)</span> で与えられたとき、 先ほどの全く逆によって構成できる.</p>
<ol type="1">
<li><span class="math inline">\(A = \bigcup_{U \in \O(X)} F(U)\)</span></li>
<li><span class="math inline">\(f \in F(U) \iff Ef = U\)</span></li>
<li><span class="math inline">\(f \rceil U = r_{VW}(f)\)</span>
<ul>
<li>where <span class="math inline">\(V = U \cap W, W=Ef\)</span></li>
</ul></li>
</ol>
</div>
<p>要請を満たすことを確認する.</p>
<ol start="0" type="1">
<li><span class="math inline">\(a,b \in A\)</span> について
<ul>
<li><span class="math inline">\(a \rceil \emptyset = r_{VW}(a)\)</span>
<ul>
<li>ここで <span class="math inline">\(V = \emptyset, W = Ef = U_a\)</span> で
<ul>
<li><span class="math inline">\(r_{VW} : F(W) \to F(V)\)</span></li>
<li><span class="math inline">\(F(V)\)</span> は単集合であるので、 <span class="math inline">\(r_{VW}\)</span> は一点に写す関数</li>
</ul></li>
<li>従って <span class="math inline">\(r_{VW}(a) = r_{VW&#39;}(b)\)</span></li>
</ul></li>
<li>よって <span class="math inline">\(a \rceil \emptyset = b \rceil \emptyset\)</span></li>
</ul></li>
<li><span class="math inline">\(f \rceil (Ef) = r_{VW} f\)</span>
<ul>
<li>ただし <span class="math inline">\(V = Ef \cap W, W = Ef\)</span></li>
<li>なので <span class="math inline">\(V=W\)</span> なんで <span class="math inline">\(r_{VW}\)</span> は恒等写像</li>
<li>というわけで、 <span class="math inline">\(f \rceil (Ef) = f\)</span></li>
</ul></li>
<li><span class="math inline">\(f \rceil U = r_{VW}(f) \in F(V)\)</span>
<ul>
<li>ここで <span class="math inline">\(V = U \cap Ef\)</span></li>
<li><span class="math inline">\(E(f \rceil U) = V = U \cap Ef\)</span></li>
</ul></li>
<li><span class="math inline">\((f \rceil U) \rceil V = f \rceil (U \cap V)\)</span>
<ul>
<li>大体同様に</li>
</ul></li>
</ol>
<h2 id="両立-compatible">両立 (compatible)</h2>
<p>前層 <span class="math inline">\(A\)</span> の2つの元 <span class="math inline">\(f, g \in A\)</span> が <strong>両立</strong> するとは、 <span class="math display">\[f \rceil Eg = g \rceil Ef\]</span> とあること.</p>
<p>関数集合の例でいうと、 定義域の交わる部分で関数の値が一致することを表す.</p>
<h2 id="層-sheaf">層 (sheaf)</h2>
<p>やはり二通りの定義を与える.</p>
<h3 id="定義1-1">定義1</h3>
<p><span class="math inline">\(X\)</span> の上の前層 <span class="math inline">\(A\)</span> が次を満たすとき、<span class="math inline">\(A\)</span> を <span class="math inline">\(X\)</span> の上の <strong>層</strong> と呼ぶ.</p>
<ul>
<li><span class="math inline">\(\forall f,g \in F\)</span> が両立するような <span class="math inline">\(F \subset A\)</span> に対して、次の2つを成立させる <span class="math inline">\(g\)</span> が唯一つ存在すること
<ol type="1">
<li><span class="math inline">\(\forall f \in F, g \rceil Ef = f\)</span></li>
<li><span class="math inline">\(Eg = \bigcup_{f \in F} Ef\)</span>
<ul>
<li>このような <span class="math inline">\(g\)</span> を <span class="math inline">\(F\)</span> に対して <span class="math inline">\(\cup F\)</span> と書く</li>
</ul></li>
</ol></li>
</ul>
<h4 id="例-1">例</h4>
<p>前に述べた関数の例は層である</p>
<h3 id="定義2-1">定義2</h3>
<p>定義1と同値な定義を与える.</p>
<p>位相空間 <span class="math inline">\(X\)</span> に対して 位相空間 <span class="math inline">\(S\)</span> と局所同相写像 <span class="math inline">\(p: S \to X\)</span> があるとき、 <span class="math inline">\((S, p)\)</span> を <span class="math inline">\(X\)</span> の上の <strong>層</strong> という.</p>
<h4 id="定義2-定義1">定義2 → 定義1</h4>
<p><span class="math inline">\(X\)</span> 上の層 <span class="math inline">\((S,p)\)</span> から <span class="math inline">\((A,E,\rceil)\)</span> の形の層を次のようにして構成できる.</p>
<p><span class="math inline">\(U \in \O(X)\)</span> について <span class="math display">\[\Gamma(U) = \{ f : f:U \to S, p \circ f = id \}\]</span> として</p>
<ol type="1">
<li><span class="math inline">\(A = \bigcup \Gamma(U)\)</span></li>
<li><span class="math inline">\(Ef=U \iff f \in \Gamma(U)\)</span></li>
<li><span class="math inline">\(f \rceil V = f \lceil (V \cap Ef)\)</span>
<ul>
<li>右辺は単なる関数の制限</li>
</ul></li>
</ol>
<p>定義2 であっても前層でかつ定義1の層と一致することがわかる.</p>
<!--

  HTML として pandoc -B で include する.

  <H2> を列挙してそれらにリンクを貼った toc を id='toc' に埋め込む.
  markdown で書いてるだろうから例として次のような段落を書けばよい.

```
## INDEX
<div id=toc></div>
```

  used in
  - /memo/gnuplot
  - /memo/linux
  - /memo/imagemagick

-->
<script>
(function() {
  var sections = document.getElementsByTagName('h2');
  var i;
  var OL = document.createElement('ol');
  for (i=0; i < sections.length; ++i) {
    var LI = document.createElement('li');
    var A = document.createElement('a');
    A.innerHTML = sections[i].innerHTML;
    if (A.innerHTML.toUpperCase() == 'INDEX') continue;
    A.href = '#' + i;
    LI.appendChild(A);
    OL.appendChild(LI);

    var PREF = document.createElement('a');
    PREF.name = i;
    sections[i].appendChild(PREF);
  }

  var done = false;
  function work() {
    if (done) return;
    if ( document.getElementById('toc') === null) return; // no toc element
    document.getElementById('toc').appendChild(OL);
    done = true;
  };

  window.onload = work;
  setTimeout(work,800);
}());
</script>
</body>
</html>
