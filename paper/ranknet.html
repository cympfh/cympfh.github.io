<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="pandoc">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
  <title>Learning to Rank (RankNet)</title>
  <style type="text/css">code{white-space: pre;}</style>
  <link rel="stylesheet" href="../resources/css/c.css">
  <link rel="stylesheet" href="resources/index.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<h1 style="font-size:1em; position:absolute; left:0; top:-0.8em; font-size:2.0em !important">
    <a href='index.html'>
    <img src="../resources/img/identicon.png" style="position:relative; top:0.4em; width:1.3em;border-radius:0.8em;" /> paper/
    </a>
</h1>
<header>
<h1 class="title">Learning to Rank (RankNet)</h1>
</header>
<ul>
<li>
url: <a href=http://icml.cc/2015/wp-content/uploads/2015/06/icml_ranking.pdf>http://icml.cc/2015/wp-content/uploads/2015/06/icml_ranking.pdf</a>
</li>
<li>
tags: <span class="tag"><a href=index.html#ランク学習>ランク学習</a></span>
</li>
</ul>
<h2 id="ランク学習-ランキング学習">ランク学習 (ランキング学習)</h2>
<p>点列 <span class="math inline">\(\{x_i\}\)</span> について (全) 順序 <span class="math inline">\(x_i \succ x_j\)</span> を学習及び予測したい.</p>
<h2 id="ranknet-1">RankNet <a href="#fn1" class="footnoteRef" id="fnref1"><sup>1</sup></a></h2>
<p>RankNet では実関数 <span class="math display">\[f : \mathcal{X} \to \mathbb{R}\]</span> を構成することで <span class="math display">\[f(x_i) &gt; f(x_j) \iff x_i \succ x_j\]</span> として順序付けを行う. 参考 <a href="#fn2" class="footnoteRef" id="fnref2"><sup>2</sup></a> では <span class="math inline">\(f(x)\)</span> のことをスコアと読んでる.</p>
<p>スコアは単に大小でランキングを定めるだけでなく確率も定める. <span class="math inline">\(o_{ij} = f(x_i) - f(x_j)\)</span> として、 <span class="math display">\[Pr\left[ x_i \succ x_j \right] = \frac{\exp o_{ij}}{1 + \exp o_{ij}}\]</span> であるとし、<span class="math inline">\(P_{ij}\)</span> と書く. 所見で気づかなかったが、シグモイド関数と呼んだ方が馴染み深い. <span class="math display">\[P_{ij} = \sigma(o_{ij}) = \frac{1}{1 + \exp (-o_{ij})}\]</span></p>
<p><span class="math inline">\(o_{ji} = - o_{ij}\)</span> から <span class="math inline">\(P_{ji} = 1 - P_{ij}\)</span> になってることが確認出来る.</p>
<?xml version="1.0" encoding="utf-8"  standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg width="600" height="480" viewBox="0 0 600 480" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<title>
Gnuplot
</title>
<desc>Produced by GNUPLOT 5.0 patchlevel 5 </desc><g id="gnuplot_canvas"><rect x="0" y="0" width="600" height="480" fill="none"/><defs> <circle id='gpDot' r='0.5' stroke-width='0.5'/> <path id='gpPt0' stroke-width='0.222' stroke='currentColor' d='M-1,0 h2 M0,-1 v2'/> <path id='gpPt1' stroke-width='0.222' stroke='currentColor' d='M-1,-1 L1,1 M1,-1 L-1,1'/> <path id='gpPt2' stroke-width='0.222' stroke='currentColor' d='M-1,0 L1,0 M0,-1 L0,1 M-1,-1 L1,1 M-1,1 L1,-1'/> <rect id='gpPt3' stroke-width='0.222' stroke='currentColor' x='-1' y='-1' width='2' height='2'/> <rect id='gpPt4' stroke-width='0.222' stroke='currentColor' fill='currentColor' x='-1' y='-1' width='2' height='2'/> <circle id='gpPt5' stroke-width='0.222' stroke='currentColor' cx='0' cy='0' r='1'/> <use xlink:href='#gpPt5' id='gpPt6' fill='currentColor' stroke='none'/> <path id='gpPt7' stroke-width='0.222' stroke='currentColor' d='M0,-1.33 L-1.33,0.67 L1.33,0.67 z'/> <use xlink:href='#gpPt7' id='gpPt8' fill='currentColor' stroke='none'/> <use xlink:href='#gpPt7' id='gpPt9' stroke='currentColor' transform='rotate(180)'/> <use xlink:href='#gpPt9' id='gpPt10' fill='currentColor' stroke='none'/> <use xlink:href='#gpPt3' id='gpPt11' stroke='currentColor' transform='rotate(45)'/> <use xlink:href='#gpPt11' id='gpPt12' fill='currentColor' stroke='none'/> <path id='gpPt13' stroke-width='0.222' stroke='currentColor' d='M0,1.330 L1.265,0.411 L0.782,-1.067 L-0.782,-1.076 L-1.265,0.411 z'/> <use xlink:href='#gpPt13' id='gpPt14' fill='currentColor' stroke='none'/> <filter id='textbox' filterUnits='objectBoundingBox' x='0' y='0' height='1' width='1'> <feFlood flood-color='white' flood-opacity='1' result='bgnd'/> <feComposite in='SourceGraphic' in2='bgnd' operator='atop'/> </filter> <filter id='greybox' filterUnits='objectBoundingBox' x='0' y='0' height='1' width='1'> <feFlood flood-color='lightgrey' flood-opacity='1' result='grey'/> <feComposite in='SourceGraphic' in2='grey' operator='atop'/> </filter></defs><g fill="none" color="white" stroke="currentColor" stroke-width="1.00" stroke-linecap="butt" stroke-linejoin="miter"></g><g fill="none" color="black" stroke="currentColor" stroke-width="1.00" stroke-linecap="butt" stroke-linejoin="miter"></g><g fill="none" color="black" stroke="black" stroke-width="0.50" stroke-linecap="butt" stroke-linejoin="miter"></g><g fill="none" color="gray" stroke="currentColor" stroke-width="0.50" stroke-linecap="butt" stroke-linejoin="miter"> <path stroke='gray' stroke-dasharray='2,4' class="gridline"  d='M53.9,422.4 L575.0,422.4  '/></g><g fill="none" color="gray" stroke="gray" stroke-width="1.00" stroke-linecap="butt" stroke-linejoin="miter"></g><g fill="none" color="black" stroke="currentColor" stroke-width="1.00" stroke-linecap="butt" stroke-linejoin="miter"> <path stroke='black'  d='M53.9,422.4 L62.9,422.4 M575.0,422.4 L566.0,422.4  '/> <g transform="translate(45.6,426.3)" stroke="none" fill="black" font-family="Arial" font-size="12.00"  text-anchor="end"> <text><tspan font-family="Arial" > 0</tspan></text> </g></g><g fill="none" color="black" stroke="currentColor" stroke-width="1.00" stroke-linecap="butt" stroke-linejoin="miter"></g><g fill="none" color="black" stroke="black" stroke-width="0.50" stroke-linecap="butt" stroke-linejoin="miter"></g><g fill="none" color="gray" stroke="currentColor" stroke-width="0.50" stroke-linecap="butt" stroke-linejoin="miter"> <path stroke='gray' stroke-dasharray='2,4' class="gridline"  d='M53.9,381.8 L575.0,381.8  '/></g><g fill="none" color="gray" stroke="gray" stroke-width="1.00" stroke-linecap="butt" stroke-linejoin="miter"></g><g fill="none" color="black" stroke="currentColor" stroke-width="1.00" stroke-linecap="butt" stroke-linejoin="miter"> <path stroke='black'  d='M53.9,381.8 L62.9,381.8 M575.0,381.8 L566.0,381.8  '/> <g transform="translate(45.6,385.7)" stroke="none" fill="black" font-family="Arial" font-size="12.00"  text-anchor="end"> <text><tspan font-family="Arial" > 0.1</tspan></text> </g></g><g fill="none" color="black" stroke="currentColor" stroke-width="1.00" stroke-linecap="butt" stroke-linejoin="miter"></g><g fill="none" color="black" stroke="black" stroke-width="0.50" stroke-linecap="butt" stroke-linejoin="miter"></g><g fill="none" color="gray" stroke="currentColor" stroke-width="0.50" stroke-linecap="butt" stroke-linejoin="miter"> <path stroke='gray' stroke-dasharray='2,4' class="gridline"  d='M53.9,341.3 L575.0,341.3  '/></g><g fill="none" color="gray" stroke="gray" stroke-width="1.00" stroke-linecap="butt" stroke-linejoin="miter"></g><g fill="none" color="black" stroke="currentColor" stroke-width="1.00" stroke-linecap="butt" stroke-linejoin="miter"> <path stroke='black'  d='M53.9,341.3 L62.9,341.3 M575.0,341.3 L566.0,341.3  '/> <g transform="translate(45.6,345.2)" stroke="none" fill="black" font-family="Arial" font-size="12.00"  text-anchor="end"> <text><tspan font-family="Arial" > 0.2</tspan></text> </g></g><g fill="none" color="black" stroke="currentColor" stroke-width="1.00" stroke-linecap="butt" stroke-linejoin="miter"></g><g fill="none" color="black" stroke="black" stroke-width="0.50" stroke-linecap="butt" stroke-linejoin="miter"></g><g fill="none" color="gray" stroke="currentColor" stroke-width="0.50" stroke-linecap="butt" stroke-linejoin="miter"> <path stroke='gray' stroke-dasharray='2,4' class="gridline"  d='M53.9,300.7 L575.0,300.7  '/></g><g fill="none" color="gray" stroke="gray" stroke-width="1.00" stroke-linecap="butt" stroke-linejoin="miter"></g><g fill="none" color="black" stroke="currentColor" stroke-width="1.00" stroke-linecap="butt" stroke-linejoin="miter"> <path stroke='black'  d='M53.9,300.7 L62.9,300.7 M575.0,300.7 L566.0,300.7  '/> <g transform="translate(45.6,304.6)" stroke="none" fill="black" font-family="Arial" font-size="12.00"  text-anchor="end"> <text><tspan font-family="Arial" > 0.3</tspan></text> </g></g><g fill="none" color="black" stroke="currentColor" stroke-width="1.00" stroke-linecap="butt" stroke-linejoin="miter"></g><g fill="none" color="black" stroke="black" stroke-width="0.50" stroke-linecap="butt" stroke-linejoin="miter"></g><g fill="none" color="gray" stroke="currentColor" stroke-width="0.50" stroke-linecap="butt" stroke-linejoin="miter"> <path stroke='gray' stroke-dasharray='2,4' class="gridline"  d='M53.9,260.1 L575.0,260.1  '/></g><g fill="none" color="gray" stroke="gray" stroke-width="1.00" stroke-linecap="butt" stroke-linejoin="miter"></g><g fill="none" color="black" stroke="currentColor" stroke-width="1.00" stroke-linecap="butt" stroke-linejoin="miter"> <path stroke='black'  d='M53.9,260.1 L62.9,260.1 M575.0,260.1 L566.0,260.1  '/> <g transform="translate(45.6,264.0)" stroke="none" fill="black" font-family="Arial" font-size="12.00"  text-anchor="end"> <text><tspan font-family="Arial" > 0.4</tspan></text> </g></g><g fill="none" color="black" stroke="currentColor" stroke-width="1.00" stroke-linecap="butt" stroke-linejoin="miter"></g><g fill="none" color="black" stroke="black" stroke-width="0.50" stroke-linecap="butt" stroke-linejoin="miter"></g><g fill="none" color="gray" stroke="currentColor" stroke-width="0.50" stroke-linecap="butt" stroke-linejoin="miter"> <path stroke='gray' stroke-dasharray='2,4' class="gridline"  d='M53.9,219.5 L575.0,219.5  '/></g><g fill="none" color="gray" stroke="gray" stroke-width="1.00" stroke-linecap="butt" stroke-linejoin="miter"></g><g fill="none" color="black" stroke="currentColor" stroke-width="1.00" stroke-linecap="butt" stroke-linejoin="miter"> <path stroke='black'  d='M53.9,219.5 L62.9,219.5 M575.0,219.5 L566.0,219.5  '/> <g transform="translate(45.6,223.4)" stroke="none" fill="black" font-family="Arial" font-size="12.00"  text-anchor="end"> <text><tspan font-family="Arial" > 0.5</tspan></text> </g></g><g fill="none" color="black" stroke="currentColor" stroke-width="1.00" stroke-linecap="butt" stroke-linejoin="miter"></g><g fill="none" color="black" stroke="black" stroke-width="0.50" stroke-linecap="butt" stroke-linejoin="miter"></g><g fill="none" color="gray" stroke="currentColor" stroke-width="0.50" stroke-linecap="butt" stroke-linejoin="miter"> <path stroke='gray' stroke-dasharray='2,4' class="gridline"  d='M53.9,179.0 L575.0,179.0  '/></g><g fill="none" color="gray" stroke="gray" stroke-width="1.00" stroke-linecap="butt" stroke-linejoin="miter"></g><g fill="none" color="black" stroke="currentColor" stroke-width="1.00" stroke-linecap="butt" stroke-linejoin="miter"> <path stroke='black'  d='M53.9,179.0 L62.9,179.0 M575.0,179.0 L566.0,179.0  '/> <g transform="translate(45.6,182.9)" stroke="none" fill="black" font-family="Arial" font-size="12.00"  text-anchor="end"> <text><tspan font-family="Arial" > 0.6</tspan></text> </g></g><g fill="none" color="black" stroke="currentColor" stroke-width="1.00" stroke-linecap="butt" stroke-linejoin="miter"></g><g fill="none" color="black" stroke="black" stroke-width="0.50" stroke-linecap="butt" stroke-linejoin="miter"></g><g fill="none" color="gray" stroke="currentColor" stroke-width="0.50" stroke-linecap="butt" stroke-linejoin="miter"> <path stroke='gray' stroke-dasharray='2,4' class="gridline"  d='M53.9,138.4 L575.0,138.4  '/></g><g fill="none" color="gray" stroke="gray" stroke-width="1.00" stroke-linecap="butt" stroke-linejoin="miter"></g><g fill="none" color="black" stroke="currentColor" stroke-width="1.00" stroke-linecap="butt" stroke-linejoin="miter"> <path stroke='black'  d='M53.9,138.4 L62.9,138.4 M575.0,138.4 L566.0,138.4  '/> <g transform="translate(45.6,142.3)" stroke="none" fill="black" font-family="Arial" font-size="12.00"  text-anchor="end"> <text><tspan font-family="Arial" > 0.7</tspan></text> </g></g><g fill="none" color="black" stroke="currentColor" stroke-width="1.00" stroke-linecap="butt" stroke-linejoin="miter"></g><g fill="none" color="black" stroke="black" stroke-width="0.50" stroke-linecap="butt" stroke-linejoin="miter"></g><g fill="none" color="gray" stroke="currentColor" stroke-width="0.50" stroke-linecap="butt" stroke-linejoin="miter"> <path stroke='gray' stroke-dasharray='2,4' class="gridline"  d='M53.9,97.8 L575.0,97.8  '/></g><g fill="none" color="gray" stroke="gray" stroke-width="1.00" stroke-linecap="butt" stroke-linejoin="miter"></g><g fill="none" color="black" stroke="currentColor" stroke-width="1.00" stroke-linecap="butt" stroke-linejoin="miter"> <path stroke='black'  d='M53.9,97.8 L62.9,97.8 M575.0,97.8 L566.0,97.8  '/> <g transform="translate(45.6,101.7)" stroke="none" fill="black" font-family="Arial" font-size="12.00"  text-anchor="end"> <text><tspan font-family="Arial" > 0.8</tspan></text> </g></g><g fill="none" color="black" stroke="currentColor" stroke-width="1.00" stroke-linecap="butt" stroke-linejoin="miter"></g><g fill="none" color="black" stroke="black" stroke-width="0.50" stroke-linecap="butt" stroke-linejoin="miter"></g><g fill="none" color="gray" stroke="currentColor" stroke-width="0.50" stroke-linecap="butt" stroke-linejoin="miter"> <path stroke='gray' stroke-dasharray='2,4' class="gridline"  d='M53.9,57.3 L575.0,57.3  '/></g><g fill="none" color="gray" stroke="gray" stroke-width="1.00" stroke-linecap="butt" stroke-linejoin="miter"></g><g fill="none" color="black" stroke="currentColor" stroke-width="1.00" stroke-linecap="butt" stroke-linejoin="miter"> <path stroke='black'  d='M53.9,57.3 L62.9,57.3 M575.0,57.3 L566.0,57.3  '/> <g transform="translate(45.6,61.2)" stroke="none" fill="black" font-family="Arial" font-size="12.00"  text-anchor="end"> <text><tspan font-family="Arial" > 0.9</tspan></text> </g></g><g fill="none" color="black" stroke="currentColor" stroke-width="1.00" stroke-linecap="butt" stroke-linejoin="miter"></g><g fill="none" color="black" stroke="black" stroke-width="0.50" stroke-linecap="butt" stroke-linejoin="miter"></g><g fill="none" color="gray" stroke="currentColor" stroke-width="0.50" stroke-linecap="butt" stroke-linejoin="miter"> <path stroke='gray' stroke-dasharray='2,4' class="gridline"  d='M53.9,16.7 L575.0,16.7  '/></g><g fill="none" color="gray" stroke="gray" stroke-width="1.00" stroke-linecap="butt" stroke-linejoin="miter"></g><g fill="none" color="black" stroke="currentColor" stroke-width="1.00" stroke-linecap="butt" stroke-linejoin="miter"> <path stroke='black'  d='M53.9,16.7 L62.9,16.7 M575.0,16.7 L566.0,16.7  '/> <g transform="translate(45.6,20.6)" stroke="none" fill="black" font-family="Arial" font-size="12.00"  text-anchor="end"> <text><tspan font-family="Arial" > 1</tspan></text> </g></g><g fill="none" color="black" stroke="currentColor" stroke-width="1.00" stroke-linecap="butt" stroke-linejoin="miter"></g><g fill="none" color="black" stroke="black" stroke-width="0.50" stroke-linecap="butt" stroke-linejoin="miter"></g><g fill="none" color="gray" stroke="currentColor" stroke-width="0.50" stroke-linecap="butt" stroke-linejoin="miter"> <path stroke='gray' stroke-dasharray='2,4' class="gridline"  d='M106.0,422.4 L106.0,16.7  '/></g><g fill="none" color="gray" stroke="gray" stroke-width="1.00" stroke-linecap="butt" stroke-linejoin="miter"></g><g fill="none" color="black" stroke="currentColor" stroke-width="1.00" stroke-linecap="butt" stroke-linejoin="miter"> <path stroke='black'  d='M106.0,422.4 L106.0,413.4 M106.0,16.7 L106.0,25.7  '/> <g transform="translate(106.0,444.3)" stroke="none" fill="black" font-family="Arial" font-size="12.00"  text-anchor="middle"> <text><tspan font-family="Arial" >-4</tspan></text> </g></g><g fill="none" color="black" stroke="currentColor" stroke-width="1.00" stroke-linecap="butt" stroke-linejoin="miter"></g><g fill="none" color="black" stroke="black" stroke-width="0.50" stroke-linecap="butt" stroke-linejoin="miter"></g><g fill="none" color="gray" stroke="currentColor" stroke-width="0.50" stroke-linecap="butt" stroke-linejoin="miter"> <path stroke='gray' stroke-dasharray='2,4' class="gridline"  d='M210.2,422.4 L210.2,16.7  '/></g><g fill="none" color="gray" stroke="gray" stroke-width="1.00" stroke-linecap="butt" stroke-linejoin="miter"></g><g fill="none" color="black" stroke="currentColor" stroke-width="1.00" stroke-linecap="butt" stroke-linejoin="miter"> <path stroke='black'  d='M210.2,422.4 L210.2,413.4 M210.2,16.7 L210.2,25.7  '/> <g transform="translate(210.2,444.3)" stroke="none" fill="black" font-family="Arial" font-size="12.00"  text-anchor="middle"> <text><tspan font-family="Arial" >-2</tspan></text> </g></g><g fill="none" color="black" stroke="currentColor" stroke-width="1.00" stroke-linecap="butt" stroke-linejoin="miter"></g><g fill="none" color="black" stroke="black" stroke-width="0.50" stroke-linecap="butt" stroke-linejoin="miter"></g><g fill="none" color="gray" stroke="currentColor" stroke-width="0.50" stroke-linecap="butt" stroke-linejoin="miter"> <path stroke='gray' stroke-dasharray='2,4' class="gridline"  d='M314.5,422.4 L314.5,16.7  '/></g><g fill="none" color="gray" stroke="gray" stroke-width="1.00" stroke-linecap="butt" stroke-linejoin="miter"></g><g fill="none" color="black" stroke="currentColor" stroke-width="1.00" stroke-linecap="butt" stroke-linejoin="miter"> <path stroke='black'  d='M314.5,422.4 L314.5,413.4 M314.5,16.7 L314.5,25.7  '/> <g transform="translate(314.5,444.3)" stroke="none" fill="black" font-family="Arial" font-size="12.00"  text-anchor="middle"> <text><tspan font-family="Arial" > 0</tspan></text> </g></g><g fill="none" color="black" stroke="currentColor" stroke-width="1.00" stroke-linecap="butt" stroke-linejoin="miter"></g><g fill="none" color="black" stroke="black" stroke-width="0.50" stroke-linecap="butt" stroke-linejoin="miter"></g><g fill="none" color="gray" stroke="currentColor" stroke-width="0.50" stroke-linecap="butt" stroke-linejoin="miter"> <path stroke='gray' stroke-dasharray='2,4' class="gridline"  d='M418.7,422.4 L418.7,413.4 M418.7,395.4 L418.7,16.7  '/></g><g fill="none" color="gray" stroke="gray" stroke-width="1.00" stroke-linecap="butt" stroke-linejoin="miter"></g><g fill="none" color="black" stroke="currentColor" stroke-width="1.00" stroke-linecap="butt" stroke-linejoin="miter"> <path stroke='black'  d='M418.7,422.4 L418.7,413.4 M418.7,16.7 L418.7,25.7  '/> <g transform="translate(418.7,444.3)" stroke="none" fill="black" font-family="Arial" font-size="12.00"  text-anchor="middle"> <text><tspan font-family="Arial" > 2</tspan></text> </g></g><g fill="none" color="black" stroke="currentColor" stroke-width="1.00" stroke-linecap="butt" stroke-linejoin="miter"></g><g fill="none" color="black" stroke="black" stroke-width="0.50" stroke-linecap="butt" stroke-linejoin="miter"></g><g fill="none" color="gray" stroke="currentColor" stroke-width="0.50" stroke-linecap="butt" stroke-linejoin="miter"> <path stroke='gray' stroke-dasharray='2,4' class="gridline"  d='M522.9,422.4 L522.9,413.4 M522.9,395.4 L522.9,16.7  '/></g><g fill="none" color="gray" stroke="gray" stroke-width="1.00" stroke-linecap="butt" stroke-linejoin="miter"></g><g fill="none" color="black" stroke="currentColor" stroke-width="1.00" stroke-linecap="butt" stroke-linejoin="miter"> <path stroke='black'  d='M522.9,422.4 L522.9,413.4 M522.9,16.7 L522.9,25.7  '/> <g transform="translate(522.9,444.3)" stroke="none" fill="black" font-family="Arial" font-size="12.00"  text-anchor="middle"> <text><tspan font-family="Arial" > 4</tspan></text> </g></g><g fill="none" color="black" stroke="currentColor" stroke-width="1.00" stroke-linecap="butt" stroke-linejoin="miter"></g><g fill="none" color="black" stroke="currentColor" stroke-width="1.00" stroke-linecap="butt" stroke-linejoin="miter"> <path stroke='black'  d='M53.9,16.7 L53.9,422.4 L575.0,422.4 L575.0,16.7 L53.9,16.7 Z  '/></g><g fill="none" color="black" stroke="currentColor" stroke-width="1.00" stroke-linecap="butt" stroke-linejoin="miter"> <g transform="translate(314.4,471.3)" stroke="none" fill="black" font-family="Arial" font-size="12.00"  text-anchor="middle"> <text><tspan font-family="Arial" >o</tspan></text> </g></g><g fill="none" color="black" stroke="currentColor" stroke-width="1.00" stroke-linecap="butt" stroke-linejoin="miter"></g> <g id="gnuplot_plot_1" >
<title>
exp(x) / (1 + exp(x))
</title>
<g fill="none" color="black" stroke="currentColor" stroke-width="1.00" stroke-linecap="butt" stroke-linejoin="miter"> <g transform="translate(507.9,408.3)" stroke="none" fill="black" font-family="Arial" font-size="12.00"  text-anchor="end"> <text>exp(x) / (1 + exp(x))</text> </g></g><g fill="none" color="black" stroke="currentColor" stroke-width="1.00" stroke-linecap="butt" stroke-linejoin="miter"> <path stroke='rgb(148,   0, 211)'  d='M516.2,404.4 L558.4,404.4 M53.9,419.7 L59.2,419.4 L64.4,419.1 L69.7,418.7 L75.0,418.3 L80.2,417.9     L85.5,417.4 L90.7,416.9 L96.0,416.4 L101.3,415.7 L106.5,415.0 L111.8,414.3 L117.1,413.4 L122.3,412.5        L127.6,411.5 L132.9,410.3 L138.1,409.1 L143.4,407.7 L148.6,406.2 L153.9,404.6 L159.2,402.8 L164.4,400.8     L169.7,398.7 L175.0,396.3 L180.2,393.7 L185.5,390.9 L190.8,387.8 L196.0,384.5 L201.3,380.9 L206.5,377.0     L211.8,372.7 L217.1,368.2 L222.3,363.2 L227.6,357.9 L232.9,352.3 L238.1,346.2 L243.4,339.8 L248.7,332.9     L253.9,325.7 L259.2,318.1 L264.4,310.0 L269.7,301.6 L275.0,292.9 L280.2,283.8 L285.5,274.5 L290.8,264.9     L296.0,255.0 L301.3,245.0 L306.6,234.9 L311.8,224.7 L317.1,214.4 L322.3,204.2 L327.6,194.1 L332.9,184.1     L338.1,174.2 L343.4,164.6 L348.7,155.3 L353.9,146.2 L359.2,137.5 L364.5,129.1 L369.7,121.0 L375.0,113.4     L380.2,106.2 L385.5,99.3 L390.8,92.9 L396.0,86.8 L401.3,81.2 L406.6,75.9 L411.8,70.9 L417.1,66.4        L422.4,62.1 L427.6,58.2 L432.9,54.6 L438.1,51.3 L443.4,48.2 L448.7,45.4 L453.9,42.8 L459.2,40.4     L464.5,38.3 L469.7,36.3 L475.0,34.5 L480.3,32.9 L485.5,31.4 L490.8,30.0 L496.0,28.8 L501.3,27.6     L506.6,26.6 L511.8,25.7 L517.1,24.8 L522.4,24.1 L527.6,23.4 L532.9,22.7 L538.2,22.2 L543.4,21.7     L548.7,21.2 L553.9,20.8 L559.2,20.4 L564.5,20.0 L569.7,19.7 L575.0,19.4  '/></g> </g><g fill="none" color="white" stroke="rgb(148,   0, 211)" stroke-width="2.00" stroke-linecap="butt" stroke-linejoin="miter"></g><g fill="none" color="black" stroke="currentColor" stroke-width="2.00" stroke-linecap="butt" stroke-linejoin="miter"></g><g fill="none" color="black" stroke="black" stroke-width="1.00" stroke-linecap="butt" stroke-linejoin="miter"></g><g fill="none" color="black" stroke="currentColor" stroke-width="1.00" stroke-linecap="butt" stroke-linejoin="miter"> <path stroke='black'  d='M53.9,16.7 L53.9,422.4 L575.0,422.4 L575.0,16.7 L53.9,16.7 Z  '/></g><g fill="none" color="black" stroke="currentColor" stroke-width="1.00" stroke-linecap="butt" stroke-linejoin="miter"></g></g>
</svg>
<p>というわけで、スコアを直接学習するのではなく、確率を学習するものだと思うことにする. 教師信号は実際の大小関係 <span class="math inline">\((\succ)\)</span> を使って、</p>
<p><span class="math display">\[P_{ij}^* = \begin{cases}
1   &amp; \text{when} ~ x_i \succ x_j \\
0   &amp; \text{when} ~ x_i \prec x_j \\
0.5 &amp; \text{when} ~ x_i=x_j
\end{cases}\]</span></p>
<p>教師信号でも矢張り <span class="math inline">\(P_{ji}^* = 1 - P_{ij}^*\)</span> が成立するようになっている.</p>
<p>これを使って損失関数は binary cross-entropy を用いる. <span class="math display">\[\mathcal{L} = - P_{ij}^* \log P_{ij} - P_{ji}^* \log P_{ji}\]</span></p>
<p><span class="math inline">\(P_{ij}\)</span> の式を頑張って代入すると、 <span class="math display">\[\mathcal{L} = - P_{ij}^* o_{ij} + \log \left( 1 + \exp o_{ij} \right)\]</span></p>
<?xml version="1.0" encoding="utf-8"  standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg width="600" height="480" viewBox="0 0 600 480" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<title>
Gnuplot
</title>
<desc>Produced by GNUPLOT 5.0 patchlevel 5 </desc><g id="gnuplot_canvas"><rect x="0" y="0" width="600" height="480" fill="none"/><defs> <circle id='gpDot' r='0.5' stroke-width='0.5'/> <path id='gpPt0' stroke-width='0.222' stroke='currentColor' d='M-1,0 h2 M0,-1 v2'/> <path id='gpPt1' stroke-width='0.222' stroke='currentColor' d='M-1,-1 L1,1 M1,-1 L-1,1'/> <path id='gpPt2' stroke-width='0.222' stroke='currentColor' d='M-1,0 L1,0 M0,-1 L0,1 M-1,-1 L1,1 M-1,1 L1,-1'/> <rect id='gpPt3' stroke-width='0.222' stroke='currentColor' x='-1' y='-1' width='2' height='2'/> <rect id='gpPt4' stroke-width='0.222' stroke='currentColor' fill='currentColor' x='-1' y='-1' width='2' height='2'/> <circle id='gpPt5' stroke-width='0.222' stroke='currentColor' cx='0' cy='0' r='1'/> <use xlink:href='#gpPt5' id='gpPt6' fill='currentColor' stroke='none'/> <path id='gpPt7' stroke-width='0.222' stroke='currentColor' d='M0,-1.33 L-1.33,0.67 L1.33,0.67 z'/> <use xlink:href='#gpPt7' id='gpPt8' fill='currentColor' stroke='none'/> <use xlink:href='#gpPt7' id='gpPt9' stroke='currentColor' transform='rotate(180)'/> <use xlink:href='#gpPt9' id='gpPt10' fill='currentColor' stroke='none'/> <use xlink:href='#gpPt3' id='gpPt11' stroke='currentColor' transform='rotate(45)'/> <use xlink:href='#gpPt11' id='gpPt12' fill='currentColor' stroke='none'/> <path id='gpPt13' stroke-width='0.222' stroke='currentColor' d='M0,1.330 L1.265,0.411 L0.782,-1.067 L-0.782,-1.076 L-1.265,0.411 z'/> <use xlink:href='#gpPt13' id='gpPt14' fill='currentColor' stroke='none'/> <filter id='textbox' filterUnits='objectBoundingBox' x='0' y='0' height='1' width='1'> <feFlood flood-color='white' flood-opacity='1' result='bgnd'/> <feComposite in='SourceGraphic' in2='bgnd' operator='atop'/> </filter> <filter id='greybox' filterUnits='objectBoundingBox' x='0' y='0' height='1' width='1'> <feFlood flood-color='lightgrey' flood-opacity='1' result='grey'/> <feComposite in='SourceGraphic' in2='grey' operator='atop'/> </filter></defs><g fill="none" color="white" stroke="currentColor" stroke-width="1.00" stroke-linecap="butt" stroke-linejoin="miter"></g><g fill="none" color="black" stroke="currentColor" stroke-width="1.00" stroke-linecap="butt" stroke-linejoin="miter"></g><g fill="none" color="black" stroke="black" stroke-width="0.50" stroke-linecap="butt" stroke-linejoin="miter"></g><g fill="none" color="gray" stroke="currentColor" stroke-width="0.50" stroke-linecap="butt" stroke-linejoin="miter"> <path stroke='gray' stroke-dasharray='2,4' class="gridline"  d='M37.3,422.4 L575.0,422.4  '/></g><g fill="none" color="gray" stroke="gray" stroke-width="1.00" stroke-linecap="butt" stroke-linejoin="miter"></g><g fill="none" color="black" stroke="currentColor" stroke-width="1.00" stroke-linecap="butt" stroke-linejoin="miter"> <path stroke='black'  d='M37.3,422.4 L46.3,422.4 M575.0,422.4 L566.0,422.4  '/> <g transform="translate(29.0,426.3)" stroke="none" fill="black" font-family="Arial" font-size="12.00"  text-anchor="end"> <text><tspan font-family="Arial" > 0</tspan></text> </g></g><g fill="none" color="black" stroke="currentColor" stroke-width="1.00" stroke-linecap="butt" stroke-linejoin="miter"></g><g fill="none" color="black" stroke="black" stroke-width="0.50" stroke-linecap="butt" stroke-linejoin="miter"></g><g fill="none" color="gray" stroke="currentColor" stroke-width="0.50" stroke-linecap="butt" stroke-linejoin="miter"> <path stroke='gray' stroke-dasharray='2,4' class="gridline"  d='M37.3,354.8 L575.0,354.8  '/></g><g fill="none" color="gray" stroke="gray" stroke-width="1.00" stroke-linecap="butt" stroke-linejoin="miter"></g><g fill="none" color="black" stroke="currentColor" stroke-width="1.00" stroke-linecap="butt" stroke-linejoin="miter"> <path stroke='black'  d='M37.3,354.8 L46.3,354.8 M575.0,354.8 L566.0,354.8  '/> <g transform="translate(29.0,358.7)" stroke="none" fill="black" font-family="Arial" font-size="12.00"  text-anchor="end"> <text><tspan font-family="Arial" > 1</tspan></text> </g></g><g fill="none" color="black" stroke="currentColor" stroke-width="1.00" stroke-linecap="butt" stroke-linejoin="miter"></g><g fill="none" color="black" stroke="black" stroke-width="0.50" stroke-linecap="butt" stroke-linejoin="miter"></g><g fill="none" color="gray" stroke="currentColor" stroke-width="0.50" stroke-linecap="butt" stroke-linejoin="miter"> <path stroke='gray' stroke-dasharray='2,4' class="gridline"  d='M37.3,287.2 L575.0,287.2  '/></g><g fill="none" color="gray" stroke="gray" stroke-width="1.00" stroke-linecap="butt" stroke-linejoin="miter"></g><g fill="none" color="black" stroke="currentColor" stroke-width="1.00" stroke-linecap="butt" stroke-linejoin="miter"> <path stroke='black'  d='M37.3,287.2 L46.3,287.2 M575.0,287.2 L566.0,287.2  '/> <g transform="translate(29.0,291.1)" stroke="none" fill="black" font-family="Arial" font-size="12.00"  text-anchor="end"> <text><tspan font-family="Arial" > 2</tspan></text> </g></g><g fill="none" color="black" stroke="currentColor" stroke-width="1.00" stroke-linecap="butt" stroke-linejoin="miter"></g><g fill="none" color="black" stroke="black" stroke-width="0.50" stroke-linecap="butt" stroke-linejoin="miter"></g><g fill="none" color="gray" stroke="currentColor" stroke-width="0.50" stroke-linecap="butt" stroke-linejoin="miter"> <path stroke='gray' stroke-dasharray='2,4' class="gridline"  d='M37.3,219.5 L575.0,219.5  '/></g><g fill="none" color="gray" stroke="gray" stroke-width="1.00" stroke-linecap="butt" stroke-linejoin="miter"></g><g fill="none" color="black" stroke="currentColor" stroke-width="1.00" stroke-linecap="butt" stroke-linejoin="miter"> <path stroke='black'  d='M37.3,219.5 L46.3,219.5 M575.0,219.5 L566.0,219.5  '/> <g transform="translate(29.0,223.4)" stroke="none" fill="black" font-family="Arial" font-size="12.00"  text-anchor="end"> <text><tspan font-family="Arial" > 3</tspan></text> </g></g><g fill="none" color="black" stroke="currentColor" stroke-width="1.00" stroke-linecap="butt" stroke-linejoin="miter"></g><g fill="none" color="black" stroke="black" stroke-width="0.50" stroke-linecap="butt" stroke-linejoin="miter"></g><g fill="none" color="gray" stroke="currentColor" stroke-width="0.50" stroke-linecap="butt" stroke-linejoin="miter"> <path stroke='gray' stroke-dasharray='2,4' class="gridline"  d='M37.3,151.9 L575.0,151.9  '/></g><g fill="none" color="gray" stroke="gray" stroke-width="1.00" stroke-linecap="butt" stroke-linejoin="miter"></g><g fill="none" color="black" stroke="currentColor" stroke-width="1.00" stroke-linecap="butt" stroke-linejoin="miter"> <path stroke='black'  d='M37.3,151.9 L46.3,151.9 M575.0,151.9 L566.0,151.9  '/> <g transform="translate(29.0,155.8)" stroke="none" fill="black" font-family="Arial" font-size="12.00"  text-anchor="end"> <text><tspan font-family="Arial" > 4</tspan></text> </g></g><g fill="none" color="black" stroke="currentColor" stroke-width="1.00" stroke-linecap="butt" stroke-linejoin="miter"></g><g fill="none" color="black" stroke="black" stroke-width="0.50" stroke-linecap="butt" stroke-linejoin="miter"></g><g fill="none" color="gray" stroke="currentColor" stroke-width="0.50" stroke-linecap="butt" stroke-linejoin="miter"> <path stroke='gray' stroke-dasharray='2,4' class="gridline"  d='M37.3,84.3 L575.0,84.3  '/></g><g fill="none" color="gray" stroke="gray" stroke-width="1.00" stroke-linecap="butt" stroke-linejoin="miter"></g><g fill="none" color="black" stroke="currentColor" stroke-width="1.00" stroke-linecap="butt" stroke-linejoin="miter"> <path stroke='black'  d='M37.3,84.3 L46.3,84.3 M575.0,84.3 L566.0,84.3  '/> <g transform="translate(29.0,88.2)" stroke="none" fill="black" font-family="Arial" font-size="12.00"  text-anchor="end"> <text><tspan font-family="Arial" > 5</tspan></text> </g></g><g fill="none" color="black" stroke="currentColor" stroke-width="1.00" stroke-linecap="butt" stroke-linejoin="miter"></g><g fill="none" color="black" stroke="black" stroke-width="0.50" stroke-linecap="butt" stroke-linejoin="miter"></g><g fill="none" color="gray" stroke="currentColor" stroke-width="0.50" stroke-linecap="butt" stroke-linejoin="miter"> <path stroke='gray' stroke-dasharray='2,4' class="gridline"  d='M37.3,16.7 L575.0,16.7  '/></g><g fill="none" color="gray" stroke="gray" stroke-width="1.00" stroke-linecap="butt" stroke-linejoin="miter"></g><g fill="none" color="black" stroke="currentColor" stroke-width="1.00" stroke-linecap="butt" stroke-linejoin="miter"> <path stroke='black'  d='M37.3,16.7 L46.3,16.7 M575.0,16.7 L566.0,16.7  '/> <g transform="translate(29.0,20.6)" stroke="none" fill="black" font-family="Arial" font-size="12.00"  text-anchor="end"> <text><tspan font-family="Arial" > 6</tspan></text> </g></g><g fill="none" color="black" stroke="currentColor" stroke-width="1.00" stroke-linecap="butt" stroke-linejoin="miter"></g><g fill="none" color="black" stroke="black" stroke-width="0.50" stroke-linecap="butt" stroke-linejoin="miter"></g><g fill="none" color="gray" stroke="currentColor" stroke-width="0.50" stroke-linecap="butt" stroke-linejoin="miter"> <path stroke='gray' stroke-dasharray='2,4' class="gridline"  d='M91.1,422.4 L91.1,16.7  '/></g><g fill="none" color="gray" stroke="gray" stroke-width="1.00" stroke-linecap="butt" stroke-linejoin="miter"></g><g fill="none" color="black" stroke="currentColor" stroke-width="1.00" stroke-linecap="butt" stroke-linejoin="miter"> <path stroke='black'  d='M91.1,422.4 L91.1,413.4 M91.1,16.7 L91.1,25.7  '/> <g transform="translate(91.1,444.3)" stroke="none" fill="black" font-family="Arial" font-size="12.00"  text-anchor="middle"> <text><tspan font-family="Arial" >-4</tspan></text> </g></g><g fill="none" color="black" stroke="currentColor" stroke-width="1.00" stroke-linecap="butt" stroke-linejoin="miter"></g><g fill="none" color="black" stroke="black" stroke-width="0.50" stroke-linecap="butt" stroke-linejoin="miter"></g><g fill="none" color="gray" stroke="currentColor" stroke-width="0.50" stroke-linecap="butt" stroke-linejoin="miter"> <path stroke='gray' stroke-dasharray='2,4' class="gridline"  d='M198.6,422.4 L198.6,16.7  '/></g><g fill="none" color="gray" stroke="gray" stroke-width="1.00" stroke-linecap="butt" stroke-linejoin="miter"></g><g fill="none" color="black" stroke="currentColor" stroke-width="1.00" stroke-linecap="butt" stroke-linejoin="miter"> <path stroke='black'  d='M198.6,422.4 L198.6,413.4 M198.6,16.7 L198.6,25.7  '/> <g transform="translate(198.6,444.3)" stroke="none" fill="black" font-family="Arial" font-size="12.00"  text-anchor="middle"> <text><tspan font-family="Arial" >-2</tspan></text> </g></g><g fill="none" color="black" stroke="currentColor" stroke-width="1.00" stroke-linecap="butt" stroke-linejoin="miter"></g><g fill="none" color="black" stroke="black" stroke-width="0.50" stroke-linecap="butt" stroke-linejoin="miter"></g><g fill="none" color="gray" stroke="currentColor" stroke-width="0.50" stroke-linecap="butt" stroke-linejoin="miter"> <path stroke='gray' stroke-dasharray='2,4' class="gridline"  d='M306.2,422.4 L306.2,16.7  '/></g><g fill="none" color="gray" stroke="gray" stroke-width="1.00" stroke-linecap="butt" stroke-linejoin="miter"></g><g fill="none" color="black" stroke="currentColor" stroke-width="1.00" stroke-linecap="butt" stroke-linejoin="miter"> <path stroke='black'  d='M306.2,422.4 L306.2,413.4 M306.2,16.7 L306.2,25.7  '/> <g transform="translate(306.2,444.3)" stroke="none" fill="black" font-family="Arial" font-size="12.00"  text-anchor="middle"> <text><tspan font-family="Arial" > 0</tspan></text> </g></g><g fill="none" color="black" stroke="currentColor" stroke-width="1.00" stroke-linecap="butt" stroke-linejoin="miter"></g><g fill="none" color="black" stroke="black" stroke-width="0.50" stroke-linecap="butt" stroke-linejoin="miter"></g><g fill="none" color="gray" stroke="currentColor" stroke-width="0.50" stroke-linecap="butt" stroke-linejoin="miter"> <path stroke='gray' stroke-dasharray='2,4' class="gridline"  d='M413.7,422.4 L413.7,16.7  '/></g><g fill="none" color="gray" stroke="gray" stroke-width="1.00" stroke-linecap="butt" stroke-linejoin="miter"></g><g fill="none" color="black" stroke="currentColor" stroke-width="1.00" stroke-linecap="butt" stroke-linejoin="miter"> <path stroke='black'  d='M413.7,422.4 L413.7,413.4 M413.7,16.7 L413.7,25.7  '/> <g transform="translate(413.7,444.3)" stroke="none" fill="black" font-family="Arial" font-size="12.00"  text-anchor="middle"> <text><tspan font-family="Arial" > 2</tspan></text> </g></g><g fill="none" color="black" stroke="currentColor" stroke-width="1.00" stroke-linecap="butt" stroke-linejoin="miter"></g><g fill="none" color="black" stroke="black" stroke-width="0.50" stroke-linecap="butt" stroke-linejoin="miter"></g><g fill="none" color="gray" stroke="currentColor" stroke-width="0.50" stroke-linecap="butt" stroke-linejoin="miter"> <path stroke='gray' stroke-dasharray='2,4' class="gridline"  d='M521.2,422.4 L521.2,79.7 M521.2,25.7 L521.2,16.7  '/></g><g fill="none" color="gray" stroke="gray" stroke-width="1.00" stroke-linecap="butt" stroke-linejoin="miter"></g><g fill="none" color="black" stroke="currentColor" stroke-width="1.00" stroke-linecap="butt" stroke-linejoin="miter"> <path stroke='black'  d='M521.2,422.4 L521.2,413.4 M521.2,16.7 L521.2,25.7  '/> <g transform="translate(521.2,444.3)" stroke="none" fill="black" font-family="Arial" font-size="12.00"  text-anchor="middle"> <text><tspan font-family="Arial" > 4</tspan></text> </g></g><g fill="none" color="black" stroke="currentColor" stroke-width="1.00" stroke-linecap="butt" stroke-linejoin="miter"></g><g fill="none" color="black" stroke="currentColor" stroke-width="1.00" stroke-linecap="butt" stroke-linejoin="miter"> <path stroke='black'  d='M37.3,16.7 L37.3,422.4 L575.0,422.4 L575.0,16.7 L37.3,16.7 Z  '/></g><g fill="none" color="black" stroke="currentColor" stroke-width="1.00" stroke-linecap="butt" stroke-linejoin="miter"> <g transform="translate(306.1,471.3)" stroke="none" fill="black" font-family="Arial" font-size="12.00"  text-anchor="middle"> <text><tspan font-family="Arial" >o</tspan></text> </g></g><g fill="none" color="black" stroke="currentColor" stroke-width="1.00" stroke-linecap="butt" stroke-linejoin="miter"></g> <g id="gnuplot_plot_1" >
<title>
L(P*=1)
</title>
<g fill="none" color="black" stroke="currentColor" stroke-width="1.00" stroke-linecap="butt" stroke-linejoin="miter"> <g transform="translate(507.9,38.6)" stroke="none" fill="black" font-family="Arial" font-size="12.00"  text-anchor="end"> <text><tspan font-family="Arial" >L(P</tspan><tspan font-family="Arial"  font-size="9.6" dy="-6.00px">*</tspan><tspan font-family="Arial"  font-size="12.0" dy="6.00px">=1)</tspan></text> </g></g><g fill="none" color="black" stroke="currentColor" stroke-width="1.00" stroke-linecap="butt" stroke-linejoin="miter"> <path stroke='rgb(148,   0, 211)'  d='M516.2,34.7 L558.4,34.7 M37.3,83.9 L42.7,90.6 L48.2,97.4 L53.6,104.2 L59.0,111.0 L64.5,117.7      L69.9,124.5 L75.3,131.2 L80.8,137.9 L86.2,144.7 L91.6,151.4 L97.0,158.1 L102.5,164.8 L107.9,171.4       L113.3,178.1 L118.8,184.7 L124.2,191.3 L129.6,197.9 L135.1,204.5 L140.5,211.1 L145.9,217.6 L151.4,224.0     L156.8,230.5 L162.2,236.9 L167.7,243.3 L173.1,249.6 L178.5,255.9 L183.9,262.1 L189.4,268.3 L194.8,274.4     L200.2,280.4 L205.7,286.3 L211.1,292.2 L216.5,298.0 L222.0,303.7 L227.4,309.3 L232.8,314.8 L238.3,320.2     L243.7,325.4 L249.1,330.6 L254.6,335.6 L260.0,340.5 L265.4,345.2 L270.8,349.8 L276.3,354.2 L281.7,358.4     L287.1,362.5 L292.6,366.5 L298.0,370.2 L303.4,373.8 L308.9,377.2 L314.3,380.5 L319.7,383.5 L325.2,386.4     L330.6,389.2 L336.0,391.7 L341.5,394.1 L346.9,396.4 L352.3,398.5 L357.7,400.5 L363.2,402.3 L368.6,404.0     L374.0,405.6 L379.5,407.0 L384.9,408.3 L390.3,409.6 L395.8,410.7 L401.2,411.7 L406.6,412.7 L412.1,413.6     L417.5,414.4 L422.9,415.1 L428.4,415.8 L433.8,416.4 L439.2,416.9 L444.6,417.4 L450.1,417.9 L455.5,418.3     L460.9,418.7 L466.4,419.0 L471.8,419.4 L477.2,419.6 L482.7,419.9 L488.1,420.1 L493.5,420.4 L499.0,420.6     L504.4,420.7 L509.8,420.9 L515.3,421.0 L520.7,421.2 L526.1,421.3 L531.5,421.4 L537.0,421.5 L542.4,421.6     L547.8,421.6 L553.3,421.7 L558.7,421.8 L564.1,421.8 L569.6,421.9 L575.0,421.9  '/></g> </g> <g id="gnuplot_plot_2" >
<title>
L(P*=0)
</title>
<g fill="none" color="black" stroke="currentColor" stroke-width="1.00" stroke-linecap="butt" stroke-linejoin="miter"> <g transform="translate(507.9,56.6)" stroke="none" fill="black" font-family="Arial" font-size="12.00"  text-anchor="end"> <text><tspan font-family="Arial" >L(P</tspan><tspan font-family="Arial"  font-size="9.6" dy="-6.00px">*</tspan><tspan font-family="Arial"  font-size="12.0" dy="6.00px">=0)</tspan></text> </g></g><g fill="none" color="black" stroke="currentColor" stroke-width="1.00" stroke-linecap="butt" stroke-linejoin="miter"> <path stroke='rgb(  0, 158, 115)'  d='M516.2,52.7 L558.4,52.7 M37.3,421.9 L42.7,421.9 L48.2,421.8 L53.6,421.8 L59.0,421.7 L64.5,421.6       L69.9,421.6 L75.3,421.5 L80.8,421.4 L86.2,421.3 L91.6,421.2 L97.0,421.0 L102.5,420.9 L107.9,420.7       L113.3,420.6 L118.8,420.4 L124.2,420.1 L129.6,419.9 L135.1,419.6 L140.5,419.4 L145.9,419.0 L151.4,418.7     L156.8,418.3 L162.2,417.9 L167.7,417.4 L173.1,416.9 L178.5,416.4 L183.9,415.8 L189.4,415.1 L194.8,414.4     L200.2,413.6 L205.7,412.7 L211.1,411.7 L216.5,410.7 L222.0,409.6 L227.4,408.3 L232.8,407.0 L238.3,405.6     L243.7,404.0 L249.1,402.3 L254.6,400.5 L260.0,398.5 L265.4,396.4 L270.8,394.1 L276.3,391.7 L281.7,389.2     L287.1,386.4 L292.6,383.5 L298.0,380.5 L303.4,377.2 L308.9,373.8 L314.3,370.2 L319.7,366.5 L325.2,362.5     L330.6,358.4 L336.0,354.2 L341.5,349.8 L346.9,345.2 L352.3,340.5 L357.7,335.6 L363.2,330.6 L368.6,325.4     L374.0,320.2 L379.5,314.8 L384.9,309.3 L390.3,303.7 L395.8,298.0 L401.2,292.2 L406.6,286.3 L412.1,280.4     L417.5,274.4 L422.9,268.3 L428.4,262.1 L433.8,255.9 L439.2,249.6 L444.6,243.3 L450.1,236.9 L455.5,230.5     L460.9,224.0 L466.4,217.6 L471.8,211.1 L477.2,204.5 L482.7,197.9 L488.1,191.3 L493.5,184.7 L499.0,178.1     L504.4,171.4 L509.8,164.8 L515.3,158.1 L520.7,151.4 L526.1,144.7 L531.5,137.9 L537.0,131.2 L542.4,124.5     L547.8,117.7 L553.3,111.0 L558.7,104.2 L564.1,97.4 L569.6,90.6 L575.0,83.9  '/></g> </g> <g id="gnuplot_plot_3" >
<title>
L(P*=0.5)
</title>
<g fill="none" color="black" stroke="currentColor" stroke-width="1.00" stroke-linecap="butt" stroke-linejoin="miter"> <g transform="translate(507.9,74.6)" stroke="none" fill="black" font-family="Arial" font-size="12.00"  text-anchor="end"> <text><tspan font-family="Arial" >L(P</tspan><tspan font-family="Arial"  font-size="9.6" dy="-6.00px">*</tspan><tspan font-family="Arial"  font-size="12.0" dy="6.00px">=0.5)</tspan></text> </g></g><g fill="none" color="black" stroke="currentColor" stroke-width="1.00" stroke-linecap="butt" stroke-linejoin="miter"> <path stroke='rgb( 86, 180, 233)'  d='M516.2,70.7 L558.4,70.7 M37.3,252.9 L42.7,256.3 L48.2,259.6 L53.6,263.0 L59.0,266.3 L64.5,269.7       L69.9,273.0 L75.3,276.3 L80.8,279.7 L86.2,283.0 L91.6,286.3 L97.0,289.6 L102.5,292.8 L107.9,296.1       L113.3,299.3 L118.8,302.5 L124.2,305.7 L129.6,308.9 L135.1,312.1 L140.5,315.2 L145.9,318.3 L151.4,321.4     L156.8,324.4 L162.2,327.4 L167.7,330.4 L173.1,333.3 L178.5,336.1 L183.9,338.9 L189.4,341.7 L194.8,344.4     L200.2,347.0 L205.7,349.5 L211.1,352.0 L216.5,354.4 L222.0,356.6 L227.4,358.8 L232.8,360.9 L238.3,362.9     L243.7,364.7 L249.1,366.4 L254.6,368.0 L260.0,369.5 L265.4,370.8 L270.8,372.0 L276.3,373.0 L281.7,373.8     L287.1,374.5 L292.6,375.0 L298.0,375.3 L303.4,375.5 L308.9,375.5 L314.3,375.3 L319.7,375.0 L325.2,374.5     L330.6,373.8 L336.0,373.0 L341.5,372.0 L346.9,370.8 L352.3,369.5 L357.7,368.0 L363.2,366.4 L368.6,364.7     L374.0,362.9 L379.5,360.9 L384.9,358.8 L390.3,356.6 L395.8,354.4 L401.2,352.0 L406.6,349.5 L412.1,347.0     L417.5,344.4 L422.9,341.7 L428.4,338.9 L433.8,336.1 L439.2,333.3 L444.6,330.4 L450.1,327.4 L455.5,324.4     L460.9,321.4 L466.4,318.3 L471.8,315.2 L477.2,312.1 L482.7,308.9 L488.1,305.7 L493.5,302.5 L499.0,299.3     L504.4,296.1 L509.8,292.8 L515.3,289.6 L520.7,286.3 L526.1,283.0 L531.5,279.7 L537.0,276.3 L542.4,273.0     L547.8,269.7 L553.3,266.3 L558.7,263.0 L564.1,259.6 L569.6,256.3 L575.0,252.9  '/></g> </g><g fill="none" color="white" stroke="rgb( 86, 180, 233)" stroke-width="2.00" stroke-linecap="butt" stroke-linejoin="miter"></g><g fill="none" color="black" stroke="currentColor" stroke-width="2.00" stroke-linecap="butt" stroke-linejoin="miter"></g><g fill="none" color="black" stroke="black" stroke-width="1.00" stroke-linecap="butt" stroke-linejoin="miter"></g><g fill="none" color="black" stroke="currentColor" stroke-width="1.00" stroke-linecap="butt" stroke-linejoin="miter"> <path stroke='black'  d='M37.3,16.7 L37.3,422.4 L575.0,422.4 L575.0,16.7 L37.3,16.7 Z  '/></g><g fill="none" color="black" stroke="currentColor" stroke-width="1.00" stroke-linecap="butt" stroke-linejoin="miter"></g></g>
</svg>
<h3 id="確率合成">確率合成</h3>
<p>確率が先ほどのようにスコアの差のシグモイドで表現できていると仮定すると、 <span class="math inline">\(P_{ij}, P_{jk}\)</span> から <span class="math inline">\(P_{ik}\)</span> を求める事ができて、</p>
<p><span class="math display">\[P_{ik} = \frac{P_{ij} P_{jk}}{
1 + 2 P_{ij} P_{jk} - P_{ij} - P_{jk}
}\]</span></p>
<h2 id="参考文献">参考文献</h2>
<div class="footnotes">
<hr />
<ol>
<li id="fn1"><p><a href="http://icml.cc/2015/wp-content/uploads/2015/06/icml_ranking.pdf" class="uri">http://icml.cc/2015/wp-content/uploads/2015/06/icml_ranking.pdf</a><a href="#fnref1">↩</a></p></li>
<li id="fn2"><p><a href="http://qiita.com/sz_dr/items/0e50120318527a928407">ニューラルネットワークを用いたランク学習(ChainerによるRankNetの実装) - Qiita</a><a href="#fnref2">↩</a></p></li>
</ol>
</div>
<!--

  HTML として pandoc -B で include する.

  <H2> を列挙してそれらにリンクを貼った toc を id='toc' に埋め込む.
  markdown で書いてるだろうから例として次のような段落を書けばよい.

```
## INDEX
<div id=toc></div>
```

  used in
  - /memo/gnuplot
  - /memo/linux
  - /memo/imagemagick

-->
<script>
(function() {
  var sections = document.getElementsByTagName('h2');
  var i;
  var OL = document.createElement('ol');
  for (i=0; i < sections.length; ++i) {
    var LI = document.createElement('li');
    var A = document.createElement('a');
    A.innerHTML = sections[i].innerHTML;
    if (A.innerHTML.toUpperCase() == 'INDEX') continue;
    A.href = '#' + i;
    LI.appendChild(A);
    OL.appendChild(LI);

    var PREF = document.createElement('a');
    PREF.name = i;
    sections[i].appendChild(PREF);
  }

  var done = false;
  function work() {
    if (done) return;
    if ( document.getElementById('toc') === null) return; // no toc element
    document.getElementById('toc').appendChild(OL);
    done = true;
  };

  window.onload = work;
  setTimeout(work,800);
}());
</script>
</body>
</html>
